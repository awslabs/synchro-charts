{"version":3,"sources":["../node_modules/@amzn/bp-components/dist/esm-es5/index.mjs","../node_modules/@amzn/bp-components/dist/esm-es5/getVisibleData-38130c2d.js","../node_modules/@amzn/bp-components/dist/esm-es5/index-904ee6b2.js","../node_modules/@amzn/bp-components/dist/esm-es5/number-1681647b.js","../node_modules/@amzn/bp-components/dist/esm-es5/activePoints-617217f7.js","../node_modules/@amzn/bp-components/dist/esm-es5/bp-error-badge_14.entry.js","../node_modules/@amzn/bp-components/dist/esm-es5/constants-2dc21ff9.js","../node_modules/@amzn/bp-components/dist/esm-es5/time-cc688558.js","../node_modules/@amzn/bp-components/dist/esm-es5/chartDefaults-5713566e.js","../node_modules/@amzn/bp-components/dist/esm-es5/webglContext-8b607584.js"],"names":["pointBisector","bisector","p","x","getVisibleData","data","_a","includeBoundaryPoints","start","end","length","startIndex","Math","max","left","endIndex","min","right","slice","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","commonjsGlobal","Object","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","nativeMin","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","this","toNumber","isObject","cancel","clearTimeout","flush","value","type","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","lodash_throttle","precision","num","digits","split","integer","fractional","Number","parseFloat","toPrecision","closestPoint","dataPoints","date","idx","leftPoint","rightPoint","activePoints","viewPort","dataStreams","selectedDate","allowMultipleDates","points","map","stream","assign","filter","id","streamId","point","sortedPoints","sort","p1","p2","abs","getTime","__spreadArrays","s","i","il","r","Array","k","a","j","jl","BpErrorBadge","hostRef","registerInstance","render","h","class","style","classnames","createCommonjsModule","module","hasOwn","hasOwnProperty","classNames","classes","arg","argType","push","isArray","inner","key","join","exports","default","window","BpLoadingSpinner","size","_d","dark","width","height","viewBox","d","y","in","stdDeviation","transform","xlinkHref","MonitorDataStreamInfo","_this_1","updateName","name","updateDataStreamName","dataStreamInfo","getFontColor","activePoint","breachedThreshold","getBreachedThreshold","thresholds","color","streamInfoStyle","isEditing","position","top","Host","isLoading","backgroundColor","onNameChange","unit","isBrowser","document","navigator","timeoutDuration","longerTimeoutBrowsers","userAgent","indexOf","Promise","fn","called","resolve","then","scheduled","isFunction","functionToCheck","getStyleComputedProperty","element","property","nodeType","css","ownerDocument","defaultView","getComputedStyle","getParentNode","nodeName","parentNode","host","getScrollParent","body","_getStyleComputedProp","overflow","overflowX","overflowY","getReferenceNode","reference","referenceNode","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","nextElementSibling","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","range","createRange","setStart","setEnd","commonAncestorContainer","contains","firstElementChild","isOffsetContainer","element1root","getScroll","side","upperSide","html","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","modifier","bottom","getBordersSize","styles","axis","sideA","sideB","getSize","computedStyle","getWindowSizes","classCallCheck","instance","Constructor","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","obj","_extends","source","getClientRect","offsets","getBoundingClientRect","e","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","children","parent","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","isFixed","getFixedPositionOffsetParent","parentElement","el","getBoundaries","popper","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","_ref","computeAutoPlacement","placement","refRect","rects","sortedAreas","keys","area","b","filteredAreas","_ref2","computedPlacement","variation","getReferenceOffsets","state","commonOffsetParent","getOuterSizes","marginBottom","marginRight","getOppositePlacement","hash","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","runModifiers","modifiers","ends","prop","findIndex","cur","match","forEach","console","warn","enabled","update","isDestroyed","arrowStyles","attributes","flipped","positionFixed","flip","originalPlacement","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","some","getSupportedPropertyName","prefixes","upperProp","charAt","toUpperCase","prefix","toCheck","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","removeChild","getWindow","setupEventListeners","updateBound","addEventListener","passive","scrollElement","attachToScrollParents","event","callback","scrollParents","isBody","eventsEnabled","enableEventListeners","scheduleUpdate","cancelAnimationFrame","removeEventListener","isNumeric","n","isNaN","isFinite","setStyles","isFirefox","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","placements","validPlacements","clockwise","counter","index","concat","reverse","BEHAVIORS","parseOffset","basePlacement","useHeight","fragments","frag","trim","divider","search","splitRegex","ops","op","mergeWithPrevious","reduce","str","toValue","index2","Defaults","shift","shiftvariation","_data$offsets","isVertical","shiftOffsets","preventOverflow","transformProp","popperStyles","priority","primary","escapeWithReference","secondary","keepTogether","floor","opSide","arrow","_data$offsets$arrow","arrowElement","querySelector","len","sideCapitalized","toLowerCase","altSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","round","placementOpposite","flipOrder","behavior","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","getOppositeVariation","subtractLength","hide","bound","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","shouldRound","noRound","v","referenceWidth","popperWidth","isVariation","horizontalToInteger","verticalToInteger","getRoundedOffsets","devicePixelRatio","prefixedProperty","invertTop","invertLeft","applyStyle","setAttribute","setAttributes","onLoad","modifierOptions","Popper","_this","requestAnimationFrame","bind","jquery","_extends$1","Utils","global","PopperUtils","setInnerHTML","getArrayOfElements","isElement","isType","isNodeList","arrayFrom","querySelectorAll","getValueAtIndexOrReturn","defaultValue","getModifier","invokeWithArgsOrReturn","setModifierValue","m","div","createElement","setTransitionDuration","els","transitionDuration","setVisibilityState","debounce$1","ms","timeout","preserveInvocation","originalFn","currentFn","includes","splitBySpaces","Boolean","useIfDefined","nextValue","currentValue","normalizeToArray","pushIfUnique","getNumber","getComputedPadding","distancePx","freshPaddingObject","defaultProps","allowHTML","animation","appendTo","aria","boundary","content","delay","distance","duration","flipBehavior","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","onAfterUpdate","onBeforeUpdate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","plugins","popperOptions","role","showOnCreate","theme","touch","trigger","triggerTarget","updateDuration","zIndex","animateFill","followCursor","inlinePositioning","sticky","defaultKeys","POPPER_INSTANCE_DEPENDENCIES","getExtendedPassedProps","passedProps","pluginProps","acc","plugin","evaluateProps","out","valueAsString","getAttribute","JSON","parse","getDataAttributeProps","PASSIVE","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","onWindowBlur","activeElement","_tippy","blur","isVisible","isBrowser$1","ua","isIE$1","isUCBrowser","isIOS","platform","updateIOSClass","isAdd","shouldAdd","classList","getBasePlacement","addInertia","tooltip","addInteractive","setContent","contentEl","appendChild","getChildren","createArrowElement","className","createPopperElement","updateTheme","updatePopperElement","prevProps","nextProps","_getChildren","removeInteractive","removeInertia","updateTransitionEndListener","action","listener","eventName","webkitTransition","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentMountCallback","currentTransitionEndListener","currentTarget","isBeingDestroyed","isVisibleFromClick","didHideDueToDocumentMouseDown","popperUpdates","listeners","debouncedOnMouseMove","onMouseMove","doc","elementOrElements","getOwnerDocument","popperChildren","item","transitionableElements","popperInstance","currentPlacement","isEnabled","isMounted","isShown","clearDelayTimeouts","setProps","partialProps","invokeHook","removeListenersFromTriggerTarget","addListenersToTriggerTarget","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","currentReference","createPopperInstance","show","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getCurrentTarget","hasAttribute","addDocumentMouseDownListener","visibility","handleAriaDescribedByAttribute","onTransitionEnd","onTransitionedIn","mount","isAlreadyHidden","removeDocumentMouseDownListener","onTransitionedOut","enable","disable","pluginsHooks","hadAriaExpandedAttributeOnCreate","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","getDelay","isShow","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","scheduleHide","onDocumentMouseDown","on","eventType","handler","onMouseLeave","onBlur","shouldScheduleClickHide","isEventListenerStopped","isMouseEvent","_getNormalizedTouchSe","closestCallback","popperTreeData","clientX","clientY","every","tooltipRect","mergedRect","isCursorOutsideInteractiveBorder","relatedTarget","supportsTouch","isTouchEvent","isCustomTouch","flipModifier","preventOverflowModifier","applyMutations","prevPlacement","isVerticalPlacement","isSecondaryPlacement","config","tippyDistance","isRem","fontSize","String","getUnitsInPx","computedPreventOverflowPadding","computedFlipPadding","instanceModifiers","runMountCallback","tippy","targets","optionalProps","capture","instances","setDefaultProps","MonitorDataStreamName","displayToolTip","container","display","componentDidUnload","onValueChange","onMouseOver","onFocus","detailedName","toLocaleString","hour","minute","hour12","get","getElement","MonitorExpandableInput","onChange","span","innerText","contentEditable","spellCheck","initRange","domain","define","constructor","factory","extend","definition","create","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","l","exec","rgbn","Rgb","rgba","hsla","NaN","g","rgbConvert","o","opacity","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","constant","gamma","nogamma","pow","t","exponential","linear","copy","channels","displayable","formatHsl","brighter","darker","interpolateRgb","rgbGamma","rgb$1","array","nb","na","c","interpolate","setTime","interpolateNumber","object","reA","reB","interpolateString","am","bm","bs","bi","lastIndex","q","one","zero","interpolateRound","cssNode","cssRoot","cssView","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","f","sqrt","atan2","atan","interpolateTransform","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","scale","interpolateTransformCss","getPropertyValue","interpolateTransformSvg","createElementNS","baseVal","consolidate","matrix","rho","SQRT2","cosh","exp","interpolateZoom","p0","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","b0","b1","r0","r1","coshr0","u","sinh","number","identity$1","normalize","bimap","d0","polymap","bisect","clamp","unknown","transformer","untransform","piecewise","output","input","interpolate$1","rescale","clamper","invert","_","from","rangeRound","continuous","formatDecimal","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","Error","FormatSpecifier","fill","align","sign","symbol","comma","formatRounded","formatTypes","toFixed","identity$2","locale","formatPrefix","formatLocale","grouping","thousands","group","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","percent","minus","nan","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","i1","i0","formatTrim","charCodeAt","Infinity","tickFormat","stop","count","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","nice","tickIncrement","ceil","linear$1","t0","t1","newInterval","floori","offseti","field","interval","previous","millisecond","second","getMilliseconds","getUTCSeconds","getSeconds","getMinutes","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","locale$1","timeFormat","pads","numberRe","percentRe","requoteRe","pad","string","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","newParse","week","day$1","X","utcFormat","utcParse","formatLocale$1","defaultLocale$1","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","tickInterval","x0","x1","scaleTime","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","space","local","creatorInherit","uri","namespaceURI","creatorFixed","fullname","creator","none","selector","empty","selectorAll","matcher","matches","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","sparse","EnterNode","datum","_next","_parent","__data__","child","insertBefore","next","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","attrRemove","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","setProperty","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","classedAdd","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","splice","filterEvents","mouseenter","mouseleave","filterContextListener","contextListener","related","event1","event0","parseTypenames","typenames","onRemove","typename","__on","onAdd","wrap","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","select","sourceEvent","current","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","mouse","changedTouches","touches","identifier","subgroups","subnode","subgroup","selectAll","each","enterGroup","updateGroup","_enter","_exit","merge","groups0","groups1","m0","merges","group0","group1","compare","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","classed","text","append","insert","before","clone","deep","dispatch","noop","Dispatch","parseTypenames$1","types","set","noevent","preventDefault","stopImmediatePropagation","dragDisable","view","__noselect","MozUserSelect","yesdrag","noclick","T","that","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_call","_time","timer","restart","wake","timerFlush","t2","sleep","nap","poke","clearInterval","setInterval","timeout$1","elapsed","emptyOn","emptyTween","schedule","timing","schedules","__transition","tween","tick","ease","init","get$1","set$1","interrupt","active","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","attrRemove$1","attrRemoveNS$1","attrConstant$1","value1","string00","interpolate0","string1","string0","attrConstantNS$1","attrFunction$1","string10","attrFunctionNS$1","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","Selection$1","styleRemove$1","styleInterpolate","styleTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","styleFunction$1","listener0","styleMaybeRemove","styleConstant$1","textFunction$1","textConstant$1","removeFunction","reject","defaultTiming","constant$3","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","identity$3","nopropagation","noevent$1","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","zoom","touchstarting","touchending","constrain","wheelDelta","touchable","scaleExtent","clickDistance2","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","wheel","wheelidled","mousemoved","mouseupped","y0","moved","k1","shiftKey","started","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","emit","customEvent","clickDistance","transformScales","movementOptions","_c","xScale","yScale","enableXScroll","enableYScroll","filterGestures","Zoom","movement","getContainer","zoomBehavior","zoomMin","zoomMax","transitionContainer","startTime","endTime","startDate","endDate","getTransformedDateRange","updateViewPort","yMin","yMax","prevStart","prevEnd","prevXScale","prevDates","currDates","getTransformFromDates","setTransform","updateSize","xMin","xMax","getTransform","_e","prevXMin","xRatio","MOVEMENT_CONFIG","MonitorGestureHandler","beginBrush","moveBrush","buttons","finishBrush","startPx","endPx","initiateTransform","cancelBrush","brushTransform","xSelectedPixelMax","xSelectedPixelMin","xScaleOriginal","timeSpan","prevTimeSpan","createBrushTransform","initialViewPort","zoomContainer","componentDidLoad","setupZoom","onViewPortChange","newViewPort","onSizeChange","chartWidth","chartHeight","scales","onDateRangeChange","y1","x2","y2","MapShim","Map","getIndex","entry","class_1","__entries__","delete","entries","has","clear","ctx","_i","isBrowser$2","global$1","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","getBordersSize$1","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","isDocumentElement","isSVGGraphicsElement","SVGGraphicsElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","MonitorSizeProvider","computedSize","rectPollingHandler","setRect","isConnected","rectScrollFixed","componentWillLoad","resizer","renderFunc","BUFFER","MonitorTooltipRow","roundedMagnitude","log10","orderOfMagnitude","roundToOrderOfMagnitude","roundedY","rMag","roundUp","roundedToNearest","DEFAULT_Y_RANGE","getYRangeWithBuffers","yValues","startFromZero","dataRange","yRange","currentY","noNegativeValues","noPositiveValues","bufferHeight","SAME_VALUE","STANDARD","getBufferHeightByRange","currentYRange","lastYRange","yAnnotations","yDataValues","yAnnotationValues","yAnnotation","getYRange","MonitorViewportProvider","preferStartFromZero","computeYRange","setYRange","inViewPoints","flat","annotations","nextYMin","nextYMax","updateYRange","identity$4","number$2","bandwidth","entering","__axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","context","values","spacing","range0","range1","path","tickExit","tickEnter","line","tickSize","MonitorWebglAxis","tickCount","yScaleType","xTickCount","yTickCount","ScaleType","Log","getTickCount","xScaleSide","yScaleSide","Linear","xScaleType","bottomScale","getScales","leftScale","xAxisCall","bottomAxis","yAxisCall","rightAxis","componentDidUpdate","yAxis","xAxis","lodash_isequal","argsTag","mapTag","objectTag","setTag","reIsHostCtor","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","predicate","mapToArray","setToArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Symbol","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Set","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","ListCache","MapCache","SetCache","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","tag","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","message","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","ArrayBuffer","ctorString","isLength","baseUnary","LoadingStatus","justifyContent","alignItems","pointerEvents","ErrorStatus","hasError","legend","isRightLegend","LEGEND_POSITION","RIGHT","paddingRight","flexDirection","ChartLegendContainer","legendHeight","sharedStyles","msOverflowStyle","BOTTOM","DataContainer","withinViewport","MonitorWebglBaseChart","isFetching","configUpdate","configId","info","widgetUpdated","throttle$1","dateRange","dateRangeChange","getChartSizeConfig","isBottomLegend","activeViewPort","handleCameraEvent","webGLRenderer","syncCameras","scene","getDataContainer","dataContainer","getThresholdContainer","thresholdContainer","getThresholds","isThreshold","onUpdateLifeCycle","resolution","xAnnotations","valueDisplayText","displayDate","getX","annotation","getY","getColor","getValueAndText","valueText","showValue","labelText","label","getText","getValueText","xTextSelection","getXAnnotationTextX","getYAnnotationTextY","yTextSelection","getYAnnotationValueTextY","yValueTextSelection","xSelection","ySelection","renderAnnotations","setChartRect","chartSize","chartRect","DEFAULT_CHART_CONFIG","minWidth","minHeight","setupChartScene","activeDataStreams","oldViewPort","hasYRangeChanged","isChangedBySelf","lastUpdatedBy","camera","updateProjectionMatrix","updateAndRegisterChartScene","newProp","oldProp","onDataStreamInfosChange","onDataChange","onAnnotationsChange","removeChartScene","createChartScene","minBufferSize","bufferFactor","addChartScene","hasDataChanged","hasSizeChanged","updatedScene","updateChartScene","chartSizeConfig","errorMap","isLoadingWithNoDataPresent","dataStreamInfos","MonitorWebglChartLegend","MonitorWebglChartTooltip","setSelectedDate","start_1","ratio","viewPortDuration","selectedDateMS","hideTooltip","tooltipHeight","datePositionRatio","tooltipPosition","displayedDate","dataResolution","aggregatedLevel","convertMS","seconds","getPlural","getAggregationFrequency","sortedPoint","activeDataStreamInfo","MonitorWebglContext","canvas","initRendering","SECOND_IN_MS","MINUTE_IN_MS","HOUR_IN_MS","DAY_IN_MS","MONTH_IN_MS","YEAR_IN_MS","milliseconds","viewPortDurationMS","layout","xGridVisible","yGridVisible","xTicksVisible","yTicksVisible","TimeSeries","domRect","scrollX","scrollY","ClipSpaceRectMap","rectMap","updateCanvas","canvasRect","chartSceneId","clipRect","containerRect","density","positiveYUpBottom","clipSpaceRect","renderer","chartScenes","chartScene","dispose","fullClearAndRerender","setScissorTest","onScroll","domElement","onResize","needResize","setSize","resizeRendererToDisplaySize","setScissor","setViewport","renderChartScene","renderCanvas","WebGLRenderer","alpha","antialias","preserveDrawingBuffer","setClearColor","sceneId","createWebGLRenderer"],"mappings":"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","file":"static/js/66.0aa7af06.chunk.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport { C as COMPARISON_OPERATOR } from './types-ef93b8eb.js';\nexport { L as LEGEND_POSITION, S as ScaleType } from './constants-2dc21ff9.js';\nimport { S as SECOND_IN_MS } from './time-cc688558.js';\nvar MAX_FPS_TRACKED = 80;\nvar initFPSMetering = function () {\n    var trackedFPS = [];\n    var lastLoop = Date.now();\n    var thisLoop = Date.now();\n    var framesProcessed = 0;\n    var loop = setInterval(function () {\n        framesProcessed += 1;\n    }, SECOND_IN_MS / MAX_FPS_TRACKED);\n    var updateFPS = setInterval(function () {\n        thisLoop = Date.now();\n        var duration = (thisLoop - lastLoop) / SECOND_IN_MS;\n        trackedFPS.push(framesProcessed / Math.max(duration, 0.005));\n        lastLoop = thisLoop;\n        framesProcessed = 0;\n    }, SECOND_IN_MS / 4);\n    return {\n        reset: function () {\n            framesProcessed = 0;\n            thisLoop = Date.now();\n            lastLoop = Date.now();\n            trackedFPS = [];\n        },\n        fps: function () {\n            var sortedFPS = __spreadArrays(trackedFPS).sort();\n            var len = sortedFPS.length;\n            var mid = Math.ceil(len / 2);\n            var median = len % 2 === 0 ? (sortedFPS[mid] + sortedFPS[mid - 1]) / 2 : sortedFPS[mid - 1];\n            var sum = sortedFPS.reduce(function (total, num) { return total + num; }, 0);\n            var average = sum / len;\n            trackedFPS = [];\n            return { average: average, median: median };\n        },\n        stop: function () {\n            clearInterval(loop);\n            clearInterval(updateFPS);\n        },\n    };\n};\nexport { initFPSMetering };\n","import { b as bisector } from './index-085eab52.js';\n// By doing the mapping to a date within the bisector\n// we eliminate the need to iterate over the entire data.\n// (As opposed to mapping entire data to an array of dates)\nvar pointBisector = bisector(function (p) { return p.x; });\n/**\n * Get Visible Data\n *\n * Returns the data points which are required for the chart to correctly render.\n * This assumes linear interpolation between points\n * TODO(btd): Support other interpolation methods\n *\n * NOTE: It's possible to have data not in the viewport which is required for the chart to render\n * it's fully visualization correctly. For Instance, even if a point isn't visible in the viewport, it may\n * be used within interpolation to calculate a path between the points which is within the viewport.\n *\n * Different interpolation methods need larger amount of context around the viewport to correctly render\n * the chart visualization.\n */\nvar getVisibleData = function (data, _a, \n// Whether we want to include a single point to the right, and to the left of the provide viewport.\n// This is useful when rendering lines since you need to connect a point to a point outside of the viewport\n// to fully render the data correctly.\nincludeBoundaryPoints) {\n    var start = _a.start, end = _a.end;\n    if (includeBoundaryPoints === void 0) { includeBoundaryPoints = true; }\n    // If there is no data\n    if (data.length === 0) {\n        return [];\n    }\n    // If all data is before the view port\n    if (start > data[data.length - 1].x) {\n        return [];\n    }\n    // If all data is after the view port\n    if (end < data[0].x) {\n        return [];\n    }\n    // Otherwise return all the data within the viewport, plus an additional single data point that falls outside of\n    // the viewport in either direction.\n    var startIndex = Math.max(pointBisector.left(data, start) - (includeBoundaryPoints ? 1 : 0), 0);\n    var endIndex = Math.min(pointBisector.right(data, end) - (includeBoundaryPoints ? 0 : 1), data.length - 1);\n    return data.slice(startIndex, endIndex + 1);\n};\nexport { getVisibleData as g, pointBisector as p };\n","import { c as commonjsGlobal } from './_commonjsHelpers-17042db9.js';\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max, nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function () {\n    return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n    var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n    if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    wait = toNumber(wait) || 0;\n    if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n    function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n    }\n    function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n    }\n    function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n    }\n    function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n            (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n    }\n    function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n            return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n    }\n    function trailingEdge(time) {\n        timerId = undefined;\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n            return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n    }\n    function cancel() {\n        if (timerId !== undefined) {\n            clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n    }\n    function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n    }\n    function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n            if (timerId === undefined) {\n                return leadingEdge(lastCallTime);\n            }\n            if (maxing) {\n                // Handle invocations in a tight loop.\n                timerId = setTimeout(timerExpired, wait);\n                return invokeFunc(lastCallTime);\n            }\n        }\n        if (timerId === undefined) {\n            timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n    }\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    return debounced;\n}\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n    var leading = true, trailing = true;\n    if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n    return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n    });\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n    return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n    return typeof value == 'symbol' ||\n        (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n    if (typeof value == 'number') {\n        return value;\n    }\n    if (isSymbol(value)) {\n        return NAN;\n    }\n    if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n    }\n    value = value.replace(reTrim, '');\n    var isBinary = reIsBinary.test(value);\n    return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n}\nvar lodash_throttle = throttle;\nexport { lodash_throttle as t };\n","var MAX_PRECISION = 3;\n/**\n * Computes the siginificant digits for a given number to the max precision\n */\nvar precision = function (num) {\n    var digits = num.toString();\n    var _a = digits.split('.'), integer = _a[0], fractional = _a[1];\n    if (num === 0)\n        return 0;\n    if (fractional == null) {\n        return num;\n    }\n    if (integer.length >= MAX_PRECISION) {\n        /**\n         * In math, any number greater than 4 should be rounded\n         */\n        var shouldRound = Number(fractional[0]) > 4;\n        return shouldRound ? Number(integer) + 1 : Number(integer);\n    }\n    return Number(Number.parseFloat(digits).toPrecision(MAX_PRECISION));\n};\nexport { precision as p };\n","import { g as getVisibleData, p as pointBisector } from './getVisibleData-38130c2d.js';\n/**\n * Closest Points\n *\n * Returns the closest point to the left, and right of a\n * given point in time..\n */\nvar closestPoint = function (dataPoints, date) {\n    var idx = pointBisector.left(dataPoints, date);\n    var leftPoint = dataPoints[idx - 1];\n    var rightPoint = dataPoints[idx];\n    // If only the left, or only the right point exist, go ahead and just return it.\n    if (!leftPoint || !rightPoint) {\n        return leftPoint || rightPoint;\n    }\n    // We are right bias because the interval between two points is the time span for the point on the right.\n    return rightPoint;\n};\n/**\n * Get Active Points\n *\n * Returns at most one point per data stream - for each data stream, it finds the point which is\n * 1. within the given view port\n * 2. closest to the provided `selectedDate`\n *\n * Additionally, if `allowMultipleDates` is false, it will only return the points which are the closest\n * to the `selectedDate`. i.e. if you have 10 points that are all equally distant from the `selectedDate`,\n * all 10 are returned.\n *\n * However if you have 10 points of different dates, only the closest point would be returned.\n */\nvar activePoints = function (_a) {\n    var viewPort = _a.viewPort, dataStreams = _a.dataStreams, selectedDate = _a.selectedDate, allowMultipleDates = _a.allowMultipleDates;\n    // Filter down the data streams to only contain data within the viewport\n    var streamsWithinViewPort = dataStreams\n        .map(function (stream) { return (Object.assign(Object.assign({}, stream), { data: getVisibleData(stream.data, viewPort, false) })); })\n        .filter(function (stream) { return stream.data.length > 0; });\n    // Find the closest point to the selected date for each stream\n    var points = streamsWithinViewPort.map(function (_a) {\n        var id = _a.id, data = _a.data;\n        return ({\n            streamId: id,\n            point: closestPoint(data, selectedDate),\n        });\n    });\n    if (allowMultipleDates) {\n        return points;\n    }\n    // Sort in ascending order by there distance from the selected date\n    var sortedPoints = points.sort(function (p1, p2) {\n        var p1Distance = Math.abs(p1.point.x.getTime() - selectedDate.getTime());\n        var p2Distance = Math.abs(p2.point.x.getTime() - selectedDate.getTime());\n        return p1Distance - p2Distance;\n    });\n    // Filter such that only the points with a date equal to the date of the point which is closest to the selected date.\n    return sortedPoints.filter(function (p) { return p.point.x.getTime() === sortedPoints[0].point.x.getTime(); });\n};\nexport { activePoints as a };\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, H as Host, g as getElement, d as createEvent } from './index-326b73e4.js';\nimport './index.mjs';\nimport './types-ef93b8eb.js';\nimport { S as ScaleType, L as LEGEND_POSITION } from './constants-2dc21ff9.js';\nimport { d as displayDate, c as convertMS } from './time-cc688558.js';\nimport { a as createCommonjsModule, c as commonjsGlobal } from './_commonjsHelpers-17042db9.js';\nimport { D as DEFAULT_CHART_CONFIG } from './chartDefaults-5713566e.js';\nimport { g as getBreachedThreshold, i as isThreshold } from './utils-ef59b734.js';\nimport { r as rectScrollFixed, w as webGLRenderer } from './webglContext-8b607584.js';\nimport './v4-1d709f5b.js';\nimport { a as bisect, t as tickStep, c as ticks, d as tickIncrement, b as bisector } from './index-085eab52.js';\nimport './predicates-4851c065.js';\nimport { g as getVisibleData } from './getVisibleData-38130c2d.js';\nimport { a as activePoints } from './activePoints-617217f7.js';\nimport { p as precision } from './number-1681647b.js';\nimport { t as throttle$1 } from './index-904ee6b2.js';\nvar bpErrorBadgeCss = \"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}div{display:-ms-flexbox;display:flex;padding-left:1.4286em;line-height:1.4286em;color:var(--error-badge-font-color, #6a7070)}.warning-symbol{font-size:2rem;padding-right:var(--margin-small);font-weight:bold;color:var(--error-badge-warning-color, #fa3232)}\";\nvar BpErrorBadge = /** @class */ (function () {\n    function BpErrorBadge(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    BpErrorBadge.prototype.render = function () {\n        return (h(\"div\", null, h(\"span\", { class: \"warning-symbol\" }, \"\\u26A0\"), h(\"slot\", null)));\n    };\n    return BpErrorBadge;\n}());\nBpErrorBadge.style = bpErrorBadgeCss;\nvar classnames = createCommonjsModule(function (module) {\n    /*!\n      Copyright (c) 2017 Jed Watson.\n      Licensed under the MIT License (MIT), see\n      http://jedwatson.github.io/classnames\n    */\n    /* global define */\n    (function () {\n        var hasOwn = {}.hasOwnProperty;\n        function classNames() {\n            var classes = [];\n            for (var i = 0; i < arguments.length; i++) {\n                var arg = arguments[i];\n                if (!arg)\n                    continue;\n                var argType = typeof arg;\n                if (argType === 'string' || argType === 'number') {\n                    classes.push(arg);\n                }\n                else if (Array.isArray(arg) && arg.length) {\n                    var inner = classNames.apply(null, arg);\n                    if (inner) {\n                        classes.push(inner);\n                    }\n                }\n                else if (argType === 'object') {\n                    for (var key in arg) {\n                        if (hasOwn.call(arg, key) && arg[key]) {\n                            classes.push(key);\n                        }\n                    }\n                }\n            }\n            return classes.join(' ');\n        }\n        if (module.exports) {\n            classNames.default = classNames;\n            module.exports = classNames;\n        }\n        else {\n            window.classNames = classNames;\n        }\n    }());\n});\nvar bpLoadingSpinnerCss = \"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}svg{-webkit-animation:spin 900ms linear infinite, fadeIn 1s linear;animation:spin 900ms linear infinite, fadeIn 1s linear}path#c{fill:var(--loading-spinner-color)}.dark path#c{fill:var(--loading-spinner-color-dark)}\";\nvar BpLoadingSpinner = /** @class */ (function () {\n    function BpLoadingSpinner(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    BpLoadingSpinner.prototype.render = function () {\n        var _c = this, size = _c.size, _d = _c.dark, dark = _d === void 0 ? false : _d;\n        return (h(\"svg\", { class: classnames({ dark: dark }), style: size != null ? { width: size + \"px\", height: size + \"px\" } : {}, \"data-testid\": \"loading\", viewBox: \"0 0 200 200\" }, h(\"defs\", null, h(\"clipPath\", { id: \"a\" }, h(\"path\", { d: \"M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z\" })), h(\"filter\", { id: \"b\", x: \"0\", y: \"0\" }, h(\"feGaussianBlur\", { in: \"SourceGraphic\", stdDeviation: \"3\" })), h(\"path\", { id: \"c\", d: \"M250 100a150 150 0 01-3.28 31.19L100 100z\" })), h(\"g\", { \"clip-path\": \"url(#a)\" }, h(\"g\", { filter: \"url(#b)\", transform: \"rotate(-6 100 100)\" }, h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \"0\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".03\", transform: \"rotate(12 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".07\", transform: \"rotate(24 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".1\", transform: \"rotate(36 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".14\", transform: \"rotate(48 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".17\", transform: \"rotate(60 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".2\", transform: \"rotate(72 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".24\", transform: \"rotate(84 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".28\", transform: \"rotate(96 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".31\", transform: \"rotate(108 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".34\", transform: \"rotate(120 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".38\", transform: \"rotate(132 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".41\", transform: \"rotate(144 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".45\", transform: \"rotate(156 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".48\", transform: \"rotate(168 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".52\", transform: \"rotate(180 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".55\", transform: \"rotate(192 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".59\", transform: \"rotate(204 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".62\", transform: \"rotate(216 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".66\", transform: \"rotate(228 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".69\", transform: \"rotate(240 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".7\", transform: \"rotate(252 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".72\", transform: \"rotate(264 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".76\", transform: \"rotate(276 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".79\", transform: \"rotate(288 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".83\", transform: \"rotate(300 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".86\", transform: \"rotate(312 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".93\", transform: \"rotate(324 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".97\", transform: \"rotate(336 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", transform: \"rotate(348 100 100)\" })))));\n    };\n    return BpLoadingSpinner;\n}());\nBpLoadingSpinner.style = bpLoadingSpinnerCss;\nvar monitorDataStreamInfoCss = \"monitor-data-stream-info{--color-container-width:12px;overflow:hidden;display:inline-block;min-width:105px;margin-right:var(--margin-small);color:var(--secondary-font-color);padding-right:var(--margin-small)}monitor-data-stream-info .data-stream-info-container{display:-ms-flexbox;display:flex}monitor-data-stream-info .color-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;width:var(--color-container-width);height:17px}monitor-data-stream-info .spinner-container{position:relative;top:5px}monitor-data-stream-info .bar{height:3px;width:var(--color-container-width);border-radius:1px}monitor-data-stream-info .info{padding-left:var(--margin-small);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}\";\nvar MonitorDataStreamInfo = /** @class */ (function () {\n    function MonitorDataStreamInfo(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.updateName = function (name) {\n            _this_1.updateDataStreamName({\n                streamId: _this_1.dataStreamInfo.id,\n                name: name,\n            });\n        };\n        this.getFontColor = function () {\n            var baseColor = '#000';\n            if (_this_1.activePoint == null) {\n                return baseColor;\n            }\n            var breachedThreshold = getBreachedThreshold(_this_1.activePoint.point.y, _this_1.thresholds);\n            return breachedThreshold ? breachedThreshold.color : baseColor;\n        };\n    }\n    MonitorDataStreamInfo.prototype.render = function () {\n        var streamInfoStyle = this.isEditing\n            ? {}\n            : {\n                position: 'relative',\n                top: '-5px',\n            };\n        return (h(Host, null, h(\"div\", { class: \"data-stream-info-container awsui\" }, h(\"div\", { class: \"color-container\" }, this.isLoading ? (h(\"div\", { class: \"spinner-container\" }, h(\"bp-loading-spinner\", { dark: true, size: 12 }))) : (h(\"div\", { class: \"bar\", style: { backgroundColor: this.dataStreamInfo.color } }))), h(\"div\", { class: \"info\" }, h(\"monitor-data-stream-name\", { onNameChange: this.updateName, dataStreamInfo: this.dataStreamInfo, activePoint: this.activePoint, isEditing: this.isEditing }), h(\"div\", { style: streamInfoStyle }, h(\"h4\", { class: \"awsui-util-d-i\", \"data-testid\": \"current-value\", style: { color: this.getFontColor() } }, this.activePoint == null ? '-- ' : precision(this.activePoint.point.y) + \" \"), this.dataStreamInfo.unit && h(\"small\", null, \" \" + this.dataStreamInfo.unit))))));\n    };\n    return MonitorDataStreamInfo;\n}());\nMonitorDataStreamInfo.style = monitorDataStreamInfoCss;\n/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.0\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\nvar timeoutDuration = function () {\n    var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n    for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n        if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n            return 1;\n        }\n    }\n    return 0;\n}();\nfunction microtaskDebounce(fn) {\n    var called = false;\n    return function () {\n        if (called) {\n            return;\n        }\n        called = true;\n        window.Promise.resolve().then(function () {\n            called = false;\n            fn();\n        });\n    };\n}\nfunction taskDebounce(fn) {\n    var scheduled = false;\n    return function () {\n        if (!scheduled) {\n            scheduled = true;\n            setTimeout(function () {\n                scheduled = false;\n                fn();\n            }, timeoutDuration);\n        }\n    };\n}\nvar supportsMicroTasks = isBrowser && window.Promise;\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n    var getType = {};\n    return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n    if (element.nodeType !== 1) {\n        return [];\n    }\n    // NOTE: 1 DOM access here\n    var window = element.ownerDocument.defaultView;\n    var css = window.getComputedStyle(element, null);\n    return property ? css[property] : css;\n}\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n    if (element.nodeName === 'HTML') {\n        return element;\n    }\n    return element.parentNode || element.host;\n}\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n    // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n    if (!element) {\n        return document.body;\n    }\n    switch (element.nodeName) {\n        case 'HTML':\n        case 'BODY':\n            return element.ownerDocument.body;\n        case '#document':\n            return element.body;\n    }\n    // Firefox want us to check `-x` and `-y` variations as well\n    var _getStyleComputedProp = getStyleComputedProperty(element), overflow = _getStyleComputedProp.overflow, overflowX = _getStyleComputedProp.overflowX, overflowY = _getStyleComputedProp.overflowY;\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n        return element;\n    }\n    return getScrollParent(getParentNode(element));\n}\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n    return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n    if (version === 11) {\n        return isIE11;\n    }\n    if (version === 10) {\n        return isIE10;\n    }\n    return isIE11 || isIE10;\n}\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n    if (!element) {\n        return document.documentElement;\n    }\n    var noOffsetParent = isIE(10) ? document.body : null;\n    // NOTE: 1 DOM access here\n    var offsetParent = element.offsetParent || null;\n    // Skip hidden elements which don't have an offsetParent\n    while (offsetParent === noOffsetParent && element.nextElementSibling) {\n        offsetParent = (element = element.nextElementSibling).offsetParent;\n    }\n    var nodeName = offsetParent && offsetParent.nodeName;\n    if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n        return element ? element.ownerDocument.documentElement : document.documentElement;\n    }\n    // .offsetParent will return the closest TH, TD or TABLE in case\n    // no offsetParent is present, I hate this job...\n    if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n        return getOffsetParent(offsetParent);\n    }\n    return offsetParent;\n}\nfunction isOffsetContainer(element) {\n    var nodeName = element.nodeName;\n    if (nodeName === 'BODY') {\n        return false;\n    }\n    return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n    if (node.parentNode !== null) {\n        return getRoot(node.parentNode);\n    }\n    return node;\n}\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n        return document.documentElement;\n    }\n    // Here we make sure to give as \"start\" the element that comes first in the DOM\n    var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n    var start = order ? element1 : element2;\n    var end = order ? element2 : element1;\n    // Get common ancestor container\n    var range = document.createRange();\n    range.setStart(start, 0);\n    range.setEnd(end, 0);\n    var commonAncestorContainer = range.commonAncestorContainer;\n    // Both nodes are inside #document\n    if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n        if (isOffsetContainer(commonAncestorContainer)) {\n            return commonAncestorContainer;\n        }\n        return getOffsetParent(commonAncestorContainer);\n    }\n    // one of the nodes is inside shadowDOM, find which one\n    var element1root = getRoot(element1);\n    if (element1root.host) {\n        return findCommonOffsetParent(element1root.host, element2);\n    }\n    else {\n        return findCommonOffsetParent(element1, getRoot(element2).host);\n    }\n}\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n    var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n    var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n    var nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        var html = element.ownerDocument.documentElement;\n        var scrollingElement = element.ownerDocument.scrollingElement || html;\n        return scrollingElement[upperSide];\n    }\n    return element[upperSide];\n}\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n    var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var scrollTop = getScroll(element, 'top');\n    var scrollLeft = getScroll(element, 'left');\n    var modifier = subtract ? -1 : 1;\n    rect.top += scrollTop * modifier;\n    rect.bottom += scrollTop * modifier;\n    rect.left += scrollLeft * modifier;\n    rect.right += scrollLeft * modifier;\n    return rect;\n}\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\nfunction getBordersSize(styles, axis) {\n    var sideA = axis === 'x' ? 'Left' : 'Top';\n    var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n    return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);\n}\nfunction getSize(axis, body, html, computedStyle) {\n    return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\nfunction getWindowSizes(document) {\n    var body = document.body;\n    var html = document.documentElement;\n    var computedStyle = isIE(10) && getComputedStyle(html);\n    return {\n        height: getSize('Height', body, html, computedStyle),\n        width: getSize('Width', body, html, computedStyle)\n    };\n}\nvar classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n};\nvar createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar defineProperty = function (obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    }\n    else {\n        obj[key] = value;\n    }\n    return obj;\n};\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n};\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n    return _extends({}, offsets, {\n        right: offsets.left + offsets.width,\n        bottom: offsets.top + offsets.height\n    });\n}\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n    var rect = {};\n    // IE10 10 FIX: Please, don't ask, the element isn't\n    // considered in DOM in some circumstances...\n    // This isn't reproducible in IE10 compatibility mode of IE11\n    try {\n        if (isIE(10)) {\n            rect = element.getBoundingClientRect();\n            var scrollTop = getScroll(element, 'top');\n            var scrollLeft = getScroll(element, 'left');\n            rect.top += scrollTop;\n            rect.left += scrollLeft;\n            rect.bottom += scrollTop;\n            rect.right += scrollLeft;\n        }\n        else {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    catch (e) { }\n    var result = {\n        left: rect.left,\n        top: rect.top,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n    };\n    // subtract scrollbar size from sizes\n    var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n    var width = sizes.width || element.clientWidth || result.width;\n    var height = sizes.height || element.clientHeight || result.height;\n    var horizScrollbar = element.offsetWidth - width;\n    var vertScrollbar = element.offsetHeight - height;\n    // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n    // we make this check conditional for performance reasons\n    if (horizScrollbar || vertScrollbar) {\n        var styles = getStyleComputedProperty(element);\n        horizScrollbar -= getBordersSize(styles, 'x');\n        vertScrollbar -= getBordersSize(styles, 'y');\n        result.width -= horizScrollbar;\n        result.height -= vertScrollbar;\n    }\n    return getClientRect(result);\n}\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n    var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var isIE10 = isIE(10);\n    var isHTML = parent.nodeName === 'HTML';\n    var childrenRect = getBoundingClientRect(children);\n    var parentRect = getBoundingClientRect(parent);\n    var scrollParent = getScrollParent(children);\n    var styles = getStyleComputedProperty(parent);\n    var borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n    var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n    // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n    if (fixedPosition && isHTML) {\n        parentRect.top = Math.max(parentRect.top, 0);\n        parentRect.left = Math.max(parentRect.left, 0);\n    }\n    var offsets = getClientRect({\n        top: childrenRect.top - parentRect.top - borderTopWidth,\n        left: childrenRect.left - parentRect.left - borderLeftWidth,\n        width: childrenRect.width,\n        height: childrenRect.height\n    });\n    offsets.marginTop = 0;\n    offsets.marginLeft = 0;\n    // Subtract margins of documentElement in case it's being used as parent\n    // we do this only on HTML because it's the only element that behaves\n    // differently when margins are applied to it. The margins are included in\n    // the box of the documentElement, in the other cases not.\n    if (!isIE10 && isHTML) {\n        var marginTop = parseFloat(styles.marginTop, 10);\n        var marginLeft = parseFloat(styles.marginLeft, 10);\n        offsets.top -= borderTopWidth - marginTop;\n        offsets.bottom -= borderTopWidth - marginTop;\n        offsets.left -= borderLeftWidth - marginLeft;\n        offsets.right -= borderLeftWidth - marginLeft;\n        // Attach marginTop and marginLeft because in some circumstances we may need them\n        offsets.marginTop = marginTop;\n        offsets.marginLeft = marginLeft;\n    }\n    if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n        offsets = includeScroll(offsets, parent);\n    }\n    return offsets;\n}\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n    var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var html = element.ownerDocument.documentElement;\n    var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n    var width = Math.max(html.clientWidth, window.innerWidth || 0);\n    var height = Math.max(html.clientHeight, window.innerHeight || 0);\n    var scrollTop = !excludeScroll ? getScroll(html) : 0;\n    var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n    var offset = {\n        top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n        left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n        width: width,\n        height: height\n    };\n    return getClientRect(offset);\n}\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n    var nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        return false;\n    }\n    if (getStyleComputedProperty(element, 'position') === 'fixed') {\n        return true;\n    }\n    var parentNode = getParentNode(element);\n    if (!parentNode) {\n        return false;\n    }\n    return isFixed(parentNode);\n}\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\nfunction getFixedPositionOffsetParent(element) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element || !element.parentElement || isIE()) {\n        return document.documentElement;\n    }\n    var el = element.parentElement;\n    while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n        el = el.parentElement;\n    }\n    return el || document.documentElement;\n}\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n    var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    // NOTE: 1 DOM access here\n    var boundaries = { top: 0, left: 0 };\n    var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n    // Handle viewport case\n    if (boundariesElement === 'viewport') {\n        boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n    }\n    else {\n        // Handle other cases based on DOM element used as boundaries\n        var boundariesNode = void 0;\n        if (boundariesElement === 'scrollParent') {\n            boundariesNode = getScrollParent(getParentNode(reference));\n            if (boundariesNode.nodeName === 'BODY') {\n                boundariesNode = popper.ownerDocument.documentElement;\n            }\n        }\n        else if (boundariesElement === 'window') {\n            boundariesNode = popper.ownerDocument.documentElement;\n        }\n        else {\n            boundariesNode = boundariesElement;\n        }\n        var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n        // In case of HTML, we need a different computation\n        if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n            var _getWindowSizes = getWindowSizes(popper.ownerDocument), height = _getWindowSizes.height, width = _getWindowSizes.width;\n            boundaries.top += offsets.top - offsets.marginTop;\n            boundaries.bottom = height + offsets.top;\n            boundaries.left += offsets.left - offsets.marginLeft;\n            boundaries.right = width + offsets.left;\n        }\n        else {\n            // for all the other DOM elements, this one is good\n            boundaries = offsets;\n        }\n    }\n    // Add paddings\n    padding = padding || 0;\n    var isPaddingNumber = typeof padding === 'number';\n    boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n    boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n    boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n    boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n    return boundaries;\n}\nfunction getArea(_ref) {\n    var width = _ref.width, height = _ref.height;\n    return width * height;\n}\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n    var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    if (placement.indexOf('auto') === -1) {\n        return placement;\n    }\n    var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n    var rects = {\n        top: {\n            width: boundaries.width,\n            height: refRect.top - boundaries.top\n        },\n        right: {\n            width: boundaries.right - refRect.right,\n            height: boundaries.height\n        },\n        bottom: {\n            width: boundaries.width,\n            height: boundaries.bottom - refRect.bottom\n        },\n        left: {\n            width: refRect.left - boundaries.left,\n            height: boundaries.height\n        }\n    };\n    var sortedAreas = Object.keys(rects).map(function (key) {\n        return _extends({\n            key: key\n        }, rects[key], {\n            area: getArea(rects[key])\n        });\n    }).sort(function (a, b) {\n        return b.area - a.area;\n    });\n    var filteredAreas = sortedAreas.filter(function (_ref2) {\n        var width = _ref2.width, height = _ref2.height;\n        return width >= popper.clientWidth && height >= popper.clientHeight;\n    });\n    var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n    var variation = placement.split('-')[1];\n    return computedPlacement + (variation ? '-' + variation : '');\n}\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n    var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n    return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n    var window = element.ownerDocument.defaultView;\n    var styles = window.getComputedStyle(element);\n    var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n    var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n    var result = {\n        width: element.offsetWidth + y,\n        height: element.offsetHeight + x\n    };\n    return result;\n}\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n    var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n    return placement.replace(/left|right|bottom|top/g, function (matched) {\n        return hash[matched];\n    });\n}\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n    placement = placement.split('-')[0];\n    // Get popper node sizes\n    var popperRect = getOuterSizes(popper);\n    // Add position, width and height to our offsets object\n    var popperOffsets = {\n        width: popperRect.width,\n        height: popperRect.height\n    };\n    // depending by the popper placement we have to compute its offsets slightly differently\n    var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n    var mainSide = isHoriz ? 'top' : 'left';\n    var secondarySide = isHoriz ? 'left' : 'top';\n    var measurement = isHoriz ? 'height' : 'width';\n    var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n    popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n    if (placement === secondarySide) {\n        popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n    }\n    else {\n        popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n    }\n    return popperOffsets;\n}\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n    // use native find if supported\n    if (Array.prototype.find) {\n        return arr.find(check);\n    }\n    // use `filter` to obtain the same behavior of `find`\n    return arr.filter(check)[0];\n}\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n    // use native findIndex if supported\n    if (Array.prototype.findIndex) {\n        return arr.findIndex(function (cur) {\n            return cur[prop] === value;\n        });\n    }\n    // use `find` + `indexOf` if `findIndex` isn't supported\n    var match = find(arr, function (obj) {\n        return obj[prop] === value;\n    });\n    return arr.indexOf(match);\n}\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n    var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n    modifiersToRun.forEach(function (modifier) {\n        if (modifier['function']) {\n            // eslint-disable-line dot-notation\n            console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n        }\n        var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n        if (modifier.enabled && isFunction(fn)) {\n            // Add properties to offsets to make them a complete clientRect object\n            // we do this before each modifier to make sure the previous one doesn't\n            // mess with these values\n            data.offsets.popper = getClientRect(data.offsets.popper);\n            data.offsets.reference = getClientRect(data.offsets.reference);\n            data = fn(data, modifier);\n        }\n    });\n    return data;\n}\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n    // if popper is destroyed, don't perform any further update\n    if (this.state.isDestroyed) {\n        return;\n    }\n    var data = {\n        instance: this,\n        styles: {},\n        arrowStyles: {},\n        attributes: {},\n        flipped: false,\n        offsets: {}\n    };\n    // compute reference element offsets\n    data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n    // compute auto placement, store placement inside the data object,\n    // modifiers will be able to edit `placement` if needed\n    // and refer to originalPlacement to know the original value\n    data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n    // store the computed placement inside `originalPlacement`\n    data.originalPlacement = data.placement;\n    data.positionFixed = this.options.positionFixed;\n    // compute the popper offsets\n    data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n    data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n    // run the modifiers\n    data = runModifiers(this.modifiers, data);\n    // the first `update` will call `onCreate` callback\n    // the other ones will call `onUpdate` callback\n    if (!this.state.isCreated) {\n        this.state.isCreated = true;\n        this.options.onCreate(data);\n    }\n    else {\n        this.options.onUpdate(data);\n    }\n}\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n    return modifiers.some(function (_ref) {\n        var name = _ref.name, enabled = _ref.enabled;\n        return enabled && name === modifierName;\n    });\n}\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n    var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n    var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n    for (var i = 0; i < prefixes.length; i++) {\n        var prefix = prefixes[i];\n        var toCheck = prefix ? '' + prefix + upperProp : property;\n        if (typeof document.body.style[toCheck] !== 'undefined') {\n            return toCheck;\n        }\n    }\n    return null;\n}\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n    this.state.isDestroyed = true;\n    // touch DOM only if `applyStyle` modifier is enabled\n    if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n        this.popper.removeAttribute('x-placement');\n        this.popper.style.position = '';\n        this.popper.style.top = '';\n        this.popper.style.left = '';\n        this.popper.style.right = '';\n        this.popper.style.bottom = '';\n        this.popper.style.willChange = '';\n        this.popper.style[getSupportedPropertyName('transform')] = '';\n    }\n    this.disableEventListeners();\n    // remove the popper if user explicitly asked for the deletion on destroy\n    // do not use `remove` because IE11 doesn't support it\n    if (this.options.removeOnDestroy) {\n        this.popper.parentNode.removeChild(this.popper);\n    }\n    return this;\n}\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n    var ownerDocument = element.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n}\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n    var isBody = scrollParent.nodeName === 'BODY';\n    var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n    target.addEventListener(event, callback, { passive: true });\n    if (!isBody) {\n        attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n    }\n    scrollParents.push(target);\n}\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n    // Resize event listener on window\n    state.updateBound = updateBound;\n    getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n    // Scroll event listener on scroll parents\n    var scrollElement = getScrollParent(reference);\n    attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n    state.scrollElement = scrollElement;\n    state.eventsEnabled = true;\n    return state;\n}\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n    if (!this.state.eventsEnabled) {\n        this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n    }\n}\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n    // Remove resize event listener on window\n    getWindow(reference).removeEventListener('resize', state.updateBound);\n    // Remove scroll event listener on scroll parents\n    state.scrollParents.forEach(function (target) {\n        target.removeEventListener('scroll', state.updateBound);\n    });\n    // Reset state\n    state.updateBound = null;\n    state.scrollParents = [];\n    state.scrollElement = null;\n    state.eventsEnabled = false;\n    return state;\n}\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n    if (this.state.eventsEnabled) {\n        cancelAnimationFrame(this.scheduleUpdate);\n        this.state = removeEventListeners(this.reference, this.state);\n    }\n}\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n    Object.keys(styles).forEach(function (prop) {\n        var unit = '';\n        // add unit if the value is numeric and is one of the following\n        if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n            unit = 'px';\n        }\n        element.style[prop] = styles[prop] + unit;\n    });\n}\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n    Object.keys(attributes).forEach(function (prop) {\n        var value = attributes[prop];\n        if (value !== false) {\n            element.setAttribute(prop, attributes[prop]);\n        }\n        else {\n            element.removeAttribute(prop);\n        }\n    });\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n    // any property present in `data.styles` will be applied to the popper,\n    // in this way we can make the 3rd party modifiers add custom styles to it\n    // Be aware, modifiers could override the properties defined in the previous\n    // lines of this modifier!\n    setStyles(data.instance.popper, data.styles);\n    // any property present in `data.attributes` will be applied to the popper,\n    // they will be set as HTML attributes of the element\n    setAttributes(data.instance.popper, data.attributes);\n    // if arrowElement is defined and arrowStyles has some properties\n    if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n        setStyles(data.arrowElement, data.arrowStyles);\n    }\n    return data;\n}\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n    // compute reference element offsets\n    var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n    // compute auto placement, store placement inside the data object,\n    // modifiers will be able to edit `placement` if needed\n    // and refer to originalPlacement to know the original value\n    var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n    popper.setAttribute('x-placement', placement);\n    // Apply `position` to popper before anything else because\n    // without the position applied we can't guarantee correct computations\n    setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n    return options;\n}\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n    var _data$offsets = data.offsets, popper = _data$offsets.popper, reference = _data$offsets.reference;\n    var round = Math.round, floor = Math.floor;\n    var noRound = function noRound(v) {\n        return v;\n    };\n    var referenceWidth = round(reference.width);\n    var popperWidth = round(popper.width);\n    var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n    var isVariation = data.placement.indexOf('-') !== -1;\n    var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n    var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n    var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n    var verticalToInteger = !shouldRound ? noRound : round;\n    return {\n        left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n        top: verticalToInteger(popper.top),\n        bottom: verticalToInteger(popper.bottom),\n        right: horizontalToInteger(popper.right)\n    };\n}\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n    var x = options.x, y = options.y;\n    var popper = data.offsets.popper;\n    // Remove this legacy support in Popper.js v2\n    var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n        return modifier.name === 'applyStyle';\n    }).gpuAcceleration;\n    if (legacyGpuAccelerationOption !== undefined) {\n        console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n    }\n    var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n    var offsetParent = getOffsetParent(data.instance.popper);\n    var offsetParentRect = getBoundingClientRect(offsetParent);\n    // Styles\n    var styles = {\n        position: popper.position\n    };\n    var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n    var sideA = x === 'bottom' ? 'top' : 'bottom';\n    var sideB = y === 'right' ? 'left' : 'right';\n    // if gpuAcceleration is set to `true` and transform is supported,\n    //  we use `translate3d` to apply the position to the popper we\n    // automatically use the supported prefixed version if needed\n    var prefixedProperty = getSupportedPropertyName('transform');\n    // now, let's make a step back and look at this code closely (wtf?)\n    // If the content of the popper grows once it's been positioned, it\n    // may happen that the popper gets misplaced because of the new content\n    // overflowing its reference element\n    // To avoid this problem, we provide two options (x and y), which allow\n    // the consumer to define the offset origin.\n    // If we position a popper on top of a reference element, we can set\n    // `x` to `top` to make the popper grow towards its top instead of\n    // its bottom.\n    var left = void 0, top = void 0;\n    if (sideA === 'bottom') {\n        // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n        // and not the bottom of the html element\n        if (offsetParent.nodeName === 'HTML') {\n            top = -offsetParent.clientHeight + offsets.bottom;\n        }\n        else {\n            top = -offsetParentRect.height + offsets.bottom;\n        }\n    }\n    else {\n        top = offsets.top;\n    }\n    if (sideB === 'right') {\n        if (offsetParent.nodeName === 'HTML') {\n            left = -offsetParent.clientWidth + offsets.right;\n        }\n        else {\n            left = -offsetParentRect.width + offsets.right;\n        }\n    }\n    else {\n        left = offsets.left;\n    }\n    if (gpuAcceleration && prefixedProperty) {\n        styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n        styles[sideA] = 0;\n        styles[sideB] = 0;\n        styles.willChange = 'transform';\n    }\n    else {\n        // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n        var invertTop = sideA === 'bottom' ? -1 : 1;\n        var invertLeft = sideB === 'right' ? -1 : 1;\n        styles[sideA] = top * invertTop;\n        styles[sideB] = left * invertLeft;\n        styles.willChange = sideA + ', ' + sideB;\n    }\n    // Attributes\n    var attributes = {\n        'x-placement': data.placement\n    };\n    // Update `data` attributes, styles and arrowStyles\n    data.attributes = _extends({}, attributes, data.attributes);\n    data.styles = _extends({}, styles, data.styles);\n    data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n    return data;\n}\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n    var requesting = find(modifiers, function (_ref) {\n        var name = _ref.name;\n        return name === requestingName;\n    });\n    var isRequired = !!requesting && modifiers.some(function (modifier) {\n        return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n    });\n    if (!isRequired) {\n        var _requesting = '`' + requestingName + '`';\n        var requested = '`' + requestedName + '`';\n        console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n    }\n    return isRequired;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n    var _data$offsets$arrow;\n    // arrow depends on keepTogether in order to work\n    if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n        return data;\n    }\n    var arrowElement = options.element;\n    // if arrowElement is a string, suppose it's a CSS selector\n    if (typeof arrowElement === 'string') {\n        arrowElement = data.instance.popper.querySelector(arrowElement);\n        // if arrowElement is not found, don't run the modifier\n        if (!arrowElement) {\n            return data;\n        }\n    }\n    else {\n        // if the arrowElement isn't a query selector we must check that the\n        // provided DOM node is child of its popper node\n        if (!data.instance.popper.contains(arrowElement)) {\n            console.warn('WARNING: `arrow.element` must be child of its popper element!');\n            return data;\n        }\n    }\n    var placement = data.placement.split('-')[0];\n    var _data$offsets = data.offsets, popper = _data$offsets.popper, reference = _data$offsets.reference;\n    var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n    var len = isVertical ? 'height' : 'width';\n    var sideCapitalized = isVertical ? 'Top' : 'Left';\n    var side = sideCapitalized.toLowerCase();\n    var altSide = isVertical ? 'left' : 'top';\n    var opSide = isVertical ? 'bottom' : 'right';\n    var arrowElementSize = getOuterSizes(arrowElement)[len];\n    //\n    // extends keepTogether behavior making sure the popper and its\n    // reference have enough pixels in conjunction\n    //\n    // top/left side\n    if (reference[opSide] - arrowElementSize < popper[side]) {\n        data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n    }\n    // bottom/right side\n    if (reference[side] + arrowElementSize > popper[opSide]) {\n        data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n    }\n    data.offsets.popper = getClientRect(data.offsets.popper);\n    // compute center of the popper\n    var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n    // Compute the sideValue using the updated popper offsets\n    // take popper margin in account because we don't have this info available\n    var css = getStyleComputedProperty(data.instance.popper);\n    var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);\n    var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);\n    var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n    // prevent arrowElement from being placed not contiguously to its popper\n    sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n    data.arrowElement = arrowElement;\n    data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n    return data;\n}\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n    if (variation === 'end') {\n        return 'start';\n    }\n    else if (variation === 'start') {\n        return 'end';\n    }\n    return variation;\n}\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n    var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var index = validPlacements.indexOf(placement);\n    var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n    return counter ? arr.reverse() : arr;\n}\nvar BEHAVIORS = {\n    FLIP: 'flip',\n    CLOCKWISE: 'clockwise',\n    COUNTERCLOCKWISE: 'counterclockwise'\n};\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n    // if `inner` modifier is enabled, we can't use the `flip` modifier\n    if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n        return data;\n    }\n    if (data.flipped && data.placement === data.originalPlacement) {\n        // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n        return data;\n    }\n    var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n    var placement = data.placement.split('-')[0];\n    var placementOpposite = getOppositePlacement(placement);\n    var variation = data.placement.split('-')[1] || '';\n    var flipOrder = [];\n    switch (options.behavior) {\n        case BEHAVIORS.FLIP:\n            flipOrder = [placement, placementOpposite];\n            break;\n        case BEHAVIORS.CLOCKWISE:\n            flipOrder = clockwise(placement);\n            break;\n        case BEHAVIORS.COUNTERCLOCKWISE:\n            flipOrder = clockwise(placement, true);\n            break;\n        default:\n            flipOrder = options.behavior;\n    }\n    flipOrder.forEach(function (step, index) {\n        if (placement !== step || flipOrder.length === index + 1) {\n            return data;\n        }\n        placement = data.placement.split('-')[0];\n        placementOpposite = getOppositePlacement(placement);\n        var popperOffsets = data.offsets.popper;\n        var refOffsets = data.offsets.reference;\n        // using floor because the reference offsets may contain decimals we are not going to consider here\n        var floor = Math.floor;\n        var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n        var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n        var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n        var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n        var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n        var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n        // flip the variation if required\n        var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n        // flips variation if reference element overflows boundaries\n        var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n        // flips variation if popper content overflows boundaries\n        var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n        var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n        if (overlapsRef || overflowsBoundaries || flippedVariation) {\n            // this boolean to detect any flip loop\n            data.flipped = true;\n            if (overlapsRef || overflowsBoundaries) {\n                placement = flipOrder[index + 1];\n            }\n            if (flippedVariation) {\n                variation = getOppositeVariation(variation);\n            }\n            data.placement = placement + (variation ? '-' + variation : '');\n            // this object contains `position`, we want to preserve it along with\n            // any additional property we may add in the future\n            data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n            data = runModifiers(data.instance.modifiers, data, 'flip');\n        }\n    });\n    return data;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n    var _data$offsets = data.offsets, popper = _data$offsets.popper, reference = _data$offsets.reference;\n    var placement = data.placement.split('-')[0];\n    var floor = Math.floor;\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var side = isVertical ? 'right' : 'bottom';\n    var opSide = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n    if (popper[side] < floor(reference[opSide])) {\n        data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n    }\n    if (popper[opSide] > floor(reference[side])) {\n        data.offsets.popper[opSide] = floor(reference[side]);\n    }\n    return data;\n}\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n    // separate value from unit\n    var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n    var value = +split[1];\n    var unit = split[2];\n    // If it's not a number it's an operator, I guess\n    if (!value) {\n        return str;\n    }\n    if (unit.indexOf('%') === 0) {\n        var element = void 0;\n        switch (unit) {\n            case '%p':\n                element = popperOffsets;\n                break;\n            case '%':\n            case '%r':\n            default:\n                element = referenceOffsets;\n        }\n        var rect = getClientRect(element);\n        return rect[measurement] / 100 * value;\n    }\n    else if (unit === 'vh' || unit === 'vw') {\n        // if is a vh or vw, we calculate the size based on the viewport\n        var size = void 0;\n        if (unit === 'vh') {\n            size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n        }\n        else {\n            size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        }\n        return size / 100 * value;\n    }\n    else {\n        // if is an explicit pixel unit, we get rid of the unit and keep the value\n        // if is an implicit unit, it's px, and we return just the value\n        return value;\n    }\n}\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n    var offsets = [0, 0];\n    // Use height if placement is left or right and index is 0 otherwise use width\n    // in this way the first offset will use an axis and the second one\n    // will use the other one\n    var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n    // Split the offset string to obtain a list of values and operands\n    // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n    var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n        return frag.trim();\n    });\n    // Detect if the offset string contains a pair of values or a single one\n    // they could be separated by comma or space\n    var divider = fragments.indexOf(find(fragments, function (frag) {\n        return frag.search(/,|\\s/) !== -1;\n    }));\n    if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n        console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n    }\n    // If divider is found, we divide the list of values and operands to divide\n    // them by ofset X and Y.\n    var splitRegex = /\\s*,\\s*|\\s+/;\n    var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n    // Convert the values with units to absolute pixels to allow our computations\n    ops = ops.map(function (op, index) {\n        // Most of the units rely on the orientation of the popper\n        var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n        var mergeWithPrevious = false;\n        return op\n            // This aggregates any `+` or `-` sign that aren't considered operators\n            // e.g.: 10 + +5 => [10, +, +5]\n            .reduce(function (a, b) {\n            if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n                a[a.length - 1] = b;\n                mergeWithPrevious = true;\n                return a;\n            }\n            else if (mergeWithPrevious) {\n                a[a.length - 1] += b;\n                mergeWithPrevious = false;\n                return a;\n            }\n            else {\n                return a.concat(b);\n            }\n        }, [])\n            // Here we convert the string values into number values (in px)\n            .map(function (str) {\n            return toValue(str, measurement, popperOffsets, referenceOffsets);\n        });\n    });\n    // Loop trough the offsets arrays and execute the operations\n    ops.forEach(function (op, index) {\n        op.forEach(function (frag, index2) {\n            if (isNumeric(frag)) {\n                offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n            }\n        });\n    });\n    return offsets;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n    var offset = _ref.offset;\n    var placement = data.placement, _data$offsets = data.offsets, popper = _data$offsets.popper, reference = _data$offsets.reference;\n    var basePlacement = placement.split('-')[0];\n    var offsets = void 0;\n    if (isNumeric(+offset)) {\n        offsets = [+offset, 0];\n    }\n    else {\n        offsets = parseOffset(offset, popper, reference, basePlacement);\n    }\n    if (basePlacement === 'left') {\n        popper.top += offsets[0];\n        popper.left -= offsets[1];\n    }\n    else if (basePlacement === 'right') {\n        popper.top += offsets[0];\n        popper.left += offsets[1];\n    }\n    else if (basePlacement === 'top') {\n        popper.left += offsets[0];\n        popper.top -= offsets[1];\n    }\n    else if (basePlacement === 'bottom') {\n        popper.left += offsets[0];\n        popper.top += offsets[1];\n    }\n    data.popper = popper;\n    return data;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n    var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n    // If offsetParent is the reference element, we really want to\n    // go one step up and use the next offsetParent as reference to\n    // avoid to make this modifier completely useless and look like broken\n    if (data.instance.reference === boundariesElement) {\n        boundariesElement = getOffsetParent(boundariesElement);\n    }\n    // NOTE: DOM access here\n    // resets the popper's position so that the document size can be calculated excluding\n    // the size of the popper element itself\n    var transformProp = getSupportedPropertyName('transform');\n    var popperStyles = data.instance.popper.style; // assignment to help minification\n    var top = popperStyles.top, left = popperStyles.left, transform = popperStyles[transformProp];\n    popperStyles.top = '';\n    popperStyles.left = '';\n    popperStyles[transformProp] = '';\n    var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n    // NOTE: DOM access here\n    // restores the original style properties after the offsets have been computed\n    popperStyles.top = top;\n    popperStyles.left = left;\n    popperStyles[transformProp] = transform;\n    options.boundaries = boundaries;\n    var order = options.priority;\n    var popper = data.offsets.popper;\n    var check = {\n        primary: function primary(placement) {\n            var value = popper[placement];\n            if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n                value = Math.max(popper[placement], boundaries[placement]);\n            }\n            return defineProperty({}, placement, value);\n        },\n        secondary: function secondary(placement) {\n            var mainSide = placement === 'right' ? 'left' : 'top';\n            var value = popper[mainSide];\n            if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n                value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n            }\n            return defineProperty({}, mainSide, value);\n        }\n    };\n    order.forEach(function (placement) {\n        var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n        popper = _extends({}, popper, check[side](placement));\n    });\n    data.offsets.popper = popper;\n    return data;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n    var placement = data.placement;\n    var basePlacement = placement.split('-')[0];\n    var shiftvariation = placement.split('-')[1];\n    // if shift shiftvariation is specified, run the modifier\n    if (shiftvariation) {\n        var _data$offsets = data.offsets, reference = _data$offsets.reference, popper = _data$offsets.popper;\n        var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n        var side = isVertical ? 'left' : 'top';\n        var measurement = isVertical ? 'width' : 'height';\n        var shiftOffsets = {\n            start: defineProperty({}, side, reference[side]),\n            end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n        };\n        data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n    }\n    return data;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n    if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n        return data;\n    }\n    var refRect = data.offsets.reference;\n    var bound = find(data.instance.modifiers, function (modifier) {\n        return modifier.name === 'preventOverflow';\n    }).boundaries;\n    if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n        // Avoid unnecessary DOM access if visibility hasn't changed\n        if (data.hide === true) {\n            return data;\n        }\n        data.hide = true;\n        data.attributes['x-out-of-boundaries'] = '';\n    }\n    else {\n        // Avoid unnecessary DOM access if visibility hasn't changed\n        if (data.hide === false) {\n            return data;\n        }\n        data.hide = false;\n        data.attributes['x-out-of-boundaries'] = false;\n    }\n    return data;\n}\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n    var placement = data.placement;\n    var basePlacement = placement.split('-')[0];\n    var _data$offsets = data.offsets, popper = _data$offsets.popper, reference = _data$offsets.reference;\n    var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n    var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n    popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n    data.placement = getOppositePlacement(placement);\n    data.offsets.popper = getClientRect(popper);\n    return data;\n}\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n    /**\n     * Modifier used to shift the popper on the start or end of its reference\n     * element.<br />\n     * It will read the variation of the `placement` property.<br />\n     * It can be one either `-end` or `-start`.\n     * @memberof modifiers\n     * @inner\n     */\n    shift: {\n        /** @prop {number} order=100 - Index used to define the order of execution */\n        order: 100,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: shift\n    },\n    /**\n     * The `offset` modifier can shift your popper on both its axis.\n     *\n     * It accepts the following units:\n     * - `px` or unit-less, interpreted as pixels\n     * - `%` or `%r`, percentage relative to the length of the reference element\n     * - `%p`, percentage relative to the length of the popper element\n     * - `vw`, CSS viewport width unit\n     * - `vh`, CSS viewport height unit\n     *\n     * For length is intended the main axis relative to the placement of the popper.<br />\n     * This means that if the placement is `top` or `bottom`, the length will be the\n     * `width`. In case of `left` or `right`, it will be the `height`.\n     *\n     * You can provide a single value (as `Number` or `String`), or a pair of values\n     * as `String` divided by a comma or one (or more) white spaces.<br />\n     * The latter is a deprecated method because it leads to confusion and will be\n     * removed in v2.<br />\n     * Additionally, it accepts additions and subtractions between different units.\n     * Note that multiplications and divisions aren't supported.\n     *\n     * Valid examples are:\n     * ```\n     * 10\n     * '10%'\n     * '10, 10'\n     * '10%, 10'\n     * '10 + 10%'\n     * '10 - 5vh + 3%'\n     * '-10px + 5vh, 5px - 6%'\n     * ```\n     * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n     * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n     * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n     *\n     * @memberof modifiers\n     * @inner\n     */\n    offset: {\n        /** @prop {number} order=200 - Index used to define the order of execution */\n        order: 200,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: offset,\n        /** @prop {Number|String} offset=0\n         * The offset value as described in the modifier description\n         */\n        offset: 0\n    },\n    /**\n     * Modifier used to prevent the popper from being positioned outside the boundary.\n     *\n     * A scenario exists where the reference itself is not within the boundaries.<br />\n     * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n     * In this case we need to decide whether the popper should either:\n     *\n     * - detach from the reference and remain \"trapped\" in the boundaries, or\n     * - if it should ignore the boundary and \"escape with its reference\"\n     *\n     * When `escapeWithReference` is set to`true` and reference is completely\n     * outside its boundaries, the popper will overflow (or completely leave)\n     * the boundaries in order to remain attached to the edge of the reference.\n     *\n     * @memberof modifiers\n     * @inner\n     */\n    preventOverflow: {\n        /** @prop {number} order=300 - Index used to define the order of execution */\n        order: 300,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: preventOverflow,\n        /**\n         * @prop {Array} [priority=['left','right','top','bottom']]\n         * Popper will try to prevent overflow following these priorities by default,\n         * then, it could overflow on the left and on top of the `boundariesElement`\n         */\n        priority: ['left', 'right', 'top', 'bottom'],\n        /**\n         * @prop {number} padding=5\n         * Amount of pixel used to define a minimum distance between the boundaries\n         * and the popper. This makes sure the popper always has a little padding\n         * between the edges of its container\n         */\n        padding: 5,\n        /**\n         * @prop {String|HTMLElement} boundariesElement='scrollParent'\n         * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n         * `viewport` or any DOM element.\n         */\n        boundariesElement: 'scrollParent'\n    },\n    /**\n     * Modifier used to make sure the reference and its popper stay near each other\n     * without leaving any gap between the two. Especially useful when the arrow is\n     * enabled and you want to ensure that it points to its reference element.\n     * It cares only about the first axis. You can still have poppers with margin\n     * between the popper and its reference element.\n     * @memberof modifiers\n     * @inner\n     */\n    keepTogether: {\n        /** @prop {number} order=400 - Index used to define the order of execution */\n        order: 400,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: keepTogether\n    },\n    /**\n     * This modifier is used to move the `arrowElement` of the popper to make\n     * sure it is positioned between the reference element and its popper element.\n     * It will read the outer size of the `arrowElement` node to detect how many\n     * pixels of conjunction are needed.\n     *\n     * It has no effect if no `arrowElement` is provided.\n     * @memberof modifiers\n     * @inner\n     */\n    arrow: {\n        /** @prop {number} order=500 - Index used to define the order of execution */\n        order: 500,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: arrow,\n        /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n        element: '[x-arrow]'\n    },\n    /**\n     * Modifier used to flip the popper's placement when it starts to overlap its\n     * reference element.\n     *\n     * Requires the `preventOverflow` modifier before it in order to work.\n     *\n     * **NOTE:** this modifier will interrupt the current update cycle and will\n     * restart it if it detects the need to flip the placement.\n     * @memberof modifiers\n     * @inner\n     */\n    flip: {\n        /** @prop {number} order=600 - Index used to define the order of execution */\n        order: 600,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: flip,\n        /**\n         * @prop {String|Array} behavior='flip'\n         * The behavior used to change the popper's placement. It can be one of\n         * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n         * placements (with optional variations)\n         */\n        behavior: 'flip',\n        /**\n         * @prop {number} padding=5\n         * The popper will flip if it hits the edges of the `boundariesElement`\n         */\n        padding: 5,\n        /**\n         * @prop {String|HTMLElement} boundariesElement='viewport'\n         * The element which will define the boundaries of the popper position.\n         * The popper will never be placed outside of the defined boundaries\n         * (except if `keepTogether` is enabled)\n         */\n        boundariesElement: 'viewport',\n        /**\n         * @prop {Boolean} flipVariations=false\n         * The popper will switch placement variation between `-start` and `-end` when\n         * the reference element overlaps its boundaries.\n         *\n         * The original placement should have a set variation.\n         */\n        flipVariations: false,\n        /**\n         * @prop {Boolean} flipVariationsByContent=false\n         * The popper will switch placement variation between `-start` and `-end` when\n         * the popper element overlaps its reference boundaries.\n         *\n         * The original placement should have a set variation.\n         */\n        flipVariationsByContent: false\n    },\n    /**\n     * Modifier used to make the popper flow toward the inner of the reference element.\n     * By default, when this modifier is disabled, the popper will be placed outside\n     * the reference element.\n     * @memberof modifiers\n     * @inner\n     */\n    inner: {\n        /** @prop {number} order=700 - Index used to define the order of execution */\n        order: 700,\n        /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n        enabled: false,\n        /** @prop {ModifierFn} */\n        fn: inner\n    },\n    /**\n     * Modifier used to hide the popper when its reference element is outside of the\n     * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n     * be used to hide with a CSS selector the popper when its reference is\n     * out of boundaries.\n     *\n     * Requires the `preventOverflow` modifier before it in order to work.\n     * @memberof modifiers\n     * @inner\n     */\n    hide: {\n        /** @prop {number} order=800 - Index used to define the order of execution */\n        order: 800,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: hide\n    },\n    /**\n     * Computes the style that will be applied to the popper element to gets\n     * properly positioned.\n     *\n     * Note that this modifier will not touch the DOM, it just prepares the styles\n     * so that `applyStyle` modifier can apply it. This separation is useful\n     * in case you need to replace `applyStyle` with a custom implementation.\n     *\n     * This modifier has `850` as `order` value to maintain backward compatibility\n     * with previous versions of Popper.js. Expect the modifiers ordering method\n     * to change in future major versions of the library.\n     *\n     * @memberof modifiers\n     * @inner\n     */\n    computeStyle: {\n        /** @prop {number} order=850 - Index used to define the order of execution */\n        order: 850,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: computeStyle,\n        /**\n         * @prop {Boolean} gpuAcceleration=true\n         * If true, it uses the CSS 3D transformation to position the popper.\n         * Otherwise, it will use the `top` and `left` properties\n         */\n        gpuAcceleration: true,\n        /**\n         * @prop {string} [x='bottom']\n         * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n         * Change this if your popper should grow in a direction different from `bottom`\n         */\n        x: 'bottom',\n        /**\n         * @prop {string} [x='left']\n         * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n         * Change this if your popper should grow in a direction different from `right`\n         */\n        y: 'right'\n    },\n    /**\n     * Applies the computed styles to the popper element.\n     *\n     * All the DOM manipulations are limited to this modifier. This is useful in case\n     * you want to integrate Popper.js inside a framework or view library and you\n     * want to delegate all the DOM manipulations to it.\n     *\n     * Note that if you disable this modifier, you must make sure the popper element\n     * has its position set to `absolute` before Popper.js can do its work!\n     *\n     * Just disable this modifier and define your own to achieve the desired effect.\n     *\n     * @memberof modifiers\n     * @inner\n     */\n    applyStyle: {\n        /** @prop {number} order=900 - Index used to define the order of execution */\n        order: 900,\n        /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n        enabled: true,\n        /** @prop {ModifierFn} */\n        fn: applyStyle,\n        /** @prop {Function} */\n        onLoad: applyStyleOnLoad,\n        /**\n         * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n         * @prop {Boolean} gpuAcceleration=true\n         * If true, it uses the CSS 3D transformation to position the popper.\n         * Otherwise, it will use the `top` and `left` properties\n         */\n        gpuAcceleration: undefined\n    }\n};\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n    /**\n     * Popper's placement.\n     * @prop {Popper.placements} placement='bottom'\n     */\n    placement: 'bottom',\n    /**\n     * Set this to true if you want popper to position it self in 'fixed' mode\n     * @prop {Boolean} positionFixed=false\n     */\n    positionFixed: false,\n    /**\n     * Whether events (resize, scroll) are initially enabled.\n     * @prop {Boolean} eventsEnabled=true\n     */\n    eventsEnabled: true,\n    /**\n     * Set to true if you want to automatically remove the popper when\n     * you call the `destroy` method.\n     * @prop {Boolean} removeOnDestroy=false\n     */\n    removeOnDestroy: false,\n    /**\n     * Callback called when the popper is created.<br />\n     * By default, it is set to no-op.<br />\n     * Access Popper.js instance with `data.instance`.\n     * @prop {onCreate}\n     */\n    onCreate: function onCreate() { },\n    /**\n     * Callback called when the popper is updated. This callback is not called\n     * on the initialization/creation of the popper, but only on subsequent\n     * updates.<br />\n     * By default, it is set to no-op.<br />\n     * Access Popper.js instance with `data.instance`.\n     * @prop {onUpdate}\n     */\n    onUpdate: function onUpdate() { },\n    /**\n     * List of modifiers used to modify the offsets before they are applied to the popper.\n     * They provide most of the functionalities of Popper.js.\n     * @prop {modifiers}\n     */\n    modifiers: modifiers\n};\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n// Utils\n// Methods\nvar Popper = function () {\n    /**\n     * Creates a new Popper.js instance.\n     * @class Popper\n     * @param {Element|referenceObject} reference - The reference element used to position the popper\n     * @param {Element} popper - The HTML / XML element used as the popper\n     * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n     * @return {Object} instance - The generated Popper.js instance\n     */\n    function Popper(reference, popper) {\n        var _this = this;\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        classCallCheck(this, Popper);\n        this.scheduleUpdate = function () {\n            return requestAnimationFrame(_this.update);\n        };\n        // make update() debounced, so that it only runs at most once-per-tick\n        this.update = debounce(this.update.bind(this));\n        // with {} we create a new object with the options inside it\n        this.options = _extends({}, Popper.Defaults, options);\n        // init state\n        this.state = {\n            isDestroyed: false,\n            isCreated: false,\n            scrollParents: []\n        };\n        // get reference and popper elements (allow jQuery wrappers)\n        this.reference = reference && reference.jquery ? reference[0] : reference;\n        this.popper = popper && popper.jquery ? popper[0] : popper;\n        // Deep merge modifiers options\n        this.options.modifiers = {};\n        Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n            _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n        });\n        // Refactoring modifiers' list (Object => Array)\n        this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n            return _extends({\n                name: name\n            }, _this.options.modifiers[name]);\n        })\n            // sort the modifiers by order\n            .sort(function (a, b) {\n            return a.order - b.order;\n        });\n        // modifiers have the ability to execute arbitrary code when Popper.js get inited\n        // such code is executed in the same order of its modifier\n        // they could add new properties to their options configuration\n        // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n        this.modifiers.forEach(function (modifierOptions) {\n            if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n                modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n            }\n        });\n        // fire the first update to position the popper in the right place\n        this.update();\n        var eventsEnabled = this.options.eventsEnabled;\n        if (eventsEnabled) {\n            // setup event listeners, they will take care of update the position in specific situations\n            this.enableEventListeners();\n        }\n        this.state.eventsEnabled = eventsEnabled;\n    }\n    // We can't use class properties because they don't get listed in the\n    // class prototype and break stuff like Sinon stubs\n    createClass(Popper, [{\n            key: 'update',\n            value: function update$$1() {\n                return update.call(this);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy$$1() {\n                return destroy.call(this);\n            }\n        }, {\n            key: 'enableEventListeners',\n            value: function enableEventListeners$$1() {\n                return enableEventListeners.call(this);\n            }\n        }, {\n            key: 'disableEventListeners',\n            value: function disableEventListeners$$1() {\n                return disableEventListeners.call(this);\n            }\n            /**\n             * Schedules an update. It will run on the next UI update available.\n             * @method scheduleUpdate\n             * @memberof Popper\n             */\n            /**\n             * Collection of utilities useful when writing custom modifiers.\n             * Starting from version 1.7, this method is available only if you\n             * include `popper-utils.js` before `popper.js`.\n             *\n             * **DEPRECATION**: This way to access PopperUtils is deprecated\n             * and will be removed in v2! Use the PopperUtils module directly instead.\n             * Due to the high instability of the methods contained in Utils, we can't\n             * guarantee them to follow semver. Use them at your own risk!\n             * @static\n             * @private\n             * @type {Object}\n             * @deprecated since version 1.8\n             * @member Utils\n             * @memberof Popper\n             */\n        }]);\n    return Popper;\n}();\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n/**!\n* tippy.js v5.2.0\n* (c) 2017-2020 atomiks\n* MIT License\n*/\nfunction _extends$1() {\n    _extends$1 = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$1.apply(this, arguments);\n}\nvar version = \"5.2.0\";\n/**\n * Sets the innerHTML of an element\n */\nfunction setInnerHTML(element, html) {\n    element[innerHTML()] = html;\n}\n/**\n * Determines if the value is a reference element\n */\nfunction isReferenceElement(value) {\n    return !!(value && value._tippy && value._tippy.reference === value);\n}\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nfunction hasOwnProperty(obj, key) {\n    return {}.hasOwnProperty.call(obj, key);\n}\n/**\n * Returns an array of elements based on the value\n */\nfunction getArrayOfElements(value) {\n    if (isElement(value)) {\n        return [value];\n    }\n    if (isNodeList(value)) {\n        return arrayFrom(value);\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return arrayFrom(document.querySelectorAll(value));\n}\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n    if (Array.isArray(value)) {\n        var v = value[index];\n        return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n    }\n    return value;\n}\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nfunction getModifier(obj, key) {\n    return obj && obj.modifiers && obj.modifiers[key];\n}\n/**\n * Determines if the value is of type\n */\nfunction isType(value, type) {\n    var str = {}.toString.call(value);\n    return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\n/**\n * Determines if the value is of type Element\n */\nfunction isElement(value) {\n    return isType(value, 'Element');\n}\n/**\n * Determines if the value is of type NodeList\n */\nfunction isNodeList(value) {\n    return isType(value, 'NodeList');\n}\n/**\n * Determines if the value is of type MouseEvent\n */\nfunction isMouseEvent(value) {\n    return isType(value, 'MouseEvent');\n}\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick\n * it\n */\nfunction innerHTML() {\n    return 'innerHTML';\n}\n/**\n * Evaluates a function if one, or returns the value\n */\nfunction invokeWithArgsOrReturn(value, args) {\n    return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\n/**\n * Sets a popperInstance modifier's property to a value\n */\nfunction setModifierValue(modifiers, name, property, value) {\n    modifiers.filter(function (m) {\n        return m.name === name;\n    })[0][property] = value;\n}\n/**\n * Returns a new `div` element\n */\nfunction div() {\n    return document.createElement('div');\n}\n/**\n * Applies a transition duration to a list of elements\n */\nfunction setTransitionDuration(els, value) {\n    els.forEach(function (el) {\n        if (el) {\n            el.style.transitionDuration = value + \"ms\";\n        }\n    });\n}\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nfunction setVisibilityState(els, state) {\n    els.forEach(function (el) {\n        if (el) {\n            el.setAttribute('data-state', state);\n        }\n    });\n}\n/**\n * Debounce utility. To avoid bloating bundle size, we're only passing 1\n * argument here, a more generic function would pass all arguments. Only\n * `onMouseMove` uses this which takes the event object for now.\n */\nfunction debounce$1(fn, ms) {\n    // Avoid wrapping in `setTimeout` if ms is 0 anyway\n    if (ms === 0) {\n        return fn;\n    }\n    var timeout;\n    return function (arg) {\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            fn(arg);\n        }, ms);\n    };\n}\n/**\n * Preserves the original function invocation when another function replaces it\n */\nfunction preserveInvocation(originalFn, currentFn, args) {\n    if (originalFn && originalFn !== currentFn) {\n        originalFn.apply(void 0, args);\n    }\n}\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nfunction arrayFrom(value) {\n    return [].slice.call(value);\n}\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nfunction closestCallback(element, callback) {\n    while (element) {\n        if (callback(element)) {\n            return element;\n        }\n        element = element.parentElement;\n    }\n    return null;\n}\n/**\n * Determines if an array or string includes a string\n */\nfunction includes(a, b) {\n    return a.indexOf(b) > -1;\n}\n/**\n * Creates an array from string of values separated by whitespace\n */\nfunction splitBySpaces(value) {\n    return value.split(/\\s+/).filter(Boolean);\n}\n/**\n * Returns the `nextValue` if `nextValue` is not `undefined`, otherwise returns\n * `currentValue`\n */\nfunction useIfDefined(nextValue, currentValue) {\n    return nextValue !== undefined ? nextValue : currentValue;\n}\n/**\n * Converts a value that's an array or single value to an array\n */\nfunction normalizeToArray(value) {\n    return [].concat(value);\n}\n/**\n * Returns the ownerDocument of the first available element, otherwise global\n * document\n */\nfunction getOwnerDocument(elementOrElements) {\n    var _normalizeToArray = normalizeToArray(elementOrElements), element = _normalizeToArray[0];\n    return element ? element.ownerDocument || document : document;\n}\n/**\n * Adds item to array if array does not contain it\n */\nfunction pushIfUnique(arr, value) {\n    if (arr.indexOf(value) === -1) {\n        arr.push(value);\n    }\n}\n/**\n * Adds `px` if value is a number, or returns it directly\n */\nfunction appendPxIfNumber(value) {\n    return typeof value === 'number' ? value + \"px\" : value;\n}\n/**\n * Filters out duplicate elements in an array\n */\nfunction unique(arr) {\n    return arr.filter(function (item, index) {\n        return arr.indexOf(item) === index;\n    });\n}\n/**\n * Returns number from number or CSS units string\n */\nfunction getNumber(value) {\n    return typeof value === 'number' ? value : parseFloat(value);\n}\n/**\n * Gets number or CSS string units in pixels (e.g. `1rem` -> 16)\n */\nfunction getUnitsInPx(doc, value) {\n    var isRem = typeof value === 'string' && includes(value, 'rem');\n    var html = doc.documentElement;\n    var rootFontSize = 16;\n    if (html && isRem) {\n        return parseFloat(getComputedStyle(html).fontSize || String(rootFontSize)) * getNumber(value);\n    }\n    return getNumber(value);\n}\n/**\n * Adds the `distancePx` value to the placement of a Popper.Padding object\n */\nfunction getComputedPadding(basePlacement, padding, distancePx) {\n    if (padding === void 0) {\n        padding = 5;\n    }\n    var freshPaddingObject = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    };\n    var keys = Object.keys(freshPaddingObject);\n    return keys.reduce(function (obj, key) {\n        obj[key] = typeof padding === 'number' ? padding : padding[key];\n        if (basePlacement === key) {\n            obj[key] = typeof padding === 'number' ? padding + distancePx : padding[basePlacement] + distancePx;\n        }\n        return obj;\n    }, freshPaddingObject);\n}\nvar pluginProps = {\n    animateFill: false,\n    followCursor: false,\n    inlinePositioning: false,\n    sticky: false\n};\nvar defaultProps = _extends$1({\n    allowHTML: true,\n    animation: 'fade',\n    appendTo: function appendTo() {\n        return document.body;\n    },\n    aria: 'describedby',\n    arrow: true,\n    boundary: 'scrollParent',\n    content: '',\n    delay: 0,\n    distance: 10,\n    duration: [300, 250],\n    flip: true,\n    flipBehavior: 'flip',\n    flipOnUpdate: false,\n    hideOnClick: true,\n    ignoreAttributes: false,\n    inertia: false,\n    interactive: false,\n    interactiveBorder: 2,\n    interactiveDebounce: 0,\n    lazy: true,\n    maxWidth: 350,\n    multiple: false,\n    offset: 0,\n    onAfterUpdate: function onAfterUpdate() { },\n    onBeforeUpdate: function onBeforeUpdate() { },\n    onCreate: function onCreate() { },\n    onDestroy: function onDestroy() { },\n    onHidden: function onHidden() { },\n    onHide: function onHide() { },\n    onMount: function onMount() { },\n    onShow: function onShow() { },\n    onShown: function onShown() { },\n    onTrigger: function onTrigger() { },\n    onUntrigger: function onUntrigger() { },\n    placement: 'top',\n    plugins: [],\n    popperOptions: {},\n    role: 'tooltip',\n    showOnCreate: false,\n    theme: '',\n    touch: true,\n    trigger: 'mouseenter focus',\n    triggerTarget: null,\n    updateDuration: 0,\n    zIndex: 9999\n}, pluginProps);\nvar defaultKeys = Object.keys(defaultProps);\n/**\n * If the setProps() method encounters one of these, the popperInstance must be\n * recreated\n */\nvar POPPER_INSTANCE_DEPENDENCIES = ['arrow', 'boundary', 'distance', 'flip', 'flipBehavior', 'flipOnUpdate', 'offset', 'placement', 'popperOptions'];\n/**\n * Mutates the defaultProps object by setting the props specified\n */\nvar setDefaultProps = function setDefaultProps(partialProps) {\n    var keys = Object.keys(partialProps);\n    keys.forEach(function (key) {\n        defaultProps[key] = partialProps[key];\n    });\n};\n/**\n * Returns an extended props object including plugin props\n */\nfunction getExtendedPassedProps(passedProps) {\n    var plugins = passedProps.plugins || [];\n    var pluginProps = plugins.reduce(function (acc, plugin) {\n        var name = plugin.name, defaultValue = plugin.defaultValue;\n        if (name) {\n            acc[name] = passedProps[name] !== undefined ? passedProps[name] : defaultValue;\n        }\n        return acc;\n    }, {});\n    return _extends$1({}, passedProps, {}, pluginProps);\n}\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nfunction getDataAttributeProps(reference, plugins) {\n    var propKeys = plugins ? Object.keys(getExtendedPassedProps(_extends$1({}, defaultProps, {\n        plugins: plugins\n    }))) : defaultKeys;\n    var props = propKeys.reduce(function (acc, key) {\n        var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n        if (!valueAsString) {\n            return acc;\n        }\n        if (key === 'content') {\n            acc[key] = valueAsString;\n        }\n        else {\n            try {\n                acc[key] = JSON.parse(valueAsString);\n            }\n            catch (e) {\n                acc[key] = valueAsString;\n            }\n        }\n        return acc;\n    }, {});\n    return props;\n}\n/**\n * Evaluates the props object by merging data attributes and disabling\n * conflicting props where necessary\n */\nfunction evaluateProps(reference, props) {\n    var out = _extends$1({}, props, {\n        content: invokeWithArgsOrReturn(props.content, [reference])\n    }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n    if (out.interactive) {\n        out.aria = null;\n    }\n    return out;\n}\nvar PASSIVE = {\n    passive: true\n};\nvar IOS_CLASS = \"tippy-iOS\";\nvar POPPER_CLASS = \"tippy-popper\";\nvar TOOLTIP_CLASS = \"tippy-tooltip\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar POPPER_SELECTOR = \".\" + POPPER_CLASS;\nvar TOOLTIP_SELECTOR = \".\" + TOOLTIP_CLASS;\nvar CONTENT_SELECTOR = \".\" + CONTENT_CLASS;\nvar ARROW_SELECTOR = \".\" + ARROW_CLASS;\nvar SVG_ARROW_SELECTOR = \".\" + SVG_ARROW_CLASS;\nvar currentInput = {\n    isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nfunction onDocumentTouchStart() {\n    if (currentInput.isTouch) {\n        return;\n    }\n    currentInput.isTouch = true;\n    if (window.performance) {\n        document.addEventListener('mousemove', onDocumentMouseMove);\n    }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nfunction onDocumentMouseMove() {\n    var now = performance.now();\n    if (now - lastMouseMoveTime < 20) {\n        currentInput.isTouch = false;\n        document.removeEventListener('mousemove', onDocumentMouseMove);\n    }\n    lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nfunction onWindowBlur() {\n    var activeElement = document.activeElement;\n    if (isReferenceElement(activeElement)) {\n        var instance = activeElement._tippy;\n        if (activeElement.blur && !instance.state.isVisible) {\n            activeElement.blur();\n        }\n    }\n}\n/**\n * Adds the needed global event listeners\n */\nfunction bindGlobalEventListeners() {\n    document.addEventListener('touchstart', onDocumentTouchStart, _extends$1({}, PASSIVE, {\n        capture: true\n    }));\n    window.addEventListener('blur', onWindowBlur);\n}\nvar isBrowser$1 = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar ua = isBrowser$1 ? navigator.userAgent : '';\nvar isIE$1 = /MSIE |Trident\\//.test(ua);\nvar isUCBrowser = /UCBrowser\\//.test(ua);\nvar isIOS = isBrowser$1 && /iPhone|iPad|iPod/.test(navigator.platform);\nfunction updateIOSClass(isAdd) {\n    var shouldAdd = isAdd && isIOS && currentInput.isTouch;\n    document.body.classList[shouldAdd ? 'add' : 'remove'](IOS_CLASS);\n}\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nfunction getBasePlacement(placement) {\n    return placement.split('-')[0];\n}\n/**\n * Adds `data-inertia` attribute\n */\nfunction addInertia(tooltip) {\n    tooltip.setAttribute('data-inertia', '');\n}\n/**\n * Removes `data-inertia` attribute\n */\nfunction removeInertia(tooltip) {\n    tooltip.removeAttribute('data-inertia');\n}\n/**\n * Adds interactive-related attributes\n */\nfunction addInteractive(tooltip) {\n    tooltip.setAttribute('data-interactive', '');\n}\n/**\n * Removes interactive-related attributes\n */\nfunction removeInteractive(tooltip) {\n    tooltip.removeAttribute('data-interactive');\n}\n/**\n * Sets the content of a tooltip\n */\nfunction setContent(contentEl, props) {\n    if (isElement(props.content)) {\n        setInnerHTML(contentEl, '');\n        contentEl.appendChild(props.content);\n    }\n    else if (typeof props.content !== 'function') {\n        var key = props.allowHTML ? 'innerHTML' : 'textContent';\n        contentEl[key] = props.content;\n    }\n}\n/**\n * Returns the child elements of a popper element\n */\nfunction getChildren(popper) {\n    return {\n        tooltip: popper.querySelector(TOOLTIP_SELECTOR),\n        content: popper.querySelector(CONTENT_SELECTOR),\n        arrow: popper.querySelector(ARROW_SELECTOR) || popper.querySelector(SVG_ARROW_SELECTOR)\n    };\n}\n/**\n * Creates an arrow element and returns it\n */\nfunction createArrowElement(arrow) {\n    var arrowElement = div();\n    if (arrow === true) {\n        arrowElement.className = ARROW_CLASS;\n    }\n    else {\n        arrowElement.className = SVG_ARROW_CLASS;\n        if (isElement(arrow)) {\n            arrowElement.appendChild(arrow);\n        }\n        else {\n            setInnerHTML(arrowElement, arrow);\n        }\n    }\n    return arrowElement;\n}\n/**\n * Constructs the popper element and returns it\n */\nfunction createPopperElement(id, props) {\n    var popper = div();\n    popper.className = POPPER_CLASS;\n    popper.style.position = 'absolute';\n    popper.style.top = '0';\n    popper.style.left = '0';\n    var tooltip = div();\n    tooltip.className = TOOLTIP_CLASS;\n    tooltip.id = \"tippy-\" + id;\n    tooltip.setAttribute('data-state', 'hidden');\n    tooltip.setAttribute('tabindex', '-1');\n    updateTheme(tooltip, 'add', props.theme);\n    var content = div();\n    content.className = CONTENT_CLASS;\n    content.setAttribute('data-state', 'hidden');\n    if (props.interactive) {\n        addInteractive(tooltip);\n    }\n    if (props.arrow) {\n        tooltip.setAttribute('data-arrow', '');\n        tooltip.appendChild(createArrowElement(props.arrow));\n    }\n    if (props.inertia) {\n        addInertia(tooltip);\n    }\n    setContent(content, props);\n    tooltip.appendChild(content);\n    popper.appendChild(tooltip);\n    updatePopperElement(popper, props, props);\n    return popper;\n}\n/**\n * Updates the popper element based on the new props\n */\nfunction updatePopperElement(popper, prevProps, nextProps) {\n    var _getChildren = getChildren(popper), tooltip = _getChildren.tooltip, content = _getChildren.content, arrow = _getChildren.arrow;\n    popper.style.zIndex = '' + nextProps.zIndex;\n    tooltip.setAttribute('data-animation', nextProps.animation);\n    tooltip.style.maxWidth = appendPxIfNumber(nextProps.maxWidth);\n    if (nextProps.role) {\n        tooltip.setAttribute('role', nextProps.role);\n    }\n    else {\n        tooltip.removeAttribute('role');\n    }\n    if (prevProps.content !== nextProps.content) {\n        setContent(content, nextProps);\n    } // arrow\n    if (!prevProps.arrow && nextProps.arrow) {\n        // false to true\n        tooltip.appendChild(createArrowElement(nextProps.arrow));\n        tooltip.setAttribute('data-arrow', '');\n    }\n    else if (prevProps.arrow && !nextProps.arrow) {\n        // true to false\n        tooltip.removeChild(arrow);\n        tooltip.removeAttribute('data-arrow');\n    }\n    else if (prevProps.arrow !== nextProps.arrow) {\n        // true to 'round' or vice-versa\n        tooltip.removeChild(arrow);\n        tooltip.appendChild(createArrowElement(nextProps.arrow));\n    } // interactive\n    if (!prevProps.interactive && nextProps.interactive) {\n        addInteractive(tooltip);\n    }\n    else if (prevProps.interactive && !nextProps.interactive) {\n        removeInteractive(tooltip);\n    } // inertia\n    if (!prevProps.inertia && nextProps.inertia) {\n        addInertia(tooltip);\n    }\n    else if (prevProps.inertia && !nextProps.inertia) {\n        removeInertia(tooltip);\n    } // theme\n    if (prevProps.theme !== nextProps.theme) {\n        updateTheme(tooltip, 'remove', prevProps.theme);\n        updateTheme(tooltip, 'add', nextProps.theme);\n    }\n}\n/**\n * Add/remove transitionend listener from tooltip\n */\nfunction updateTransitionEndListener(tooltip, action, listener) {\n    var eventName = isUCBrowser && document.body.style.webkitTransition !== undefined ? 'webkitTransitionEnd' : 'transitionend';\n    tooltip[action + 'EventListener'](eventName, listener);\n}\n/**\n * Adds/removes theme from tooltip's classList\n */\nfunction updateTheme(tooltip, action, theme) {\n    splitBySpaces(theme).forEach(function (name) {\n        tooltip.classList[action](name + \"-theme\");\n    });\n}\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n    var clientX = event.clientX, clientY = event.clientY;\n    return popperTreeData.every(function (_ref) {\n        var popperRect = _ref.popperRect, tooltipRect = _ref.tooltipRect, interactiveBorder = _ref.interactiveBorder;\n        // Get min/max bounds of both the popper and tooltip rects due to\n        // `distance` offset\n        var mergedRect = {\n            top: Math.min(popperRect.top, tooltipRect.top),\n            right: Math.max(popperRect.right, tooltipRect.right),\n            bottom: Math.max(popperRect.bottom, tooltipRect.bottom),\n            left: Math.min(popperRect.left, tooltipRect.left)\n        };\n        var exceedsTop = mergedRect.top - clientY > interactiveBorder;\n        var exceedsBottom = clientY - mergedRect.bottom > interactiveBorder;\n        var exceedsLeft = mergedRect.left - clientX > interactiveBorder;\n        var exceedsRight = clientX - mergedRect.right > interactiveBorder;\n        return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n    });\n}\nvar idCounter = 1;\nvar mouseMoveListeners = [];\n/**\n * Used by `hideAll()`\n */\nvar mountedInstances = [];\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nfunction createTippy(reference, passedProps) {\n    var props = evaluateProps(reference, _extends$1({}, defaultProps, {}, getExtendedPassedProps(passedProps))); // If the reference shouldn't have multiple tippys, return null early\n    if (!props.multiple && reference._tippy) {\n        return null;\n    }\n    /* =======================  Private members  ======================= */\n    var showTimeout;\n    var hideTimeout;\n    var scheduleHideAnimationFrame;\n    var isBeingDestroyed = false;\n    var isVisibleFromClick = false;\n    var didHideDueToDocumentMouseDown = false;\n    var popperUpdates = 0;\n    var lastTriggerEvent;\n    var currentMountCallback;\n    var currentTransitionEndListener;\n    var listeners = [];\n    var debouncedOnMouseMove = debounce$1(onMouseMove, props.interactiveDebounce);\n    var currentTarget; // Support iframe contexts\n    // Static check that assumes any of the `triggerTarget` or `reference`\n    // nodes will never change documents, even when they are updated\n    var doc = getOwnerDocument(props.triggerTarget || reference);\n    /* =======================  Public members  ======================= */\n    var id = idCounter++;\n    var popper = createPopperElement(id, props);\n    var popperChildren = getChildren(popper);\n    var popperInstance = null;\n    var plugins = unique(props.plugins); // These two elements are static\n    var tooltip = popperChildren.tooltip, content = popperChildren.content;\n    var transitionableElements = [tooltip, content];\n    var state = {\n        // The current real placement (`data-placement` attribute)\n        currentPlacement: null,\n        // Is the instance currently enabled?\n        isEnabled: true,\n        // Is the tippy currently showing and not transitioning out?\n        isVisible: false,\n        // Has the instance been destroyed?\n        isDestroyed: false,\n        // Is the tippy currently mounted to the DOM?\n        isMounted: false,\n        // Has the tippy finished transitioning in?\n        isShown: false\n    };\n    var instance = {\n        // properties\n        id: id,\n        reference: reference,\n        popper: popper,\n        popperChildren: popperChildren,\n        popperInstance: popperInstance,\n        props: props,\n        state: state,\n        plugins: plugins,\n        // methods\n        clearDelayTimeouts: clearDelayTimeouts,\n        setProps: setProps,\n        setContent: setContent,\n        show: show,\n        hide: hide,\n        enable: enable,\n        disable: disable,\n        destroy: destroy\n    };\n    /* ==================== Initial instance mutations =================== */\n    reference._tippy = instance;\n    popper._tippy = instance;\n    var pluginsHooks = plugins.map(function (plugin) {\n        return plugin.fn(instance);\n    });\n    var hadAriaExpandedAttributeOnCreate = reference.hasAttribute('aria-expanded');\n    addListenersToTriggerTarget();\n    handleAriaExpandedAttribute();\n    if (!props.lazy) {\n        createPopperInstance();\n    }\n    invokeHook('onCreate', [instance]);\n    if (props.showOnCreate) {\n        scheduleShow();\n    } // Prevent a tippy with a delay from hiding if the cursor left then returned\n    // before it started hiding\n    popper.addEventListener('mouseenter', function () {\n        if (instance.props.interactive && instance.state.isVisible) {\n            instance.clearDelayTimeouts();\n        }\n    });\n    popper.addEventListener('mouseleave', function () {\n        if (instance.props.interactive && includes(instance.props.trigger, 'mouseenter')) {\n            doc.addEventListener('mousemove', debouncedOnMouseMove);\n        }\n    });\n    return instance;\n    /* =======================  Private methods  ======================= */\n    function getNormalizedTouchSettings() {\n        var touch = instance.props.touch;\n        return Array.isArray(touch) ? touch : [touch, 0];\n    }\n    function getIsCustomTouchBehavior() {\n        return getNormalizedTouchSettings()[0] === 'hold';\n    }\n    function getCurrentTarget() {\n        return currentTarget || reference;\n    }\n    function getDelay(isShow) {\n        // For touch or keyboard input, force `0` delay for UX reasons\n        // Also if the instance is mounted but not visible (transitioning out),\n        // ignore delay\n        if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n            return 0;\n        }\n        return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n    }\n    function invokeHook(hook, args, shouldInvokePropsHook) {\n        if (shouldInvokePropsHook === void 0) {\n            shouldInvokePropsHook = true;\n        }\n        pluginsHooks.forEach(function (pluginHooks) {\n            if (hasOwnProperty(pluginHooks, hook)) {\n                // @ts-ignore\n                pluginHooks[hook].apply(pluginHooks, args);\n            }\n        });\n        if (shouldInvokePropsHook) {\n            var _instance$props;\n            // @ts-ignore\n            (_instance$props = instance.props)[hook].apply(_instance$props, args);\n        }\n    }\n    function handleAriaDescribedByAttribute() {\n        var aria = instance.props.aria;\n        if (!aria) {\n            return;\n        }\n        var attr = \"aria-\" + aria;\n        var id = tooltip.id;\n        var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach(function (node) {\n            var currentValue = node.getAttribute(attr);\n            if (instance.state.isVisible) {\n                node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n            }\n            else {\n                var nextValue = currentValue && currentValue.replace(id, '').trim();\n                if (nextValue) {\n                    node.setAttribute(attr, nextValue);\n                }\n                else {\n                    node.removeAttribute(attr);\n                }\n            }\n        });\n    }\n    function handleAriaExpandedAttribute() {\n        // If the user has specified `aria-expanded` on their reference when the\n        // instance was created, we have to assume they're controlling it externally\n        // themselves\n        if (hadAriaExpandedAttributeOnCreate) {\n            return;\n        }\n        var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach(function (node) {\n            if (instance.props.interactive) {\n                node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n            }\n            else {\n                node.removeAttribute('aria-expanded');\n            }\n        });\n    }\n    function cleanupInteractiveMouseListeners() {\n        doc.body.removeEventListener('mouseleave', scheduleHide);\n        doc.removeEventListener('mousemove', debouncedOnMouseMove);\n        mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n            return listener !== debouncedOnMouseMove;\n        });\n    }\n    function onDocumentMouseDown(event) {\n        // Clicked on interactive popper\n        if (instance.props.interactive && popper.contains(event.target)) {\n            return;\n        } // Clicked on the event listeners target\n        if (getCurrentTarget().contains(event.target)) {\n            if (currentInput.isTouch) {\n                return;\n            }\n            if (instance.state.isVisible && includes(instance.props.trigger, 'click')) {\n                return;\n            }\n        }\n        if (instance.props.hideOnClick === true) {\n            isVisibleFromClick = false;\n            instance.clearDelayTimeouts();\n            instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n            // currentTarget. This lets a tippy with `focus` trigger know that it\n            // should not show\n            didHideDueToDocumentMouseDown = true;\n            setTimeout(function () {\n                didHideDueToDocumentMouseDown = false;\n            }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n            // before it shows, and hide()'s early bail-out behavior can prevent it\n            // from being cleaned up\n            if (!instance.state.isMounted) {\n                removeDocumentMouseDownListener();\n            }\n        }\n    }\n    function addDocumentMouseDownListener() {\n        doc.addEventListener('mousedown', onDocumentMouseDown, true);\n    }\n    function removeDocumentMouseDownListener() {\n        doc.removeEventListener('mousedown', onDocumentMouseDown, true);\n    }\n    function onTransitionedOut(duration, callback) {\n        onTransitionEnd(duration, function () {\n            if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n                callback();\n            }\n        });\n    }\n    function onTransitionedIn(duration, callback) {\n        onTransitionEnd(duration, callback);\n    }\n    function onTransitionEnd(duration, callback) {\n        function listener(event) {\n            if (event.target === tooltip) {\n                updateTransitionEndListener(tooltip, 'remove', listener);\n                callback();\n            }\n        } // Make callback synchronous if duration is 0\n        // `transitionend` won't fire otherwise\n        if (duration === 0) {\n            return callback();\n        }\n        updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener);\n        updateTransitionEndListener(tooltip, 'add', listener);\n        currentTransitionEndListener = listener;\n    }\n    function on(eventType, handler, options) {\n        if (options === void 0) {\n            options = false;\n        }\n        var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n        nodes.forEach(function (node) {\n            node.addEventListener(eventType, handler, options);\n            listeners.push({\n                node: node,\n                eventType: eventType,\n                handler: handler,\n                options: options\n            });\n        });\n    }\n    function addListenersToTriggerTarget() {\n        if (getIsCustomTouchBehavior()) {\n            on('touchstart', onTrigger, PASSIVE);\n            on('touchend', onMouseLeave, PASSIVE);\n        }\n        splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n            if (eventType === 'manual') {\n                return;\n            }\n            on(eventType, onTrigger);\n            switch (eventType) {\n                case 'mouseenter':\n                    on('mouseleave', onMouseLeave);\n                    break;\n                case 'focus':\n                    on(isIE$1 ? 'focusout' : 'blur', onBlur);\n                    break;\n                case 'focusin':\n                    on('focusout', onBlur);\n                    break;\n            }\n        });\n    }\n    function removeListenersFromTriggerTarget() {\n        listeners.forEach(function (_ref) {\n            var node = _ref.node, eventType = _ref.eventType, handler = _ref.handler, options = _ref.options;\n            node.removeEventListener(eventType, handler, options);\n        });\n        listeners = [];\n    }\n    function onTrigger(event) {\n        var shouldScheduleClickHide = false;\n        if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n            return;\n        }\n        lastTriggerEvent = event;\n        currentTarget = event.currentTarget;\n        handleAriaExpandedAttribute();\n        if (!instance.state.isVisible && isMouseEvent(event)) {\n            // If scrolling, `mouseenter` events can be fired if the cursor lands\n            // over a new target, but `mousemove` events don't get fired. This\n            // causes interactive tooltips to get stuck open until the cursor is\n            // moved\n            mouseMoveListeners.forEach(function (listener) {\n                return listener(event);\n            });\n        } // Toggle show/hide when clicking click-triggered tooltips\n        if (event.type === 'click' && (!includes(instance.props.trigger, 'mouseenter') || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n            shouldScheduleClickHide = true;\n        }\n        else {\n            var _getNormalizedTouchSe = getNormalizedTouchSettings(), value = _getNormalizedTouchSe[0], duration = _getNormalizedTouchSe[1];\n            if (currentInput.isTouch && value === 'hold' && duration) {\n                // We can hijack the show timeout here, it will be cleared by\n                // `scheduleHide()` when necessary\n                showTimeout = setTimeout(function () {\n                    scheduleShow(event);\n                }, duration);\n            }\n            else {\n                scheduleShow(event);\n            }\n        }\n        if (event.type === 'click') {\n            isVisibleFromClick = !shouldScheduleClickHide;\n        }\n        if (shouldScheduleClickHide) {\n            scheduleHide(event);\n        }\n    }\n    function onMouseMove(event) {\n        var isCursorOverReferenceOrPopper = closestCallback(event.target, function (el) {\n            return el === reference || el === popper;\n        });\n        if (isCursorOverReferenceOrPopper) {\n            return;\n        }\n        var popperTreeData = arrayFrom(popper.querySelectorAll(POPPER_SELECTOR)).concat(popper).map(function (popper) {\n            var instance = popper._tippy;\n            var tooltip = instance.popperChildren.tooltip;\n            var interactiveBorder = instance.props.interactiveBorder;\n            return {\n                popperRect: popper.getBoundingClientRect(),\n                tooltipRect: tooltip.getBoundingClientRect(),\n                interactiveBorder: interactiveBorder\n            };\n        });\n        if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n            cleanupInteractiveMouseListeners();\n            scheduleHide(event);\n        }\n    }\n    function onMouseLeave(event) {\n        if (isEventListenerStopped(event)) {\n            return;\n        }\n        if (includes(instance.props.trigger, 'click') && isVisibleFromClick) {\n            return;\n        }\n        if (instance.props.interactive) {\n            doc.body.addEventListener('mouseleave', scheduleHide);\n            doc.addEventListener('mousemove', debouncedOnMouseMove);\n            pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n            return;\n        }\n        scheduleHide(event);\n    }\n    function onBlur(event) {\n        if (event.target !== getCurrentTarget()) {\n            return;\n        } // If focus was moved to within the popper\n        if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n            return;\n        }\n        scheduleHide(event);\n    }\n    function isEventListenerStopped(event) {\n        var supportsTouch = 'ontouchstart' in window;\n        var isTouchEvent = includes(event.type, 'touch');\n        var isCustomTouch = getIsCustomTouchBehavior();\n        return supportsTouch && currentInput.isTouch && isCustomTouch && !isTouchEvent || currentInput.isTouch && !isCustomTouch && isTouchEvent;\n    }\n    function createPopperInstance() {\n        var popperOptions = instance.props.popperOptions;\n        var arrow = instance.popperChildren.arrow;\n        var flipModifier = getModifier(popperOptions, 'flip');\n        var preventOverflowModifier = getModifier(popperOptions, 'preventOverflow');\n        var distancePx;\n        function applyMutations(data) {\n            var prevPlacement = instance.state.currentPlacement;\n            instance.state.currentPlacement = data.placement;\n            if (instance.props.flip && !instance.props.flipOnUpdate) {\n                if (data.flipped) {\n                    instance.popperInstance.options.placement = data.placement;\n                }\n                setModifierValue(instance.popperInstance.modifiers, 'flip', 'enabled', false);\n            }\n            tooltip.setAttribute('data-placement', data.placement);\n            if (data.attributes['x-out-of-boundaries'] !== false) {\n                tooltip.setAttribute('data-out-of-boundaries', '');\n            }\n            else {\n                tooltip.removeAttribute('data-out-of-boundaries');\n            }\n            var basePlacement = getBasePlacement(data.placement);\n            var isVerticalPlacement = includes(['top', 'bottom'], basePlacement);\n            var isSecondaryPlacement = includes(['bottom', 'right'], basePlacement); // Apply `distance` prop\n            tooltip.style.top = '0';\n            tooltip.style.left = '0';\n            tooltip.style[isVerticalPlacement ? 'top' : 'left'] = (isSecondaryPlacement ? 1 : -1) * distancePx + 'px'; // Careful not to cause an infinite loop here\n            // Fixes https://github.com/FezVrasta/popper.js/issues/784\n            if (prevPlacement && prevPlacement !== data.placement) {\n                instance.popperInstance.update();\n            }\n        }\n        var config = _extends$1({\n            eventsEnabled: false,\n            placement: instance.props.placement\n        }, popperOptions, {\n            modifiers: _extends$1({}, popperOptions && popperOptions.modifiers, {\n                // We can't use `padding` on the popper el because of these bugs when\n                // flipping from a vertical to horizontal placement or vice-versa,\n                // there is severe flickering.\n                // https://github.com/FezVrasta/popper.js/issues/720\n                // This workaround increases bundle size by 250B minzip unfortunately,\n                // due to need to custom compute the distance (since Popper rect does\n                // not get affected by the inner tooltip's distance offset)\n                tippyDistance: {\n                    enabled: true,\n                    order: 0,\n                    fn: function fn(data) {\n                        // `html` fontSize may change while `popperInstance` is alive\n                        // e.g. on resize in media queries\n                        distancePx = getUnitsInPx(doc, instance.props.distance);\n                        var basePlacement = getBasePlacement(data.placement);\n                        var computedPreventOverflowPadding = getComputedPadding(basePlacement, preventOverflowModifier && preventOverflowModifier.padding, distancePx);\n                        var computedFlipPadding = getComputedPadding(basePlacement, flipModifier && flipModifier.padding, distancePx);\n                        var instanceModifiers = instance.popperInstance.modifiers;\n                        setModifierValue(instanceModifiers, 'preventOverflow', 'padding', computedPreventOverflowPadding);\n                        setModifierValue(instanceModifiers, 'flip', 'padding', computedFlipPadding);\n                        return data;\n                    }\n                },\n                preventOverflow: _extends$1({\n                    boundariesElement: instance.props.boundary\n                }, preventOverflowModifier),\n                flip: _extends$1({\n                    enabled: instance.props.flip,\n                    behavior: instance.props.flipBehavior\n                }, flipModifier),\n                arrow: _extends$1({\n                    element: arrow,\n                    enabled: !!arrow\n                }, getModifier(popperOptions, 'arrow')),\n                offset: _extends$1({\n                    offset: instance.props.offset\n                }, getModifier(popperOptions, 'offset'))\n            }),\n            onCreate: function onCreate(data) {\n                applyMutations(data);\n                preserveInvocation(popperOptions && popperOptions.onCreate, config.onCreate, [data]);\n                runMountCallback();\n            },\n            onUpdate: function onUpdate(data) {\n                applyMutations(data);\n                preserveInvocation(popperOptions && popperOptions.onUpdate, config.onUpdate, [data]);\n                runMountCallback();\n            }\n        });\n        instance.popperInstance = new Popper(reference, popper, config);\n    }\n    function runMountCallback() {\n        // Only invoke currentMountCallback after 2 updates\n        // This fixes some bugs in Popper.js (TODO: aim for only 1 update)\n        if (popperUpdates === 0) {\n            popperUpdates++; // 1\n            instance.popperInstance.update();\n        }\n        else if (currentMountCallback && popperUpdates === 1) {\n            popperUpdates++; // 2\n            currentMountCallback();\n        }\n    }\n    function mount() {\n        // The mounting callback (`currentMountCallback`) is only run due to a\n        // popperInstance update/create\n        popperUpdates = 0;\n        var appendTo = instance.props.appendTo;\n        var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n        // it's directly after the reference element so the elements inside the\n        // tippy can be tabbed to\n        // If there are clipping issues, the user can specify a different appendTo\n        // and ensure focus management is handled correctly manually\n        var node = getCurrentTarget();\n        if (instance.props.interactive && appendTo === defaultProps.appendTo || appendTo === 'parent') {\n            parentNode = node.parentNode;\n        }\n        else {\n            parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n        } // The popper element needs to exist on the DOM before its position can be\n        // updated as Popper.js needs to read its dimensions\n        if (!parentNode.contains(popper)) {\n            parentNode.appendChild(popper);\n        }\n        setModifierValue(instance.popperInstance.modifiers, 'flip', 'enabled', instance.props.flip);\n        instance.popperInstance.enableEventListeners(); // Mounting callback invoked in `onUpdate`\n        instance.popperInstance.update();\n    }\n    function scheduleShow(event) {\n        instance.clearDelayTimeouts();\n        if (!instance.popperInstance) {\n            createPopperInstance();\n        }\n        if (event) {\n            invokeHook('onTrigger', [instance, event]);\n        }\n        addDocumentMouseDownListener();\n        var delay = getDelay(true);\n        if (delay) {\n            showTimeout = setTimeout(function () {\n                instance.show();\n            }, delay);\n        }\n        else {\n            instance.show();\n        }\n    }\n    function scheduleHide(event) {\n        instance.clearDelayTimeouts();\n        invokeHook('onUntrigger', [instance, event]);\n        if (!instance.state.isVisible) {\n            removeDocumentMouseDownListener();\n            return;\n        } // For interactive tippies, scheduleHide is added to a document.body handler\n        // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n        // events when trigger contains mouseenter and click, and the tip is\n        // currently shown as a result of a click.\n        if (includes(instance.props.trigger, 'mouseenter') && includes(instance.props.trigger, 'click') && includes(['mouseleave', 'mousemove'], event.type) && isVisibleFromClick) {\n            return;\n        }\n        var delay = getDelay(false);\n        if (delay) {\n            hideTimeout = setTimeout(function () {\n                if (instance.state.isVisible) {\n                    instance.hide();\n                }\n            }, delay);\n        }\n        else {\n            // Fixes a `transitionend` problem when it fires 1 frame too\n            // late sometimes, we don't want hide() to be called.\n            scheduleHideAnimationFrame = requestAnimationFrame(function () {\n                instance.hide();\n            });\n        }\n    }\n    /* =======================  Public methods  ======================= */\n    function enable() {\n        instance.state.isEnabled = true;\n    }\n    function disable() {\n        // Disabling the instance should also hide it\n        // https://github.com/atomiks/tippy.js-react/issues/106\n        instance.hide();\n        instance.state.isEnabled = false;\n    }\n    function clearDelayTimeouts() {\n        clearTimeout(showTimeout);\n        clearTimeout(hideTimeout);\n        cancelAnimationFrame(scheduleHideAnimationFrame);\n    }\n    function setProps(partialProps) {\n        if (instance.state.isDestroyed) {\n            return;\n        }\n        invokeHook('onBeforeUpdate', [instance, partialProps]);\n        removeListenersFromTriggerTarget();\n        var prevProps = instance.props;\n        var nextProps = evaluateProps(reference, _extends$1({}, instance.props, {}, partialProps, {\n            ignoreAttributes: true\n        }));\n        nextProps.ignoreAttributes = useIfDefined(partialProps.ignoreAttributes, prevProps.ignoreAttributes);\n        instance.props = nextProps;\n        addListenersToTriggerTarget();\n        if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n            cleanupInteractiveMouseListeners();\n            debouncedOnMouseMove = debounce$1(onMouseMove, nextProps.interactiveDebounce);\n        }\n        updatePopperElement(popper, prevProps, nextProps);\n        instance.popperChildren = getChildren(popper); // Ensure stale aria-expanded attributes are removed\n        if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n            normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n                node.removeAttribute('aria-expanded');\n            });\n        }\n        else if (nextProps.triggerTarget) {\n            reference.removeAttribute('aria-expanded');\n        }\n        handleAriaExpandedAttribute();\n        if (instance.popperInstance) {\n            if (POPPER_INSTANCE_DEPENDENCIES.some(function (prop) {\n                return hasOwnProperty(partialProps, prop) && partialProps[prop] !== prevProps[prop];\n            })) {\n                var currentReference = instance.popperInstance.reference;\n                instance.popperInstance.destroy();\n                createPopperInstance();\n                instance.popperInstance.reference = currentReference;\n                if (instance.state.isVisible) {\n                    instance.popperInstance.enableEventListeners();\n                }\n            }\n            else {\n                instance.popperInstance.update();\n            }\n        }\n        invokeHook('onAfterUpdate', [instance, partialProps]);\n    }\n    function setContent(content) {\n        instance.setProps({\n            content: content\n        });\n    }\n    function show(duration) {\n        if (duration === void 0) {\n            duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n        }\n        var isAlreadyVisible = instance.state.isVisible;\n        var isDestroyed = instance.state.isDestroyed;\n        var isDisabled = !instance.state.isEnabled;\n        var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n        if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n            return;\n        } // Normalize `disabled` behavior across browsers.\n        // Firefox allows events on disabled elements, but Chrome doesn't.\n        // Using a wrapper element (i.e. <span>) is recommended.\n        if (getCurrentTarget().hasAttribute('disabled')) {\n            return;\n        }\n        if (!instance.popperInstance) {\n            createPopperInstance();\n        }\n        invokeHook('onShow', [instance], false);\n        if (instance.props.onShow(instance) === false) {\n            return;\n        }\n        addDocumentMouseDownListener();\n        popper.style.visibility = 'visible';\n        instance.state.isVisible = true; // Prevent a transition of the popper from its previous position and of the\n        // elements at a different placement\n        // Check if the tippy was fully unmounted before `show()` was called, to\n        // allow for smooth transition for `createSingleton()`\n        if (!instance.state.isMounted) {\n            setTransitionDuration(transitionableElements.concat(popper), 0);\n        }\n        currentMountCallback = function currentMountCallback() {\n            if (!instance.state.isVisible) {\n                return;\n            }\n            setTransitionDuration([popper], instance.props.updateDuration);\n            setTransitionDuration(transitionableElements, duration);\n            setVisibilityState(transitionableElements, 'visible');\n            handleAriaDescribedByAttribute();\n            handleAriaExpandedAttribute();\n            pushIfUnique(mountedInstances, instance);\n            updateIOSClass(true);\n            instance.state.isMounted = true;\n            invokeHook('onMount', [instance]);\n            onTransitionedIn(duration, function () {\n                instance.state.isShown = true;\n                invokeHook('onShown', [instance]);\n            });\n        };\n        mount();\n    }\n    function hide(duration) {\n        if (duration === void 0) {\n            duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n        }\n        var isAlreadyHidden = !instance.state.isVisible && !isBeingDestroyed;\n        var isDestroyed = instance.state.isDestroyed;\n        var isDisabled = !instance.state.isEnabled && !isBeingDestroyed;\n        if (isAlreadyHidden || isDestroyed || isDisabled) {\n            return;\n        }\n        invokeHook('onHide', [instance], false);\n        if (instance.props.onHide(instance) === false && !isBeingDestroyed) {\n            return;\n        }\n        removeDocumentMouseDownListener();\n        popper.style.visibility = 'hidden';\n        instance.state.isVisible = false;\n        instance.state.isShown = false;\n        setTransitionDuration(transitionableElements, duration);\n        setVisibilityState(transitionableElements, 'hidden');\n        handleAriaDescribedByAttribute();\n        handleAriaExpandedAttribute();\n        onTransitionedOut(duration, function () {\n            instance.popperInstance.disableEventListeners();\n            instance.popperInstance.options.placement = instance.props.placement;\n            popper.parentNode.removeChild(popper);\n            mountedInstances = mountedInstances.filter(function (i) {\n                return i !== instance;\n            });\n            if (mountedInstances.length === 0) {\n                updateIOSClass(false);\n            }\n            instance.state.isMounted = false;\n            invokeHook('onHidden', [instance]);\n        });\n    }\n    function destroy() {\n        if (instance.state.isDestroyed) {\n            return;\n        }\n        isBeingDestroyed = true;\n        instance.clearDelayTimeouts();\n        instance.hide(0);\n        removeListenersFromTriggerTarget();\n        delete reference._tippy;\n        if (instance.popperInstance) {\n            instance.popperInstance.destroy();\n        }\n        isBeingDestroyed = false;\n        instance.state.isDestroyed = true;\n        invokeHook('onDestroy', [instance]);\n    }\n}\nfunction tippy(targets, optionalProps, \n/** @deprecated use Props.plugins */\nplugins) {\n    if (optionalProps === void 0) {\n        optionalProps = {};\n    }\n    if (plugins === void 0) {\n        plugins = [];\n    }\n    plugins = defaultProps.plugins.concat(optionalProps.plugins || plugins);\n    bindGlobalEventListeners();\n    var passedProps = _extends$1({}, optionalProps, {\n        plugins: plugins\n    });\n    var elements = getArrayOfElements(targets);\n    var instances = elements.reduce(function (acc, reference) {\n        var instance = reference && createTippy(reference, passedProps);\n        if (instance) {\n            acc.push(instance);\n        }\n        return acc;\n    }, []);\n    return isElement(targets) ? instances[0] : instances;\n}\ntippy.version = version;\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar MonitorDataStreamName = /** @class */ (function () {\n    function MonitorDataStreamName(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.displayToolTip = function () {\n            var container = _this_1.el.querySelector('monitor-expandable-input');\n            var tooltip = _this_1.el.querySelector('.data-stream-name-tooltip');\n            if (tooltip != null && container != null) {\n                tooltip.style.display = 'block';\n                _this_1.tooltip = tippy(container, {\n                    placement: 'right',\n                    boundary: 'window',\n                    content: tooltip,\n                    theme: 'title',\n                    offset: '0, 10',\n                    duration: 0,\n                });\n            }\n        };\n    }\n    MonitorDataStreamName.prototype.componentDidUnload = function () {\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n    };\n    MonitorDataStreamName.prototype.render = function () {\n        var _this_1 = this;\n        return (h(\"div\", { class: \"awsui\" }, h(\"monitor-expandable-input\", { isDisabled: !this.isEditing, onValueChange: function (value) {\n                _this_1.onNameChange(value);\n            }, onMouseOver: this.displayToolTip, onFocus: this.displayToolTip, value: this.dataStreamInfo.name }), h(\"div\", { class: \"data-stream-name-tooltip awsui-util-container awsui\", style: { display: 'none' } }, h(\"div\", { class: \"awsui-util-spacing-v-s\" }, h(\"div\", null, h(\"div\", { class: \"awsui-util-label\" }, this.dataStreamInfo.detailedName || this.dataStreamInfo.name)), this.activePoint && (h(\"div\", null, h(\"div\", { class: \"awsui-util-label\" }, \"Latest Value at\"), h(\"div\", null, this.activePoint.point.x.toLocaleString('en-US', {\n            hour: 'numeric',\n            minute: 'numeric',\n            hour12: true,\n        }))))))));\n    };\n    Object.defineProperty(MonitorDataStreamName.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorDataStreamName;\n}());\nvar monitorExpandableInputCss = \".monitor-expandable-input{display:inline-block;background:none;color:var(--primary-main);word-break:break-word;margin-top:3px;min-width:20px;text-overflow:ellipsis;border:none;border-bottom:var(--border-width) dashed var(--primary-dark)}.monitor-expandable-input.disabled{outline:none;border-bottom-color:rgba(0, 0, 0, 0)}\";\nvar MonitorExpandableInput = /** @class */ (function () {\n    function MonitorExpandableInput(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.onChange = function (e) {\n            var span = e.target;\n            _this_1.onValueChange(span.innerText);\n        };\n    }\n    MonitorExpandableInput.prototype.render = function () {\n        var _c = this, value = _c.value, _d = _c.isDisabled, isDisabled = _d === void 0 ? false : _d;\n        return (h(\"span\", { \"data-test-tag\": \"expandable-input\", contentEditable: !isDisabled, class: \"monitor-expandable-input aws-util-font-size-1 \" + (isDisabled ? 'disabled' : ''), spellCheck: 'false', onBlur: this.onChange }, value));\n    };\n    return MonitorExpandableInput;\n}());\nMonitorExpandableInput.style = monitorExpandableInputCss;\nfunction initRange(domain, range) {\n    switch (arguments.length) {\n        case 0: break;\n        case 1:\n            this.range(domain);\n            break;\n        default:\n            this.range(range).domain(domain);\n            break;\n    }\n    return this;\n}\nfunction define(constructor, factory, prototype) {\n    constructor.prototype = factory.prototype = prototype;\n    prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n    var prototype = Object.create(parent.prototype);\n    for (var key in definition)\n        prototype[key] = definition[key];\n    return prototype;\n}\nfunction Color() { }\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"), reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"), reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"), reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"), reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"), reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n    copy: function (channels) {\n        return Object.assign(new this.constructor, this, channels);\n    },\n    displayable: function () {\n        return this.rgb().displayable();\n    },\n    hex: color_formatHex,\n    formatHex: color_formatHex,\n    formatHsl: color_formatHsl,\n    formatRgb: color_formatRgb,\n    toString: color_formatRgb\n});\nfunction color_formatHex() {\n    return this.rgb().formatHex();\n}\nfunction color_formatHsl() {\n    return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n    return this.rgb().formatRgb();\n}\nfunction color(format) {\n    var m, l;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n        : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n            : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n                : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n                    : null) // invalid hex\n        : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n            : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n                : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n                    : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n                        : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n                            : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n                                : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n                                    : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n                                        : null;\n}\nfunction rgbn(n) {\n    return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\nfunction rgba(r, g, b, a) {\n    if (a <= 0)\n        r = g = b = NaN;\n    return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n    if (!(o instanceof Color))\n        o = color(o);\n    if (!o)\n        return new Rgb;\n    o = o.rgb();\n    return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n    this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n    brighter: function (k) {\n        k = k == null ? brighter : Math.pow(brighter, k);\n        return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    darker: function (k) {\n        k = k == null ? darker : Math.pow(darker, k);\n        return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    rgb: function () {\n        return this;\n    },\n    displayable: function () {\n        return (-0.5 <= this.r && this.r < 255.5)\n            && (-0.5 <= this.g && this.g < 255.5)\n            && (-0.5 <= this.b && this.b < 255.5)\n            && (0 <= this.opacity && this.opacity <= 1);\n    },\n    hex: rgb_formatHex,\n    formatHex: rgb_formatHex,\n    formatRgb: rgb_formatRgb,\n    toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\nfunction rgb_formatRgb() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n}\nfunction hex(value) {\n    value = Math.max(0, Math.min(255, Math.round(value) || 0));\n    return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s, l, a) {\n    if (a <= 0)\n        h = s = l = NaN;\n    else if (l <= 0 || l >= 1)\n        h = s = NaN;\n    else if (s <= 0)\n        h = NaN;\n    return new Hsl(h, s, l, a);\n}\nfunction hslConvert(o) {\n    if (o instanceof Hsl)\n        return new Hsl(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Color))\n        o = color(o);\n    if (!o)\n        return new Hsl;\n    if (o instanceof Hsl)\n        return o;\n    o = o.rgb();\n    var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h = NaN, s = max - min, l = (max + min) / 2;\n    if (s) {\n        if (r === max)\n            h = (g - b) / s + (g < b) * 6;\n        else if (g === max)\n            h = (b - r) / s + 2;\n        else\n            h = (r - g) / s + 4;\n        s /= l < 0.5 ? max + min : 2 - max - min;\n        h *= 60;\n    }\n    else {\n        s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new Hsl(h, s, l, o.opacity);\n}\nfunction hsl(h, s, l, opacity) {\n    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n    brighter: function (k) {\n        k = k == null ? brighter : Math.pow(brighter, k);\n        return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function (k) {\n        k = k == null ? darker : Math.pow(darker, k);\n        return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function () {\n        var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n        return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n    },\n    displayable: function () {\n        return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n            && (0 <= this.l && this.l <= 1)\n            && (0 <= this.opacity && this.opacity <= 1);\n    },\n    formatHsl: function () {\n        var a = this.opacity;\n        a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n        return (a === 1 ? \"hsl(\" : \"hsla(\")\n            + (this.h || 0) + \", \"\n            + (this.s || 0) * 100 + \"%, \"\n            + (this.l || 0) * 100 + \"%\"\n            + (a === 1 ? \")\" : \", \" + a + \")\");\n    }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60\n        : h < 180 ? m2\n            : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n                : m1) * 255;\n}\nfunction constant(x) {\n    return function () {\n        return x;\n    };\n}\nfunction linear(a, d) {\n    return function (t) {\n        return a + t * d;\n    };\n}\nfunction exponential(a, b, y) {\n    return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n        return Math.pow(a + t * b, y);\n    };\n}\nfunction gamma(y) {\n    return (y = +y) === 1 ? nogamma : function (a, b) {\n        return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n    };\n}\nfunction nogamma(a, b) {\n    var d = b - a;\n    return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\nvar interpolateRgb = (function rgbGamma(y) {\n    var color = gamma(y);\n    function rgb$1(start, end) {\n        var r = color((start = rgb(start)).r, (end = rgb(end)).r), g = color(start.g, end.g), b = color(start.b, end.b), opacity = nogamma(start.opacity, end.opacity);\n        return function (t) {\n            start.r = r(t);\n            start.g = g(t);\n            start.b = b(t);\n            start.opacity = opacity(t);\n            return start + \"\";\n        };\n    }\n    rgb$1.gamma = rgbGamma;\n    return rgb$1;\n})(1);\nfunction array(a, b) {\n    var nb = b ? b.length : 0, na = a ? Math.min(nb, a.length) : 0, x = new Array(na), c = new Array(nb), i;\n    for (i = 0; i < na; ++i)\n        x[i] = interpolate(a[i], b[i]);\n    for (; i < nb; ++i)\n        c[i] = b[i];\n    return function (t) {\n        for (i = 0; i < na; ++i)\n            c[i] = x[i](t);\n        return c;\n    };\n}\nfunction date(a, b) {\n    var d = new Date;\n    return a = +a, b -= a, function (t) {\n        return d.setTime(a + b * t), d;\n    };\n}\nfunction interpolateNumber(a, b) {\n    return a = +a, b -= a, function (t) {\n        return a + b * t;\n    };\n}\nfunction object(a, b) {\n    var i = {}, c = {}, k;\n    if (a === null || typeof a !== \"object\")\n        a = {};\n    if (b === null || typeof b !== \"object\")\n        b = {};\n    for (k in b) {\n        if (k in a) {\n            i[k] = interpolate(a[k], b[k]);\n        }\n        else {\n            c[k] = b[k];\n        }\n    }\n    return function (t) {\n        for (k in i)\n            c[k] = i[k](t);\n        return c;\n    };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n    return function () {\n        return b;\n    };\n}\nfunction one(b) {\n    return function (t) {\n        return b(t) + \"\";\n    };\n}\nfunction interpolateString(a, b) {\n    var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n    am, // current match in a\n    bm, // current match in b\n    bs, // string preceding current number in b, if any\n    i = -1, // index in s\n    s = [], // string constants and placeholders\n    q = []; // number interpolators\n    // Coerce inputs to strings.\n    a = a + \"\", b = b + \"\";\n    // Interpolate pairs of numbers in a & b.\n    while ((am = reA.exec(a))\n        && (bm = reB.exec(b))) {\n        if ((bs = bm.index) > bi) { // a string precedes the next number in b\n            bs = b.slice(bi, bs);\n            if (s[i])\n                s[i] += bs; // coalesce with previous string\n            else\n                s[++i] = bs;\n        }\n        if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n            if (s[i])\n                s[i] += bm; // coalesce with previous string\n            else\n                s[++i] = bm;\n        }\n        else { // interpolate non-matching numbers\n            s[++i] = null;\n            q.push({ i: i, x: interpolateNumber(am, bm) });\n        }\n        bi = reB.lastIndex;\n    }\n    // Add remains of b.\n    if (bi < b.length) {\n        bs = b.slice(bi);\n        if (s[i])\n            s[i] += bs; // coalesce with previous string\n        else\n            s[++i] = bs;\n    }\n    // Special optimization for only a single match.\n    // Otherwise, interpolate each of the numbers and rejoin the string.\n    return s.length < 2 ? (q[0]\n        ? one(q[0].x)\n        : zero(b))\n        : (b = q.length, function (t) {\n            for (var i = 0, o; i < b; ++i)\n                s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n        });\n}\nfunction interpolate(a, b) {\n    var t = typeof b, c;\n    return b == null || t === \"boolean\" ? constant(b)\n        : (t === \"number\" ? interpolateNumber\n            : t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n                : b instanceof color ? interpolateRgb\n                    : b instanceof Date ? date\n                        : Array.isArray(b) ? array\n                            : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n                                : interpolateNumber)(a, b);\n}\nfunction interpolateRound(a, b) {\n    return a = +a, b -= a, function (t) {\n        return Math.round(a + b * t);\n    };\n}\nvar degrees = 180 / Math.PI;\nvar identity = {\n    translateX: 0,\n    translateY: 0,\n    rotate: 0,\n    skewX: 0,\n    scaleX: 1,\n    scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n    var scaleX, scaleY, skewX;\n    if (scaleX = Math.sqrt(a * a + b * b))\n        a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d)\n        c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d))\n        c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c)\n        a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n        translateX: e,\n        translateY: f,\n        rotate: Math.atan2(b, a) * degrees,\n        skewX: Math.atan(skewX) * degrees,\n        scaleX: scaleX,\n        scaleY: scaleY\n    };\n}\nvar cssNode, cssRoot, cssView, svgNode;\nfunction parseCss(value) {\n    if (value === \"none\")\n        return identity;\n    if (!cssNode)\n        cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n    cssNode.style.transform = value;\n    value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n    cssRoot.removeChild(cssNode);\n    value = value.slice(7, -1).split(\",\");\n    return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\nfunction parseSvg(value) {\n    if (value == null)\n        return identity;\n    if (!svgNode)\n        svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    svgNode.setAttribute(\"transform\", value);\n    if (!(value = svgNode.transform.baseVal.consolidate()))\n        return identity;\n    value = value.matrix;\n    return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n    function pop(s) {\n        return s.length ? s.pop() + \" \" : \"\";\n    }\n    function translate(xa, ya, xb, yb, s, q) {\n        if (xa !== xb || ya !== yb) {\n            var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n            q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n        }\n        else if (xb || yb) {\n            s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n        }\n    }\n    function rotate(a, b, s, q) {\n        if (a !== b) {\n            if (a - b > 180)\n                b += 360;\n            else if (b - a > 180)\n                a += 360; // shortest path\n            q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n        }\n        else if (b) {\n            s.push(pop(s) + \"rotate(\" + b + degParen);\n        }\n    }\n    function skewX(a, b, s, q) {\n        if (a !== b) {\n            q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n        }\n        else if (b) {\n            s.push(pop(s) + \"skewX(\" + b + degParen);\n        }\n    }\n    function scale(xa, ya, xb, yb, s, q) {\n        if (xa !== xb || ya !== yb) {\n            var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n            q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n        }\n        else if (xb !== 1 || yb !== 1) {\n            s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n        }\n    }\n    return function (a, b) {\n        var s = [], // string constants and placeholders\n        q = []; // number interpolators\n        a = parse(a), b = parse(b);\n        translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n        rotate(a.rotate, b.rotate, s, q);\n        skewX(a.skewX, b.skewX, s, q);\n        scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n        a = b = null; // gc\n        return function (t) {\n            var i = -1, n = q.length, o;\n            while (++i < n)\n                s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n        };\n    };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar rho = Math.SQRT2, rho2 = 2, rho4 = 4, epsilon2 = 1e-12;\nfunction cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nfunction interpolateZoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n        S = Math.log(w1 / w0) / rho;\n        i = function (t) {\n            return [\n                ux0 + t * dx,\n                uy0 + t * dy,\n                w0 * Math.exp(rho * t * S)\n            ];\n        };\n    }\n    // General case.\n    else {\n        var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n        S = (r1 - r0) / rho;\n        i = function (t) {\n            var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n            return [\n                ux0 + u * dx,\n                uy0 + u * dy,\n                w0 * coshr0 / cosh(rho * s + r0)\n            ];\n        };\n    }\n    i.duration = S * 1000;\n    return i;\n}\nfunction constant$1(x) {\n    return function () {\n        return x;\n    };\n}\nfunction number(x) {\n    return +x;\n}\nvar unit = [0, 1];\nfunction identity$1(x) {\n    return x;\n}\nfunction normalize(a, b) {\n    return (b -= (a = +a))\n        ? function (x) { return (x - a) / b; }\n        : constant$1(isNaN(b) ? NaN : 0.5);\n}\nfunction clamper(a, b) {\n    var t;\n    if (a > b)\n        t = a, a = b, b = t;\n    return function (x) { return Math.max(a, Math.min(b, x)); };\n}\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0)\n        d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n    else\n        d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n    return function (x) { return r0(d0(x)); };\n}\nfunction polymap(domain, range, interpolate) {\n    var j = Math.min(domain.length, range.length) - 1, d = new Array(j), r = new Array(j), i = -1;\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n        domain = domain.slice().reverse();\n        range = range.slice().reverse();\n    }\n    while (++i < j) {\n        d[i] = normalize(domain[i], domain[i + 1]);\n        r[i] = interpolate(range[i], range[i + 1]);\n    }\n    return function (x) {\n        var i = bisect(domain, x, 1, j) - 1;\n        return r[i](d[i](x));\n    };\n}\nfunction copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp())\n        .unknown(source.unknown());\n}\nfunction transformer() {\n    var domain = unit, range = unit, interpolate$1 = interpolate, transform, untransform, unknown, clamp = identity$1, piecewise, output, input;\n    function rescale() {\n        var n = Math.min(domain.length, range.length);\n        if (clamp !== identity$1)\n            clamp = clamper(domain[0], domain[n - 1]);\n        piecewise = n > 2 ? polymap : bimap;\n        output = input = null;\n        return scale;\n    }\n    function scale(x) {\n        return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n    }\n    scale.invert = function (y) {\n        return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n    };\n    scale.domain = function (_) {\n        return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n    };\n    scale.range = function (_) {\n        return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n    };\n    scale.rangeRound = function (_) {\n        return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n    };\n    scale.clamp = function (_) {\n        return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n    };\n    scale.interpolate = function (_) {\n        return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n    };\n    scale.unknown = function (_) {\n        return arguments.length ? (unknown = _, scale) : unknown;\n    };\n    return function (t, u) {\n        transform = t, untransform = u;\n        return rescale();\n    };\n}\nfunction continuous() {\n    return transformer()(identity$1, identity$1);\n}\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nfunction formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0)\n        return null; // NaN, Infinity\n    var i, coefficient = x.slice(0, i);\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n        coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n        +x.slice(i + 1)\n    ];\n}\nfunction exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\nfunction formatGroup(grouping, thousands) {\n    return function (value, width) {\n        var i = value.length, t = [], j = 0, g = grouping[0], length = 0;\n        while (i > 0 && g > 0) {\n            if (length + g + 1 > width)\n                g = Math.max(1, width - length);\n            t.push(value.substring(i -= g, i + g));\n            if ((length += g + 1) > width)\n                break;\n            g = grouping[j = (j + 1) % grouping.length];\n        }\n        return t.reverse().join(thousands);\n    };\n}\nfunction formatNumerals(numerals) {\n    return function (value) {\n        return value.replace(/[0-9]/g, function (i) {\n            return numerals[+i];\n        });\n    };\n}\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nfunction formatSpecifier(specifier) {\n    if (!(match = re.exec(specifier)))\n        throw new Error(\"invalid format: \" + specifier);\n    var match;\n    return new FormatSpecifier({\n        fill: match[1],\n        align: match[2],\n        sign: match[3],\n        symbol: match[4],\n        zero: match[5],\n        width: match[6],\n        comma: match[7],\n        precision: match[8] && match[8].slice(1),\n        trim: match[9],\n        type: match[10]\n    });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\nfunction FormatSpecifier(specifier) {\n    this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n    this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n    this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n    this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n    this.zero = !!specifier.zero;\n    this.width = specifier.width === undefined ? undefined : +specifier.width;\n    this.comma = !!specifier.comma;\n    this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n    this.trim = !!specifier.trim;\n    this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\nFormatSpecifier.prototype.toString = function () {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + (this.trim ? \"~\" : \"\")\n        + this.type;\n};\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n    out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n        switch (s[i]) {\n            case \".\":\n                i0 = i1 = i;\n                break;\n            case \"0\":\n                if (i0 === 0)\n                    i0 = i;\n                i1 = i;\n                break;\n            default:\n                if (i0 > 0) {\n                    if (!+s[i])\n                        break out;\n                    i0 = 0;\n                }\n                break;\n        }\n    }\n    return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\nvar prefixExponent;\nfunction formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d)\n        return x + \"\";\n    var coefficient = d[0], exponent = d[1], i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1, n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n            : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n                : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\nfunction formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d)\n        return x + \"\";\n    var coefficient = d[0], exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n            : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\nvar formatTypes = {\n    \"%\": function (x, p) { return (x * 100).toFixed(p); },\n    \"b\": function (x) { return Math.round(x).toString(2); },\n    \"c\": function (x) { return x + \"\"; },\n    \"d\": function (x) { return Math.round(x).toString(10); },\n    \"e\": function (x, p) { return x.toExponential(p); },\n    \"f\": function (x, p) { return x.toFixed(p); },\n    \"g\": function (x, p) { return x.toPrecision(p); },\n    \"o\": function (x) { return Math.round(x).toString(8); },\n    \"p\": function (x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function (x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function (x) { return Math.round(x).toString(16); }\n};\nfunction identity$2(x) {\n    return x;\n}\nvar map = Array.prototype.map, prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nfunction formatLocale(locale) {\n    var group = locale.grouping === undefined || locale.thousands === undefined ? identity$2 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"), currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\", currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\", decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\", numerals = locale.numerals === undefined ? identity$2 : formatNumerals(map.call(locale.numerals, String)), percent = locale.percent === undefined ? \"%\" : locale.percent + \"\", minus = locale.minus === undefined ? \"-\" : locale.minus + \"\", nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n    function newFormat(specifier) {\n        specifier = formatSpecifier(specifier);\n        var fill = specifier.fill, align = specifier.align, sign = specifier.sign, symbol = specifier.symbol, zero = specifier.zero, width = specifier.width, comma = specifier.comma, precision = specifier.precision, trim = specifier.trim, type = specifier.type;\n        // The \"n\" type is an alias for \",g\".\n        if (type === \"n\")\n            comma = true, type = \"g\";\n        // The \"\" type, and any invalid type, is an alias for \".12~g\".\n        else if (!formatTypes[type])\n            precision === undefined && (precision = 12), trim = true, type = \"g\";\n        // If zero fill is specified, padding goes after sign and before digits.\n        if (zero || (fill === \"0\" && align === \"=\"))\n            zero = true, fill = \"0\", align = \"=\";\n        // Compute the prefix and suffix.\n        // For SI-prefix, the suffix is lazily computed.\n        var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\", suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n        // What format function should we use?\n        // Is this an integer type?\n        // Can this type generate exponential notation?\n        var formatType = formatTypes[type], maybeSuffix = /[defgprs%]/.test(type);\n        // Set the default precision if not specified,\n        // or clamp the specified precision to the supported range.\n        // For significant precision, it must be in [1, 21].\n        // For fixed precision, it must be in [0, 20].\n        precision = precision === undefined ? 6\n            : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n                : Math.max(0, Math.min(20, precision));\n        function format(value) {\n            var valuePrefix = prefix, valueSuffix = suffix, i, n, c;\n            if (type === \"c\") {\n                valueSuffix = formatType(value) + valueSuffix;\n                value = \"\";\n            }\n            else {\n                value = +value;\n                // Perform the initial formatting.\n                var valueNegative = value < 0;\n                value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n                // Trim insignificant zeros.\n                if (trim)\n                    value = formatTrim(value);\n                // If a negative value rounds to zero during formatting, treat as positive.\n                if (valueNegative && +value === 0)\n                    valueNegative = false;\n                // Compute the prefix and suffix.\n                valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n                valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n                // Break the formatted value into the integer value part that can be\n                // grouped, and fractional or exponential suffix part that is not.\n                if (maybeSuffix) {\n                    i = -1, n = value.length;\n                    while (++i < n) {\n                        if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                            valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                            value = value.slice(0, i);\n                            break;\n                        }\n                    }\n                }\n            }\n            // If the fill character is not \"0\", grouping is applied before padding.\n            if (comma && !zero)\n                value = group(value, Infinity);\n            // Compute the padding.\n            var length = valuePrefix.length + value.length + valueSuffix.length, padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n            // If the fill character is \"0\", grouping is applied after padding.\n            if (comma && zero)\n                value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n            // Reconstruct the final output based on the desired alignment.\n            switch (align) {\n                case \"<\":\n                    value = valuePrefix + value + valueSuffix + padding;\n                    break;\n                case \"=\":\n                    value = valuePrefix + padding + value + valueSuffix;\n                    break;\n                case \"^\":\n                    value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n                    break;\n                default:\n                    value = padding + valuePrefix + value + valueSuffix;\n                    break;\n            }\n            return numerals(value);\n        }\n        format.toString = function () {\n            return specifier + \"\";\n        };\n        return format;\n    }\n    function formatPrefix(specifier, value) {\n        var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3, k = Math.pow(10, -e), prefix = prefixes[8 + e / 3];\n        return function (value) {\n            return f(k * value) + prefix;\n        };\n    }\n    return {\n        format: newFormat,\n        formatPrefix: formatPrefix\n    };\n}\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"],\n    minus: \"-\"\n});\nfunction defaultLocale(definition) {\n    locale = formatLocale(definition);\n    format = locale.format;\n    formatPrefix = locale.formatPrefix;\n    return locale;\n}\nfunction precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n}\nfunction precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\nfunction precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\nfunction tickFormat(start, stop, count, specifier) {\n    var step = tickStep(start, stop, count), precision;\n    specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n        case \"s\": {\n            var value = Math.max(Math.abs(start), Math.abs(stop));\n            if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value)))\n                specifier.precision = precision;\n            return formatPrefix(specifier, value);\n        }\n        case \"\":\n        case \"e\":\n        case \"g\":\n        case \"p\":\n        case \"r\": {\n            if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop)))))\n                specifier.precision = precision - (specifier.type === \"e\");\n            break;\n        }\n        case \"f\":\n        case \"%\": {\n            if (specifier.precision == null && !isNaN(precision = precisionFixed(step)))\n                specifier.precision = precision - (specifier.type === \"%\") * 2;\n            break;\n        }\n    }\n    return format(specifier);\n}\nfunction linearish(scale) {\n    var domain = scale.domain;\n    scale.ticks = function (count) {\n        var d = domain();\n        return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n    scale.tickFormat = function (count, specifier) {\n        var d = domain();\n        return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n    };\n    scale.nice = function (count) {\n        if (count == null)\n            count = 10;\n        var d = domain(), i0 = 0, i1 = d.length - 1, start = d[i0], stop = d[i1], step;\n        if (stop < start) {\n            step = start, start = stop, stop = step;\n            step = i0, i0 = i1, i1 = step;\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            domain(d);\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            domain(d);\n        }\n        return scale;\n    };\n    return scale;\n}\nfunction linear$1() {\n    var scale = continuous();\n    scale.copy = function () {\n        return copy(scale, linear$1());\n    };\n    initRange.apply(scale, arguments);\n    return linearish(scale);\n}\nfunction nice(domain, interval) {\n    domain = domain.slice();\n    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], t;\n    if (x1 < x0) {\n        t = i0, i0 = i1, i1 = t;\n        t = x0, x0 = x1, x1 = t;\n    }\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n}\nvar t0 = new Date, t1 = new Date;\nfunction newInterval(floori, offseti, count, field) {\n    function interval(date) {\n        return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n    }\n    interval.floor = function (date) {\n        return floori(date = new Date(+date)), date;\n    };\n    interval.ceil = function (date) {\n        return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n    };\n    interval.round = function (date) {\n        var d0 = interval(date), d1 = interval.ceil(date);\n        return date - d0 < d1 - date ? d0 : d1;\n    };\n    interval.offset = function (date, step) {\n        return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n    interval.range = function (start, stop, step) {\n        var range = [], previous;\n        start = interval.ceil(start);\n        step = step == null ? 1 : Math.floor(step);\n        if (!(start < stop) || !(step > 0))\n            return range; // also handles Invalid Date\n        do\n            range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n        while (previous < start && start < stop);\n        return range;\n    };\n    interval.filter = function (test) {\n        return newInterval(function (date) {\n            if (date >= date)\n                while (floori(date), !test(date))\n                    date.setTime(date - 1);\n        }, function (date, step) {\n            if (date >= date) {\n                if (step < 0)\n                    while (++step <= 0) {\n                        while (offseti(date, -1), !test(date)) { } // eslint-disable-line no-empty\n                    }\n                else\n                    while (--step >= 0) {\n                        while (offseti(date, +1), !test(date)) { } // eslint-disable-line no-empty\n                    }\n            }\n        });\n    };\n    if (count) {\n        interval.count = function (start, end) {\n            t0.setTime(+start), t1.setTime(+end);\n            floori(t0), floori(t1);\n            return Math.floor(count(t0, t1));\n        };\n        interval.every = function (step) {\n            step = Math.floor(step);\n            return !isFinite(step) || !(step > 0) ? null\n                : !(step > 1) ? interval\n                    : interval.filter(field\n                        ? function (d) { return field(d) % step === 0; }\n                        : function (d) { return interval.count(0, d) % step === 0; });\n        };\n    }\n    return interval;\n}\nvar millisecond = newInterval(function () {\n    // noop\n}, function (date, step) {\n    date.setTime(+date + step);\n}, function (start, end) {\n    return end - start;\n});\n// An optimized implementation for this simple case.\nmillisecond.every = function (k) {\n    k = Math.floor(k);\n    if (!isFinite(k) || !(k > 0))\n        return null;\n    if (!(k > 1))\n        return millisecond;\n    return newInterval(function (date) {\n        date.setTime(Math.floor(date / k) * k);\n    }, function (date, step) {\n        date.setTime(+date + step * k);\n    }, function (start, end) {\n        return (end - start) / k;\n    });\n};\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds());\n}, function (date, step) {\n    date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n    return (end - start) / durationSecond;\n}, function (date) {\n    return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function (date, step) {\n    date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n    return (end - start) / durationMinute;\n}, function (date) {\n    return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function (date, step) {\n    date.setTime(+date + step * durationHour);\n}, function (start, end) {\n    return (end - start) / durationHour;\n}, function (date) {\n    return date.getHours();\n});\nvar day = newInterval(function (date) {\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setDate(date.getDate() + step);\n}, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n    return date.getDate() - 1;\n});\nfunction weekday(i) {\n    return newInterval(function (date) {\n        date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n        date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setDate(date.getDate() + step * 7);\n    }, function (start, end) {\n        return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n    });\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n    return date.getMonth();\n});\nvar year = newInterval(function (date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n    return end.getFullYear() - start.getFullYear();\n}, function (date) {\n    return date.getFullYear();\n});\n// An optimized implementation for this simple case.\nyear.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n        date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n        date.setMonth(0, 1);\n        date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setFullYear(date.getFullYear() + step * k);\n    });\n};\nvar utcDay = newInterval(function (date) {\n    date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n    return (end - start) / durationDay;\n}, function (date) {\n    return date.getUTCDate() - 1;\n});\nfunction utcWeekday(i) {\n    return newInterval(function (date) {\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n        date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function (start, end) {\n        return (end - start) / durationWeek;\n    });\n}\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcYear = newInterval(function (date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n    return date.getUTCFullYear();\n});\n// An optimized implementation for this simple case.\nutcYear.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n        date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n        date.setUTCMonth(0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setUTCFullYear(date.getUTCFullYear() + step * k);\n    });\n};\nfunction localDate(d) {\n    if (0 <= d.y && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n    if (0 <= d.y && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\nfunction newDate(y, m, d) {\n    return { y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0 };\n}\nfunction formatLocale$1(locale) {\n    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_weekdays = locale.days, locale_shortWeekdays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n    var periodRe = formatRe(locale_periods), periodLookup = formatLookup(locale_periods), weekdayRe = formatRe(locale_weekdays), weekdayLookup = formatLookup(locale_weekdays), shortWeekdayRe = formatRe(locale_shortWeekdays), shortWeekdayLookup = formatLookup(locale_shortWeekdays), monthRe = formatRe(locale_months), monthLookup = formatLookup(locale_months), shortMonthRe = formatRe(locale_shortMonths), shortMonthLookup = formatLookup(locale_shortMonths);\n    var formats = {\n        \"a\": formatShortWeekday,\n        \"A\": formatWeekday,\n        \"b\": formatShortMonth,\n        \"B\": formatMonth,\n        \"c\": null,\n        \"d\": formatDayOfMonth,\n        \"e\": formatDayOfMonth,\n        \"f\": formatMicroseconds,\n        \"H\": formatHour24,\n        \"I\": formatHour12,\n        \"j\": formatDayOfYear,\n        \"L\": formatMilliseconds,\n        \"m\": formatMonthNumber,\n        \"M\": formatMinutes,\n        \"p\": formatPeriod,\n        \"q\": formatQuarter,\n        \"Q\": formatUnixTimestamp,\n        \"s\": formatUnixTimestampSeconds,\n        \"S\": formatSeconds,\n        \"u\": formatWeekdayNumberMonday,\n        \"U\": formatWeekNumberSunday,\n        \"V\": formatWeekNumberISO,\n        \"w\": formatWeekdayNumberSunday,\n        \"W\": formatWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": formatYear,\n        \"Y\": formatFullYear,\n        \"Z\": formatZone,\n        \"%\": formatLiteralPercent\n    };\n    var utcFormats = {\n        \"a\": formatUTCShortWeekday,\n        \"A\": formatUTCWeekday,\n        \"b\": formatUTCShortMonth,\n        \"B\": formatUTCMonth,\n        \"c\": null,\n        \"d\": formatUTCDayOfMonth,\n        \"e\": formatUTCDayOfMonth,\n        \"f\": formatUTCMicroseconds,\n        \"H\": formatUTCHour24,\n        \"I\": formatUTCHour12,\n        \"j\": formatUTCDayOfYear,\n        \"L\": formatUTCMilliseconds,\n        \"m\": formatUTCMonthNumber,\n        \"M\": formatUTCMinutes,\n        \"p\": formatUTCPeriod,\n        \"q\": formatUTCQuarter,\n        \"Q\": formatUnixTimestamp,\n        \"s\": formatUnixTimestampSeconds,\n        \"S\": formatUTCSeconds,\n        \"u\": formatUTCWeekdayNumberMonday,\n        \"U\": formatUTCWeekNumberSunday,\n        \"V\": formatUTCWeekNumberISO,\n        \"w\": formatUTCWeekdayNumberSunday,\n        \"W\": formatUTCWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": formatUTCYear,\n        \"Y\": formatUTCFullYear,\n        \"Z\": formatUTCZone,\n        \"%\": formatLiteralPercent\n    };\n    var parses = {\n        \"a\": parseShortWeekday,\n        \"A\": parseWeekday,\n        \"b\": parseShortMonth,\n        \"B\": parseMonth,\n        \"c\": parseLocaleDateTime,\n        \"d\": parseDayOfMonth,\n        \"e\": parseDayOfMonth,\n        \"f\": parseMicroseconds,\n        \"H\": parseHour24,\n        \"I\": parseHour24,\n        \"j\": parseDayOfYear,\n        \"L\": parseMilliseconds,\n        \"m\": parseMonthNumber,\n        \"M\": parseMinutes,\n        \"p\": parsePeriod,\n        \"q\": parseQuarter,\n        \"Q\": parseUnixTimestamp,\n        \"s\": parseUnixTimestampSeconds,\n        \"S\": parseSeconds,\n        \"u\": parseWeekdayNumberMonday,\n        \"U\": parseWeekNumberSunday,\n        \"V\": parseWeekNumberISO,\n        \"w\": parseWeekdayNumberSunday,\n        \"W\": parseWeekNumberMonday,\n        \"x\": parseLocaleDate,\n        \"X\": parseLocaleTime,\n        \"y\": parseYear,\n        \"Y\": parseFullYear,\n        \"Z\": parseZone,\n        \"%\": parseLiteralPercent\n    };\n    // These recursive directive definitions must be deferred.\n    formats.x = newFormat(locale_date, formats);\n    formats.X = newFormat(locale_time, formats);\n    formats.c = newFormat(locale_dateTime, formats);\n    utcFormats.x = newFormat(locale_date, utcFormats);\n    utcFormats.X = newFormat(locale_time, utcFormats);\n    utcFormats.c = newFormat(locale_dateTime, utcFormats);\n    function newFormat(specifier, formats) {\n        return function (date) {\n            var string = [], i = -1, j = 0, n = specifier.length, c, pad, format;\n            if (!(date instanceof Date))\n                date = new Date(+date);\n            while (++i < n) {\n                if (specifier.charCodeAt(i) === 37) {\n                    string.push(specifier.slice(j, i));\n                    if ((pad = pads[c = specifier.charAt(++i)]) != null)\n                        c = specifier.charAt(++i);\n                    else\n                        pad = c === \"e\" ? \" \" : \"0\";\n                    if (format = formats[c])\n                        c = format(date, pad);\n                    string.push(c);\n                    j = i + 1;\n                }\n            }\n            string.push(specifier.slice(j, i));\n            return string.join(\"\");\n        };\n    }\n    function newParse(specifier, Z) {\n        return function (string) {\n            var d = newDate(1900, undefined, 1), i = parseSpecifier(d, specifier, string += \"\", 0), week, day$1;\n            if (i != string.length)\n                return null;\n            // If a UNIX timestamp is specified, return it.\n            if (\"Q\" in d)\n                return new Date(d.Q);\n            if (\"s\" in d)\n                return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n            // If this is utcParse, never use the local timezone.\n            if (Z && !(\"Z\" in d))\n                d.Z = 0;\n            // The am-pm flag is 0 for AM, and 1 for PM.\n            if (\"p\" in d)\n                d.H = d.H % 12 + d.p * 12;\n            // If the month was not specified, inherit from the quarter.\n            if (d.m === undefined)\n                d.m = \"q\" in d ? d.q : 0;\n            // Convert day-of-week and week-of-year to day-of-year.\n            if (\"V\" in d) {\n                if (d.V < 1 || d.V > 53)\n                    return null;\n                if (!(\"w\" in d))\n                    d.w = 1;\n                if (\"Z\" in d) {\n                    week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n                    week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n                    week = utcDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getUTCFullYear();\n                    d.m = week.getUTCMonth();\n                    d.d = week.getUTCDate() + (d.w + 6) % 7;\n                }\n                else {\n                    week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n                    week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n                    week = day.offset(week, (d.V - 1) * 7);\n                    d.y = week.getFullYear();\n                    d.m = week.getMonth();\n                    d.d = week.getDate() + (d.w + 6) % 7;\n                }\n            }\n            else if (\"W\" in d || \"U\" in d) {\n                if (!(\"w\" in d))\n                    d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n                day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n                d.m = 0;\n                d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n            }\n            // If a time zone is specified, all fields are interpreted as UTC and then\n            // offset according to the specified time zone.\n            if (\"Z\" in d) {\n                d.H += d.Z / 100 | 0;\n                d.M += d.Z % 100;\n                return utcDate(d);\n            }\n            // Otherwise, all fields are in local time.\n            return localDate(d);\n        };\n    }\n    function parseSpecifier(d, specifier, string, j) {\n        var i = 0, n = specifier.length, m = string.length, c, parse;\n        while (i < n) {\n            if (j >= m)\n                return -1;\n            c = specifier.charCodeAt(i++);\n            if (c === 37) {\n                c = specifier.charAt(i++);\n                parse = parses[c in pads ? specifier.charAt(i++) : c];\n                if (!parse || ((j = parse(d, string, j)) < 0))\n                    return -1;\n            }\n            else if (c != string.charCodeAt(j++)) {\n                return -1;\n            }\n        }\n        return j;\n    }\n    function parsePeriod(d, string, i) {\n        var n = periodRe.exec(string.slice(i));\n        return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, locale_dateTime, string, i);\n    }\n    function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, locale_date, string, i);\n    }\n    function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, locale_time, string, i);\n    }\n    function formatShortWeekday(d) {\n        return locale_shortWeekdays[d.getDay()];\n    }\n    function formatWeekday(d) {\n        return locale_weekdays[d.getDay()];\n    }\n    function formatShortMonth(d) {\n        return locale_shortMonths[d.getMonth()];\n    }\n    function formatMonth(d) {\n        return locale_months[d.getMonth()];\n    }\n    function formatPeriod(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n    }\n    function formatQuarter(d) {\n        return 1 + ~~(d.getMonth() / 3);\n    }\n    function formatUTCShortWeekday(d) {\n        return locale_shortWeekdays[d.getUTCDay()];\n    }\n    function formatUTCWeekday(d) {\n        return locale_weekdays[d.getUTCDay()];\n    }\n    function formatUTCShortMonth(d) {\n        return locale_shortMonths[d.getUTCMonth()];\n    }\n    function formatUTCMonth(d) {\n        return locale_months[d.getUTCMonth()];\n    }\n    function formatUTCPeriod(d) {\n        return locale_periods[+(d.getUTCHours() >= 12)];\n    }\n    function formatUTCQuarter(d) {\n        return 1 + ~~(d.getUTCMonth() / 3);\n    }\n    return {\n        format: function (specifier) {\n            var f = newFormat(specifier += \"\", formats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        parse: function (specifier) {\n            var p = newParse(specifier += \"\", false);\n            p.toString = function () { return specifier; };\n            return p;\n        },\n        utcFormat: function (specifier) {\n            var f = newFormat(specifier += \"\", utcFormats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        utcParse: function (specifier) {\n            var p = newParse(specifier += \"\", true);\n            p.toString = function () { return specifier; };\n            return p;\n        }\n    };\n}\nvar pads = { \"-\": \"\", \"_\": \" \", \"0\": \"0\" }, numberRe = /^\\s*\\d+/, // note: ignores next directive\npercentRe = /^%/, requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\nfunction pad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\nfunction requote(s) {\n    return s.replace(requoteRe, \"\\\\$&\");\n}\nfunction formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\nfunction formatLookup(names) {\n    var map = {}, i = -1, n = names.length;\n    while (++i < n)\n        map[names[i].toLowerCase()] = i;\n    return map;\n}\nfunction parseWeekdayNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekdayNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberISO(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\nfunction parseFullYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 4));\n    return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\nfunction parseYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\nfunction parseZone(d, string, i) {\n    var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n    return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\nfunction parseQuarter(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\nfunction parseMonthNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\nfunction parseDayOfMonth(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseDayOfYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseHour24(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\nfunction parseMinutes(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\nfunction parseSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\nfunction parseMilliseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\nfunction parseMicroseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 6));\n    return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\nfunction parseLiteralPercent(d, string, i) {\n    var n = percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n}\nfunction parseUnixTimestamp(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\nfunction parseUnixTimestampSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\nfunction formatDayOfMonth(d, p) {\n    return pad(d.getDate(), p, 2);\n}\nfunction formatHour24(d, p) {\n    return pad(d.getHours(), p, 2);\n}\nfunction formatHour12(d, p) {\n    return pad(d.getHours() % 12 || 12, p, 2);\n}\nfunction formatDayOfYear(d, p) {\n    return pad(1 + day.count(year(d), d), p, 3);\n}\nfunction formatMilliseconds(d, p) {\n    return pad(d.getMilliseconds(), p, 3);\n}\nfunction formatMicroseconds(d, p) {\n    return formatMilliseconds(d, p) + \"000\";\n}\nfunction formatMonthNumber(d, p) {\n    return pad(d.getMonth() + 1, p, 2);\n}\nfunction formatMinutes(d, p) {\n    return pad(d.getMinutes(), p, 2);\n}\nfunction formatSeconds(d, p) {\n    return pad(d.getSeconds(), p, 2);\n}\nfunction formatWeekdayNumberMonday(d) {\n    var day = d.getDay();\n    return day === 0 ? 7 : day;\n}\nfunction formatWeekNumberSunday(d, p) {\n    return pad(sunday.count(year(d) - 1, d), p, 2);\n}\nfunction formatWeekNumberISO(d, p) {\n    var day = d.getDay();\n    d = (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n    return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\nfunction formatWeekdayNumberSunday(d) {\n    return d.getDay();\n}\nfunction formatWeekNumberMonday(d, p) {\n    return pad(monday.count(year(d) - 1, d), p, 2);\n}\nfunction formatYear(d, p) {\n    return pad(d.getFullYear() % 100, p, 2);\n}\nfunction formatFullYear(d, p) {\n    return pad(d.getFullYear() % 10000, p, 4);\n}\nfunction formatZone(d) {\n    var z = d.getTimezoneOffset();\n    return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n        + pad(z / 60 | 0, \"0\", 2)\n        + pad(z % 60, \"0\", 2);\n}\nfunction formatUTCDayOfMonth(d, p) {\n    return pad(d.getUTCDate(), p, 2);\n}\nfunction formatUTCHour24(d, p) {\n    return pad(d.getUTCHours(), p, 2);\n}\nfunction formatUTCHour12(d, p) {\n    return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\nfunction formatUTCDayOfYear(d, p) {\n    return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\nfunction formatUTCMilliseconds(d, p) {\n    return pad(d.getUTCMilliseconds(), p, 3);\n}\nfunction formatUTCMicroseconds(d, p) {\n    return formatUTCMilliseconds(d, p) + \"000\";\n}\nfunction formatUTCMonthNumber(d, p) {\n    return pad(d.getUTCMonth() + 1, p, 2);\n}\nfunction formatUTCMinutes(d, p) {\n    return pad(d.getUTCMinutes(), p, 2);\n}\nfunction formatUTCSeconds(d, p) {\n    return pad(d.getUTCSeconds(), p, 2);\n}\nfunction formatUTCWeekdayNumberMonday(d) {\n    var dow = d.getUTCDay();\n    return dow === 0 ? 7 : dow;\n}\nfunction formatUTCWeekNumberSunday(d, p) {\n    return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction formatUTCWeekNumberISO(d, p) {\n    var day = d.getUTCDay();\n    d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n    return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\nfunction formatUTCWeekdayNumberSunday(d) {\n    return d.getUTCDay();\n}\nfunction formatUTCWeekNumberMonday(d, p) {\n    return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction formatUTCYear(d, p) {\n    return pad(d.getUTCFullYear() % 100, p, 2);\n}\nfunction formatUTCFullYear(d, p) {\n    return pad(d.getUTCFullYear() % 10000, p, 4);\n}\nfunction formatUTCZone() {\n    return \"+0000\";\n}\nfunction formatLiteralPercent() {\n    return \"%\";\n}\nfunction formatUnixTimestamp(d) {\n    return +d;\n}\nfunction formatUnixTimestampSeconds(d) {\n    return Math.floor(+d / 1000);\n}\nvar locale$1;\nvar timeFormat;\ndefaultLocale$1({\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\nfunction defaultLocale$1(definition) {\n    locale$1 = formatLocale$1(definition);\n    timeFormat = locale$1.format;\n    return locale$1;\n}\nvar durationSecond$1 = 1000, durationMinute$1 = durationSecond$1 * 60, durationHour$1 = durationMinute$1 * 60, durationDay$1 = durationHour$1 * 24, durationWeek$1 = durationDay$1 * 7, durationMonth = durationDay$1 * 30, durationYear = durationDay$1 * 365;\nfunction date$1(t) {\n    return new Date(t);\n}\nfunction number$1(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n}\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(), invert = scale.invert, domain = scale.domain;\n    var formatMillisecond = format(\".%L\"), formatSecond = format(\":%S\"), formatMinute = format(\"%I:%M\"), formatHour = format(\"%I %p\"), formatDay = format(\"%a %d\"), formatWeek = format(\"%b %d\"), formatMonth = format(\"%B\"), formatYear = format(\"%Y\");\n    var tickIntervals = [\n        [second, 1, durationSecond$1],\n        [second, 5, 5 * durationSecond$1],\n        [second, 15, 15 * durationSecond$1],\n        [second, 30, 30 * durationSecond$1],\n        [minute, 1, durationMinute$1],\n        [minute, 5, 5 * durationMinute$1],\n        [minute, 15, 15 * durationMinute$1],\n        [minute, 30, 30 * durationMinute$1],\n        [hour, 1, durationHour$1],\n        [hour, 3, 3 * durationHour$1],\n        [hour, 6, 6 * durationHour$1],\n        [hour, 12, 12 * durationHour$1],\n        [day, 1, durationDay$1],\n        [day, 2, 2 * durationDay$1],\n        [week, 1, durationWeek$1],\n        [month, 1, durationMonth],\n        [month, 3, 3 * durationMonth],\n        [year, 1, durationYear]\n    ];\n    function tickFormat(date) {\n        return (second(date) < date ? formatMillisecond\n            : minute(date) < date ? formatSecond\n                : hour(date) < date ? formatMinute\n                    : day(date) < date ? formatHour\n                        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n                            : year(date) < date ? formatMonth\n                                : formatYear)(date);\n    }\n    function tickInterval(interval, start, stop) {\n        if (interval == null)\n            interval = 10;\n        // If a desired tick count is specified, pick a reasonable tick interval\n        // based on the extent of the domain and a rough estimate of tick size.\n        // Otherwise, assume interval is already a time interval and use it.\n        if (typeof interval === \"number\") {\n            var target = Math.abs(stop - start) / interval, i = bisector(function (i) { return i[2]; }).right(tickIntervals, target), step;\n            if (i === tickIntervals.length) {\n                step = tickStep(start / durationYear, stop / durationYear, interval);\n                interval = year;\n            }\n            else if (i) {\n                i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n                step = i[1];\n                interval = i[0];\n            }\n            else {\n                step = Math.max(tickStep(start, stop, interval), 1);\n                interval = millisecond;\n            }\n            return interval.every(step);\n        }\n        return interval;\n    }\n    scale.invert = function (y) {\n        return new Date(invert(y));\n    };\n    scale.domain = function (_) {\n        return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n    };\n    scale.ticks = function (interval) {\n        var d = domain(), t0 = d[0], t1 = d[d.length - 1], r = t1 < t0, t;\n        if (r)\n            t = t0, t0 = t1, t1 = t;\n        t = tickInterval(interval, t0, t1);\n        t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n        return r ? t.reverse() : t;\n    };\n    scale.tickFormat = function (count, specifier) {\n        return specifier == null ? tickFormat : format(specifier);\n    };\n    scale.nice = function (interval) {\n        var d = domain();\n        return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n            ? domain(nice(d, interval))\n            : scale;\n    };\n    scale.copy = function () {\n        return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n    return scale;\n}\nfunction scaleTime() {\n    return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nvar namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: xhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n    var prefix = name += \"\", i = prefix.indexOf(\":\");\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n        name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n    return function () {\n        var document = this.ownerDocument, uri = this.namespaceURI;\n        return uri === xhtml && document.documentElement.namespaceURI === xhtml\n            ? document.createElement(name)\n            : document.createElementNS(uri, name);\n    };\n}\nfunction creatorFixed(fullname) {\n    return function () {\n        return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n    };\n}\nfunction creator(name) {\n    var fullname = namespace(name);\n    return (fullname.local\n        ? creatorFixed\n        : creatorInherit)(fullname);\n}\nfunction none() { }\nfunction selector(selector) {\n    return selector == null ? none : function () {\n        return this.querySelector(selector);\n    };\n}\nfunction selection_select(select) {\n    if (typeof select !== \"function\")\n        select = selector(select);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n            if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n                if (\"__data__\" in node)\n                    subnode.__data__ = node.__data__;\n                subgroup[i] = subnode;\n            }\n        }\n    }\n    return new Selection(subgroups, this._parents);\n}\nfunction empty() {\n    return [];\n}\nfunction selectorAll(selector) {\n    return selector == null ? empty : function () {\n        return this.querySelectorAll(selector);\n    };\n}\nfunction selection_selectAll(select) {\n    if (typeof select !== \"function\")\n        select = selectorAll(select);\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                subgroups.push(select.call(node, node.__data__, i, group));\n                parents.push(node);\n            }\n        }\n    }\n    return new Selection(subgroups, parents);\n}\nvar matcher = function (selector) {\n    return function () {\n        return this.matches(selector);\n    };\n};\nif (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!element.matches) {\n        var vendorMatches = element.webkitMatchesSelector\n            || element.msMatchesSelector\n            || element.mozMatchesSelector\n            || element.oMatchesSelector;\n        matcher = function (selector) {\n            return function () {\n                return vendorMatches.call(this, selector);\n            };\n        };\n    }\n}\nvar matcher$1 = matcher;\nfunction selection_filter(match) {\n    if (typeof match !== \"function\")\n        match = matcher$1(match);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n            if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n                subgroup.push(node);\n            }\n        }\n    }\n    return new Selection(subgroups, this._parents);\n}\nfunction sparse(update) {\n    return new Array(update.length);\n}\nfunction selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n}\nEnterNode.prototype = {\n    constructor: EnterNode,\n    appendChild: function (child) { return this._parent.insertBefore(child, this._next); },\n    insertBefore: function (child, next) { return this._parent.insertBefore(child, next); },\n    querySelector: function (selector) { return this._parent.querySelector(selector); },\n    querySelectorAll: function (selector) { return this._parent.querySelectorAll(selector); }\n};\nfunction constant$2(x) {\n    return function () {\n        return x;\n    };\n}\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\nfunction bindIndex(parent, group, enter, update, exit, data) {\n    var i = 0, node, groupLength = group.length, dataLength = data.length;\n    // Put any non-null nodes that fit into update.\n    // Put any null nodes into enter.\n    // Put any remaining data into enter.\n    for (; i < dataLength; ++i) {\n        if (node = group[i]) {\n            node.__data__ = data[i];\n            update[i] = node;\n        }\n        else {\n            enter[i] = new EnterNode(parent, data[i]);\n        }\n    }\n    // Put any non-null nodes that dont fit into exit.\n    for (; i < groupLength; ++i) {\n        if (node = group[i]) {\n            exit[i] = node;\n        }\n    }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n    var i, node, nodeByKeyValue = {}, groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n    // Compute the key for each node.\n    // If multiple nodes have the same key, the duplicates are added to exit.\n    for (i = 0; i < groupLength; ++i) {\n        if (node = group[i]) {\n            keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n            if (keyValue in nodeByKeyValue) {\n                exit[i] = node;\n            }\n            else {\n                nodeByKeyValue[keyValue] = node;\n            }\n        }\n    }\n    // Compute the key for each datum.\n    // If there a node associated with this key, join and add it to update.\n    // If there is not (or the key is a duplicate), add it to enter.\n    for (i = 0; i < dataLength; ++i) {\n        keyValue = keyPrefix + key.call(parent, data[i], i, data);\n        if (node = nodeByKeyValue[keyValue]) {\n            update[i] = node;\n            node.__data__ = data[i];\n            nodeByKeyValue[keyValue] = null;\n        }\n        else {\n            enter[i] = new EnterNode(parent, data[i]);\n        }\n    }\n    // Add any remaining nodes that were not bound to data to exit.\n    for (i = 0; i < groupLength; ++i) {\n        if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n            exit[i] = node;\n        }\n    }\n}\nfunction selection_data(value, key) {\n    if (!value) {\n        data = new Array(this.size()), j = -1;\n        this.each(function (d) { data[++j] = d; });\n        return data;\n    }\n    var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n    if (typeof value !== \"function\")\n        value = constant$2(value);\n    for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n        var parent = parents[j], group = groups[j], groupLength = group.length, data = value.call(parent, parent && parent.__data__, j, parents), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n        bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n        // Now connect the enter nodes to their following update node, such that\n        // appendChild can insert the materialized enter node before this node,\n        // rather than at the end of the parent node.\n        for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n            if (previous = enterGroup[i0]) {\n                if (i0 >= i1)\n                    i1 = i0 + 1;\n                while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n                    ;\n                previous._next = next || null;\n            }\n        }\n    }\n    update = new Selection(update, parents);\n    update._enter = enter;\n    update._exit = exit;\n    return update;\n}\nfunction selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_merge(selection) {\n    for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n        for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group0[i] || group1[i]) {\n                merge[i] = node;\n            }\n        }\n    }\n    for (; j < m0; ++j) {\n        merges[j] = groups0[j];\n    }\n    return new Selection(merges, this._parents);\n}\nfunction selection_order() {\n    for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n        for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n            if (node = group[i]) {\n                if (next && next !== node.nextSibling)\n                    next.parentNode.insertBefore(node, next);\n                next = node;\n            }\n        }\n    }\n    return this;\n}\nfunction selection_sort(compare) {\n    if (!compare)\n        compare = ascending;\n    function compareNode(a, b) {\n        return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n    }\n    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                sortgroup[i] = node;\n            }\n        }\n        sortgroup.sort(compareNode);\n    }\n    return new Selection(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n    var callback = arguments[0];\n    arguments[0] = this;\n    callback.apply(null, arguments);\n    return this;\n}\nfunction selection_nodes() {\n    var nodes = new Array(this.size()), i = -1;\n    this.each(function () { nodes[++i] = this; });\n    return nodes;\n}\nfunction selection_node() {\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n        for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n            var node = group[i];\n            if (node)\n                return node;\n        }\n    }\n    return null;\n}\nfunction selection_size() {\n    var size = 0;\n    this.each(function () { ++size; });\n    return size;\n}\nfunction selection_empty() {\n    return !this.node();\n}\nfunction selection_each(callback) {\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n        for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n            if (node = group[i])\n                callback.call(node, node.__data__, i, group);\n        }\n    }\n    return this;\n}\nfunction attrRemove(name) {\n    return function () {\n        this.removeAttribute(name);\n    };\n}\nfunction attrRemoveNS(fullname) {\n    return function () {\n        this.removeAttributeNS(fullname.space, fullname.local);\n    };\n}\nfunction attrConstant(name, value) {\n    return function () {\n        this.setAttribute(name, value);\n    };\n}\nfunction attrConstantNS(fullname, value) {\n    return function () {\n        this.setAttributeNS(fullname.space, fullname.local, value);\n    };\n}\nfunction attrFunction(name, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.removeAttribute(name);\n        else\n            this.setAttribute(name, v);\n    };\n}\nfunction attrFunctionNS(fullname, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.removeAttributeNS(fullname.space, fullname.local);\n        else\n            this.setAttributeNS(fullname.space, fullname.local, v);\n    };\n}\nfunction selection_attr(name, value) {\n    var fullname = namespace(name);\n    if (arguments.length < 2) {\n        var node = this.node();\n        return fullname.local\n            ? node.getAttributeNS(fullname.space, fullname.local)\n            : node.getAttribute(fullname);\n    }\n    return this.each((value == null\n        ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS : attrFunction)\n        : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\nfunction defaultView(node) {\n    return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n        || (node.document && node) // node is a Window\n        || node.defaultView; // node is a Document\n}\nfunction styleRemove(name) {\n    return function () {\n        this.style.removeProperty(name);\n    };\n}\nfunction styleConstant(name, value, priority) {\n    return function () {\n        this.style.setProperty(name, value, priority);\n    };\n}\nfunction styleFunction(name, value, priority) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.style.removeProperty(name);\n        else\n            this.style.setProperty(name, v, priority);\n    };\n}\nfunction selection_style(name, value, priority) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n        : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n    return node.style.getPropertyValue(name)\n        || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n    return function () {\n        delete this[name];\n    };\n}\nfunction propertyConstant(name, value) {\n    return function () {\n        this[name] = value;\n    };\n}\nfunction propertyFunction(name, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            delete this[name];\n        else\n            this[name] = v;\n    };\n}\nfunction selection_property(name, value) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? propertyRemove : typeof value === \"function\"\n            ? propertyFunction\n            : propertyConstant)(name, value))\n        : this.node()[name];\n}\nfunction classArray(string) {\n    return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n    return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n    this._node = node;\n    this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n    add: function (name) {\n        var i = this._names.indexOf(name);\n        if (i < 0) {\n            this._names.push(name);\n            this._node.setAttribute(\"class\", this._names.join(\" \"));\n        }\n    },\n    remove: function (name) {\n        var i = this._names.indexOf(name);\n        if (i >= 0) {\n            this._names.splice(i, 1);\n            this._node.setAttribute(\"class\", this._names.join(\" \"));\n        }\n    },\n    contains: function (name) {\n        return this._names.indexOf(name) >= 0;\n    }\n};\nfunction classedAdd(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n)\n        list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n)\n        list.remove(names[i]);\n}\nfunction classedTrue(names) {\n    return function () {\n        classedAdd(this, names);\n    };\n}\nfunction classedFalse(names) {\n    return function () {\n        classedRemove(this, names);\n    };\n}\nfunction classedFunction(names, value) {\n    return function () {\n        (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n    };\n}\nfunction selection_classed(name, value) {\n    var names = classArray(name + \"\");\n    if (arguments.length < 2) {\n        var list = classList(this.node()), i = -1, n = names.length;\n        while (++i < n)\n            if (!list.contains(names[i]))\n                return false;\n        return true;\n    }\n    return this.each((typeof value === \"function\"\n        ? classedFunction : value\n        ? classedTrue\n        : classedFalse)(names, value));\n}\nfunction textRemove() {\n    this.textContent = \"\";\n}\nfunction textConstant(value) {\n    return function () {\n        this.textContent = value;\n    };\n}\nfunction textFunction(value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        this.textContent = v == null ? \"\" : v;\n    };\n}\nfunction selection_text(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? textRemove : (typeof value === \"function\"\n            ? textFunction\n            : textConstant)(value))\n        : this.node().textContent;\n}\nfunction htmlRemove() {\n    this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n    return function () {\n        this.innerHTML = value;\n    };\n}\nfunction htmlFunction(value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        this.innerHTML = v == null ? \"\" : v;\n    };\n}\nfunction selection_html(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? htmlRemove : (typeof value === \"function\"\n            ? htmlFunction\n            : htmlConstant)(value))\n        : this.node().innerHTML;\n}\nfunction raise() {\n    if (this.nextSibling)\n        this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n    return this.each(raise);\n}\nfunction lower() {\n    if (this.previousSibling)\n        this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n    return this.each(lower);\n}\nfunction selection_append(name) {\n    var create = typeof name === \"function\" ? name : creator(name);\n    return this.select(function () {\n        return this.appendChild(create.apply(this, arguments));\n    });\n}\nfunction constantNull() {\n    return null;\n}\nfunction selection_insert(name, before) {\n    var create = typeof name === \"function\" ? name : creator(name), select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n    return this.select(function () {\n        return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n    });\n}\nfunction remove() {\n    var parent = this.parentNode;\n    if (parent)\n        parent.removeChild(this);\n}\nfunction selection_remove() {\n    return this.each(remove);\n}\nfunction selection_cloneShallow() {\n    return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\nfunction selection_cloneDeep() {\n    return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\nfunction selection_clone(deep) {\n    return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n    return arguments.length\n        ? this.property(\"__data__\", value)\n        : this.node().__data__;\n}\nvar filterEvents = {};\nvar event = null;\nif (typeof document !== \"undefined\") {\n    var element$1 = document.documentElement;\n    if (!(\"onmouseenter\" in element$1)) {\n        filterEvents = { mouseenter: \"mouseover\", mouseleave: \"mouseout\" };\n    }\n}\nfunction filterContextListener(listener, index, group) {\n    listener = contextListener(listener, index, group);\n    return function (event) {\n        var related = event.relatedTarget;\n        if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n            listener.call(this, event);\n        }\n    };\n}\nfunction contextListener(listener, index, group) {\n    return function (event1) {\n        var event0 = event; // Events can be reentrant (e.g., focus).\n        event = event1;\n        try {\n            listener.call(this, this.__data__, index, group);\n        }\n        finally {\n            event = event0;\n        }\n    };\n}\nfunction parseTypenames(typenames) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n        var name = \"\", i = t.indexOf(\".\");\n        if (i >= 0)\n            name = t.slice(i + 1), t = t.slice(0, i);\n        return { type: t, name: name };\n    });\n}\nfunction onRemove(typename) {\n    return function () {\n        var on = this.__on;\n        if (!on)\n            return;\n        for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n            if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n                this.removeEventListener(o.type, o.listener, o.capture);\n            }\n            else {\n                on[++i] = o;\n            }\n        }\n        if (++i)\n            on.length = i;\n        else\n            delete this.__on;\n    };\n}\nfunction onAdd(typename, value, capture) {\n    var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n    return function (d, i, group) {\n        var on = this.__on, o, listener = wrap(value, i, group);\n        if (on)\n            for (var j = 0, m = on.length; j < m; ++j) {\n                if ((o = on[j]).type === typename.type && o.name === typename.name) {\n                    this.removeEventListener(o.type, o.listener, o.capture);\n                    this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n                    o.value = value;\n                    return;\n                }\n            }\n        this.addEventListener(typename.type, listener, capture);\n        o = { type: typename.type, name: typename.name, value: value, listener: listener, capture: capture };\n        if (!on)\n            this.__on = [o];\n        else\n            on.push(o);\n    };\n}\nfunction selection_on(typename, value, capture) {\n    var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n    if (arguments.length < 2) {\n        var on = this.node().__on;\n        if (on)\n            for (var j = 0, m = on.length, o; j < m; ++j) {\n                for (i = 0, o = on[j]; i < n; ++i) {\n                    if ((t = typenames[i]).type === o.type && t.name === o.name) {\n                        return o.value;\n                    }\n                }\n            }\n        return;\n    }\n    on = value ? onAdd : onRemove;\n    if (capture == null)\n        capture = false;\n    for (i = 0; i < n; ++i)\n        this.each(on(typenames[i], value, capture));\n    return this;\n}\nfunction customEvent(event1, listener, that, args) {\n    var event0 = event;\n    event1.sourceEvent = event;\n    event = event1;\n    try {\n        return listener.apply(that, args);\n    }\n    finally {\n        event = event0;\n    }\n}\nfunction dispatchEvent(node, type, params) {\n    var window = defaultView(node), event = window.CustomEvent;\n    if (typeof event === \"function\") {\n        event = new event(type, params);\n    }\n    else {\n        event = window.document.createEvent(\"Event\");\n        if (params)\n            event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n        else\n            event.initEvent(type, false, false);\n    }\n    node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n    return function () {\n        return dispatchEvent(this, type, params);\n    };\n}\nfunction dispatchFunction(type, params) {\n    return function () {\n        return dispatchEvent(this, type, params.apply(this, arguments));\n    };\n}\nfunction selection_dispatch(type, params) {\n    return this.each((typeof params === \"function\"\n        ? dispatchFunction\n        : dispatchConstant)(type, params));\n}\nvar root = [null];\nfunction Selection(groups, parents) {\n    this._groups = groups;\n    this._parents = parents;\n}\nfunction selection() {\n    return new Selection([[document.documentElement]], root);\n}\nSelection.prototype = selection.prototype = {\n    constructor: Selection,\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    merge: selection_merge,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    classed: selection_classed,\n    text: selection_text,\n    html: selection_html,\n    raise: selection_raise,\n    lower: selection_lower,\n    append: selection_append,\n    insert: selection_insert,\n    remove: selection_remove,\n    clone: selection_clone,\n    datum: selection_datum,\n    on: selection_on,\n    dispatch: selection_dispatch\n};\nfunction select(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n        : new Selection([[selector]], root);\n}\nfunction sourceEvent() {\n    var current = event, source;\n    while (source = current.sourceEvent)\n        current = source;\n    return current;\n}\nfunction point(node, event) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n        var point = svg.createSVGPoint();\n        point.x = event.clientX, point.y = event.clientY;\n        point = point.matrixTransform(node.getScreenCTM().inverse());\n        return [point.x, point.y];\n    }\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\nfunction mouse(node) {\n    var event = sourceEvent();\n    if (event.changedTouches)\n        event = event.changedTouches[0];\n    return point(node, event);\n}\nfunction touch(node, touches, identifier) {\n    if (arguments.length < 3)\n        identifier = touches, touches = sourceEvent().changedTouches;\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n        if ((touch = touches[i]).identifier === identifier) {\n            return point(node, touch);\n        }\n    }\n    return null;\n}\nvar noop = { value: function () { } };\nfunction dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n        if (!(t = arguments[i] + \"\") || (t in _))\n            throw new Error(\"illegal type: \" + t);\n        _[t] = [];\n    }\n    return new Dispatch(_);\n}\nfunction Dispatch(_) {\n    this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n        var name = \"\", i = t.indexOf(\".\");\n        if (i >= 0)\n            name = t.slice(i + 1), t = t.slice(0, i);\n        if (t && !types.hasOwnProperty(t))\n            throw new Error(\"unknown type: \" + t);\n        return { type: t, name: name };\n    });\n}\nDispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function (typename, callback) {\n        var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n        // If no callback was specified, return the callback of the given type and name.\n        if (arguments.length < 2) {\n            while (++i < n)\n                if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name)))\n                    return t;\n            return;\n        }\n        // If a type was specified, set the callback for the given type and name.\n        // Otherwise, if a null callback was specified, remove callbacks of the given name.\n        if (callback != null && typeof callback !== \"function\")\n            throw new Error(\"invalid callback: \" + callback);\n        while (++i < n) {\n            if (t = (typename = T[i]).type)\n                _[t] = set(_[t], typename.name, callback);\n            else if (callback == null)\n                for (t in _)\n                    _[t] = set(_[t], typename.name, null);\n        }\n        return this;\n    },\n    copy: function () {\n        var copy = {}, _ = this._;\n        for (var t in _)\n            copy[t] = _[t].slice();\n        return new Dispatch(copy);\n    },\n    call: function (type, that) {\n        if ((n = arguments.length - 2) > 0)\n            for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n                args[i] = arguments[i + 2];\n        if (!this._.hasOwnProperty(type))\n            throw new Error(\"unknown type: \" + type);\n        for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n            t[i].value.apply(that, args);\n    },\n    apply: function (type, that, args) {\n        if (!this._.hasOwnProperty(type))\n            throw new Error(\"unknown type: \" + type);\n        for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n            t[i].value.apply(that, args);\n    }\n};\nfunction get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n        if ((c = type[i]).name === name) {\n            return c.value;\n        }\n    }\n}\nfunction set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n        if (type[i].name === name) {\n            type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n            break;\n        }\n    }\n    if (callback != null)\n        type.push({ name: name, value: callback });\n    return type;\n}\nfunction noevent() {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", noevent, true);\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", noevent, true);\n    }\n    else {\n        root.__noselect = root.style.MozUserSelect;\n        root.style.MozUserSelect = \"none\";\n    }\n}\nfunction yesdrag(view, noclick) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", null);\n    if (noclick) {\n        selection.on(\"click.drag\", noevent, true);\n        setTimeout(function () { selection.on(\"click.drag\", null); }, 0);\n    }\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", null);\n    }\n    else {\n        root.style.MozUserSelect = root.__noselect;\n        delete root.__noselect;\n    }\n}\nvar frame = 0, // is an animation frame pending?\ntimeout = 0, // is a timeout pending?\ninterval = 0, // are any timers active?\npokeDelay = 1000, // how frequently we check for clock skew\ntaskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) { setTimeout(f, 17); };\nfunction now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n    clockNow = 0;\n}\nfunction Timer() {\n    this._call =\n        this._time =\n            this._next = null;\n}\nTimer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function (callback, delay, time) {\n        if (typeof callback !== \"function\")\n            throw new TypeError(\"callback is not a function\");\n        time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n        if (!this._next && taskTail !== this) {\n            if (taskTail)\n                taskTail._next = this;\n            else\n                taskHead = this;\n            taskTail = this;\n        }\n        this._call = callback;\n        this._time = time;\n        sleep();\n    },\n    stop: function () {\n        if (this._call) {\n            this._call = null;\n            this._time = Infinity;\n            sleep();\n        }\n    }\n};\nfunction timer(callback, delay, time) {\n    var t = new Timer;\n    t.restart(callback, delay, time);\n    return t;\n}\nfunction timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend weve set an alarm, if we havent already.\n    var t = taskHead, e;\n    while (t) {\n        if ((e = clockNow - t._time) >= 0)\n            t._call.call(null, e);\n        t = t._next;\n    }\n    --frame;\n}\nfunction wake() {\n    clockNow = (clockLast = clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n        timerFlush();\n    }\n    finally {\n        frame = 0;\n        nap();\n        clockNow = 0;\n    }\n}\nfunction poke() {\n    var now = clock.now(), delay = now - clockLast;\n    if (delay > pokeDelay)\n        clockSkew -= delay, clockLast = now;\n}\nfunction nap() {\n    var t0, t1 = taskHead, t2, time = Infinity;\n    while (t1) {\n        if (t1._call) {\n            if (time > t1._time)\n                time = t1._time;\n            t0 = t1, t1 = t1._next;\n        }\n        else {\n            t2 = t1._next, t1._next = null;\n            t1 = t0 ? t0._next = t2 : taskHead = t2;\n        }\n    }\n    taskTail = t0;\n    sleep(time);\n}\nfunction sleep(time) {\n    if (frame)\n        return; // Soonest alarm already set, or will be.\n    if (timeout)\n        timeout = clearTimeout(timeout);\n    var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n    if (delay > 24) {\n        if (time < Infinity)\n            timeout = setTimeout(wake, time - clock.now() - clockSkew);\n        if (interval)\n            interval = clearInterval(interval);\n    }\n    else {\n        if (!interval)\n            clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n        frame = 1, setFrame(wake);\n    }\n}\nfunction timeout$1(callback, delay, time) {\n    var t = new Timer;\n    delay = delay == null ? 0 : +delay;\n    t.restart(function (elapsed) {\n        t.stop();\n        callback(elapsed + delay);\n    }, delay, time);\n    return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id, index, group, timing) {\n    var schedules = node.__transition;\n    if (!schedules)\n        node.__transition = {};\n    else if (id in schedules)\n        return;\n    create(node, id, {\n        name: name,\n        index: index,\n        group: group,\n        on: emptyOn,\n        tween: emptyTween,\n        time: timing.time,\n        delay: timing.delay,\n        duration: timing.duration,\n        ease: timing.ease,\n        timer: null,\n        state: CREATED\n    });\n}\nfunction init(node, id) {\n    var schedule = get$1(node, id);\n    if (schedule.state > CREATED)\n        throw new Error(\"too late; already scheduled\");\n    return schedule;\n}\nfunction set$1(node, id) {\n    var schedule = get$1(node, id);\n    if (schedule.state > STARTED)\n        throw new Error(\"too late; already running\");\n    return schedule;\n}\nfunction get$1(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]))\n        throw new Error(\"transition not found\");\n    return schedule;\n}\nfunction create(node, id, self) {\n    var schedules = node.__transition, tween;\n    // Initialize the self timer when the transition is created.\n    // Note the actual delay is not known until the first callback!\n    schedules[id] = self;\n    self.timer = timer(schedule, 0, self.time);\n    function schedule(elapsed) {\n        self.state = SCHEDULED;\n        self.timer.restart(start, self.delay, self.time);\n        // If the elapsed delay is less than our first sleep, start immediately.\n        if (self.delay <= elapsed)\n            start(elapsed - self.delay);\n    }\n    function start(elapsed) {\n        var i, j, n, o;\n        // If the state is not SCHEDULED, then we previously errored on start.\n        if (self.state !== SCHEDULED)\n            return stop();\n        for (i in schedules) {\n            o = schedules[i];\n            if (o.name !== self.name)\n                continue;\n            // While this element already has a starting transition during this frame,\n            // defer starting an interrupting transition until that transition has a\n            // chance to tick (and possibly end); see d3/d3-transition#54!\n            if (o.state === STARTED)\n                return timeout$1(start);\n            // Interrupt the active transition, if any.\n            if (o.state === RUNNING) {\n                o.state = ENDED;\n                o.timer.stop();\n                o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n                delete schedules[i];\n            }\n            // Cancel any pre-empted transitions.\n            else if (+i < id) {\n                o.state = ENDED;\n                o.timer.stop();\n                o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n                delete schedules[i];\n            }\n        }\n        // Defer the first tick to end of the current frame; see d3/d3#1576.\n        // Note the transition may be canceled after start and before the first tick!\n        // Note this must be scheduled before the start event; see d3/d3-transition#16!\n        // Assuming this is successful, subsequent callbacks go straight to tick.\n        timeout$1(function () {\n            if (self.state === STARTED) {\n                self.state = RUNNING;\n                self.timer.restart(tick, self.delay, self.time);\n                tick(elapsed);\n            }\n        });\n        // Dispatch the start event.\n        // Note this must be done before the tween are initialized.\n        self.state = STARTING;\n        self.on.call(\"start\", node, node.__data__, self.index, self.group);\n        if (self.state !== STARTING)\n            return; // interrupted\n        self.state = STARTED;\n        // Initialize the tween, deleting null tween.\n        tween = new Array(n = self.tween.length);\n        for (i = 0, j = -1; i < n; ++i) {\n            if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n                tween[++j] = o;\n            }\n        }\n        tween.length = j + 1;\n    }\n    function tick(elapsed) {\n        var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n        while (++i < n) {\n            tween[i].call(node, t);\n        }\n        // Dispatch the end event.\n        if (self.state === ENDING) {\n            self.on.call(\"end\", node, node.__data__, self.index, self.group);\n            stop();\n        }\n    }\n    function stop() {\n        self.state = ENDED;\n        self.timer.stop();\n        delete schedules[id];\n        for (var i in schedules)\n            return; // eslint-disable-line no-unused-vars\n        delete node.__transition;\n    }\n}\nfunction interrupt(node, name) {\n    var schedules = node.__transition, schedule, active, empty = true, i;\n    if (!schedules)\n        return;\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n        if ((schedule = schedules[i]).name !== name) {\n            empty = false;\n            continue;\n        }\n        active = schedule.state > STARTING && schedule.state < ENDING;\n        schedule.state = ENDED;\n        schedule.timer.stop();\n        schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n        delete schedules[i];\n    }\n    if (empty)\n        delete node.__transition;\n}\nfunction selection_interrupt(name) {\n    return this.each(function () {\n        interrupt(this, name);\n    });\n}\nfunction tweenRemove(id, name) {\n    var tween0, tween1;\n    return function () {\n        var schedule = set$1(this, id), tween = schedule.tween;\n        // If this node shared tween with the previous node,\n        // just assign the updated shared tween and were done!\n        // Otherwise, copy-on-write.\n        if (tween !== tween0) {\n            tween1 = tween0 = tween;\n            for (var i = 0, n = tween1.length; i < n; ++i) {\n                if (tween1[i].name === name) {\n                    tween1 = tween1.slice();\n                    tween1.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        schedule.tween = tween1;\n    };\n}\nfunction tweenFunction(id, name, value) {\n    var tween0, tween1;\n    if (typeof value !== \"function\")\n        throw new Error;\n    return function () {\n        var schedule = set$1(this, id), tween = schedule.tween;\n        // If this node shared tween with the previous node,\n        // just assign the updated shared tween and were done!\n        // Otherwise, copy-on-write.\n        if (tween !== tween0) {\n            tween1 = (tween0 = tween).slice();\n            for (var t = { name: name, value: value }, i = 0, n = tween1.length; i < n; ++i) {\n                if (tween1[i].name === name) {\n                    tween1[i] = t;\n                    break;\n                }\n            }\n            if (i === n)\n                tween1.push(t);\n        }\n        schedule.tween = tween1;\n    };\n}\nfunction transition_tween(name, value) {\n    var id = this._id;\n    name += \"\";\n    if (arguments.length < 2) {\n        var tween = get$1(this.node(), id).tween;\n        for (var i = 0, n = tween.length, t; i < n; ++i) {\n            if ((t = tween[i]).name === name) {\n                return t.value;\n            }\n        }\n        return null;\n    }\n    return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\nfunction tweenValue(transition, name, value) {\n    var id = transition._id;\n    transition.each(function () {\n        var schedule = set$1(this, id);\n        (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n    });\n    return function (node) {\n        return get$1(node, id).value[name];\n    };\n}\nfunction interpolate$1(a, b) {\n    var c;\n    return (typeof b === \"number\" ? interpolateNumber\n        : b instanceof color ? interpolateRgb\n            : (c = color(b)) ? (b = c, interpolateRgb)\n                : interpolateString)(a, b);\n}\nfunction attrRemove$1(name) {\n    return function () {\n        this.removeAttribute(name);\n    };\n}\nfunction attrRemoveNS$1(fullname) {\n    return function () {\n        this.removeAttributeNS(fullname.space, fullname.local);\n    };\n}\nfunction attrConstant$1(name, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = this.getAttribute(name);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction attrConstantNS$1(fullname, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = this.getAttributeNS(fullname.space, fullname.local);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction attrFunction$1(name, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0, value1 = value(this), string1;\n        if (value1 == null)\n            return void this.removeAttribute(name);\n        string0 = this.getAttribute(name);\n        string1 = value1 + \"\";\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction attrFunctionNS$1(fullname, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0, value1 = value(this), string1;\n        if (value1 == null)\n            return void this.removeAttributeNS(fullname.space, fullname.local);\n        string0 = this.getAttributeNS(fullname.space, fullname.local);\n        string1 = value1 + \"\";\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction transition_attr(name, value) {\n    var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate$1;\n    return this.attrTween(name, typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n        : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname)\n            : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n    return function (t) {\n        this.setAttribute(name, i(t));\n    };\n}\nfunction attrInterpolateNS(fullname, i) {\n    return function (t) {\n        this.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n}\nfunction attrTweenNS(fullname, value) {\n    var t0, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n        return t0;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction attrTween(name, value) {\n    var t0, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t0 = (i0 = i) && attrInterpolate(name, i);\n        return t0;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction transition_attrTween(name, value) {\n    var key = \"attr.\" + name;\n    if (arguments.length < 2)\n        return (key = this.tween(key)) && key._value;\n    if (value == null)\n        return this.tween(key, null);\n    if (typeof value !== \"function\")\n        throw new Error;\n    var fullname = namespace(name);\n    return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id, value) {\n    return function () {\n        init(this, id).delay = +value.apply(this, arguments);\n    };\n}\nfunction delayConstant(id, value) {\n    return value = +value, function () {\n        init(this, id).delay = value;\n    };\n}\nfunction transition_delay(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? delayFunction\n            : delayConstant)(id, value))\n        : get$1(this.node(), id).delay;\n}\nfunction durationFunction(id, value) {\n    return function () {\n        set$1(this, id).duration = +value.apply(this, arguments);\n    };\n}\nfunction durationConstant(id, value) {\n    return value = +value, function () {\n        set$1(this, id).duration = value;\n    };\n}\nfunction transition_duration(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? durationFunction\n            : durationConstant)(id, value))\n        : get$1(this.node(), id).duration;\n}\nfunction easeConstant(id, value) {\n    if (typeof value !== \"function\")\n        throw new Error;\n    return function () {\n        set$1(this, id).ease = value;\n    };\n}\nfunction transition_ease(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each(easeConstant(id, value))\n        : get$1(this.node(), id).ease;\n}\nfunction transition_filter(match) {\n    if (typeof match !== \"function\")\n        match = matcher$1(match);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n            if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n                subgroup.push(node);\n            }\n        }\n    }\n    return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition) {\n    if (transition._id !== this._id)\n        throw new Error;\n    for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n        for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group0[i] || group1[i]) {\n                merge[i] = node;\n            }\n        }\n    }\n    for (; j < m0; ++j) {\n        merges[j] = groups0[j];\n    }\n    return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n    return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n        var i = t.indexOf(\".\");\n        if (i >= 0)\n            t = t.slice(0, i);\n        return !t || t === \"start\";\n    });\n}\nfunction onFunction(id, name, listener) {\n    var on0, on1, sit = start(name) ? init : set$1;\n    return function () {\n        var schedule = sit(this, id), on = schedule.on;\n        // If this node shared a dispatch with the previous node,\n        // just assign the updated shared dispatch and were done!\n        // Otherwise, copy-on-write.\n        if (on !== on0)\n            (on1 = (on0 = on).copy()).on(name, listener);\n        schedule.on = on1;\n    };\n}\nfunction transition_on(name, listener) {\n    var id = this._id;\n    return arguments.length < 2\n        ? get$1(this.node(), id).on.on(name)\n        : this.each(onFunction(id, name, listener));\n}\nfunction removeFunction(id) {\n    return function () {\n        var parent = this.parentNode;\n        for (var i in this.__transition)\n            if (+i !== id)\n                return;\n        if (parent)\n            parent.removeChild(this);\n    };\n}\nfunction transition_remove() {\n    return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select) {\n    var name = this._name, id = this._id;\n    if (typeof select !== \"function\")\n        select = selector(select);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n            if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n                if (\"__data__\" in node)\n                    subnode.__data__ = node.__data__;\n                subgroup[i] = subnode;\n                schedule(subgroup[i], name, id, i, subgroup, get$1(node, id));\n            }\n        }\n    }\n    return new Transition(subgroups, this._parents, name, id);\n}\nfunction transition_selectAll(select) {\n    var name = this._name, id = this._id;\n    if (typeof select !== \"function\")\n        select = selectorAll(select);\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                for (var children = select.call(node, node.__data__, i, group), child, inherit = get$1(node, id), k = 0, l = children.length; k < l; ++k) {\n                    if (child = children[k]) {\n                        schedule(child, name, id, k, children, inherit);\n                    }\n                }\n                subgroups.push(children);\n                parents.push(node);\n            }\n        }\n    }\n    return new Transition(subgroups, parents, name, id);\n}\nvar Selection$1 = selection.prototype.constructor;\nfunction transition_selection() {\n    return new Selection$1(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, string10 = string1);\n    };\n}\nfunction styleRemove$1(name) {\n    return function () {\n        this.style.removeProperty(name);\n    };\n}\nfunction styleConstant$1(name, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = styleValue(this, name);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction styleFunction$1(name, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n        if (value1 == null)\n            string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction styleMaybeRemove(id, name) {\n    var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n    return function () {\n        var schedule = set$1(this, id), on = schedule.on, listener = schedule.value[key] == null ? remove || (remove = styleRemove$1(name)) : undefined;\n        // If this node shared a dispatch with the previous node,\n        // just assign the updated shared dispatch and were done!\n        // Otherwise, copy-on-write.\n        if (on !== on0 || listener0 !== listener)\n            (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n        schedule.on = on1;\n    };\n}\nfunction transition_style(name, value, priority) {\n    var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate$1;\n    return value == null ? this\n        .styleTween(name, styleNull(name, i))\n        .on(\"end.style.\" + name, styleRemove$1(name))\n        : typeof value === \"function\" ? this\n            .styleTween(name, styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value)))\n            .each(styleMaybeRemove(this._id, name))\n            : this\n                .styleTween(name, styleConstant$1(name, i, value), priority)\n                .on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n    return function (t) {\n        this.style.setProperty(name, i(t), priority);\n    };\n}\nfunction styleTween(name, value, priority) {\n    var t, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t = (i0 = i) && styleInterpolate(name, i, priority);\n        return t;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n    var key = \"style.\" + (name += \"\");\n    if (arguments.length < 2)\n        return (key = this.tween(key)) && key._value;\n    if (value == null)\n        return this.tween(key, null);\n    if (typeof value !== \"function\")\n        throw new Error;\n    return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant$1(value) {\n    return function () {\n        this.textContent = value;\n    };\n}\nfunction textFunction$1(value) {\n    return function () {\n        var value1 = value(this);\n        this.textContent = value1 == null ? \"\" : value1;\n    };\n}\nfunction transition_text(value) {\n    return this.tween(\"text\", typeof value === \"function\"\n        ? textFunction$1(tweenValue(this, \"text\", value))\n        : textConstant$1(value == null ? \"\" : value + \"\"));\n}\nfunction transition_transition() {\n    var name = this._name, id0 = this._id, id1 = newId();\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                var inherit = get$1(node, id0);\n                schedule(node, name, id1, i, group, {\n                    time: inherit.time + inherit.delay + inherit.duration,\n                    delay: 0,\n                    duration: inherit.duration,\n                    ease: inherit.ease\n                });\n            }\n        }\n    }\n    return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n    var on0, on1, that = this, id = that._id, size = that.size();\n    return new Promise(function (resolve, reject) {\n        var cancel = { value: reject }, end = { value: function () { if (--size === 0)\n                resolve(); } };\n        that.each(function () {\n            var schedule = set$1(this, id), on = schedule.on;\n            // If this node shared a dispatch with the previous node,\n            // just assign the updated shared dispatch and were done!\n            // Otherwise, copy-on-write.\n            if (on !== on0) {\n                on1 = (on0 = on).copy();\n                on1._.cancel.push(cancel);\n                on1._.interrupt.push(cancel);\n                on1._.end.push(end);\n            }\n            schedule.on = on1;\n        });\n    });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id) {\n    this._groups = groups;\n    this._parents = parents;\n    this._name = name;\n    this._id = id;\n}\nfunction transition(name) {\n    return selection().transition(name);\n}\nfunction newId() {\n    return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = {\n    constructor: Transition,\n    select: transition_select,\n    selectAll: transition_selectAll,\n    filter: transition_filter,\n    merge: transition_merge,\n    selection: transition_selection,\n    transition: transition_transition,\n    call: selection_prototype.call,\n    nodes: selection_prototype.nodes,\n    node: selection_prototype.node,\n    size: selection_prototype.size,\n    empty: selection_prototype.empty,\n    each: selection_prototype.each,\n    on: transition_on,\n    attr: transition_attr,\n    attrTween: transition_attrTween,\n    style: transition_style,\n    styleTween: transition_styleTween,\n    text: transition_text,\n    remove: transition_remove,\n    tween: transition_tween,\n    delay: transition_delay,\n    duration: transition_duration,\n    ease: transition_ease,\n    end: transition_end\n};\nfunction cubicInOut(t) {\n    return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n    time: null,\n    delay: 0,\n    duration: 250,\n    ease: cubicInOut\n};\nfunction inherit(node, id) {\n    var timing;\n    while (!(timing = node.__transition) || !(timing = timing[id])) {\n        if (!(node = node.parentNode)) {\n            return defaultTiming.time = now(), defaultTiming;\n        }\n    }\n    return timing;\n}\nfunction selection_transition(name) {\n    var id, timing;\n    if (name instanceof Transition) {\n        id = name._id, name = name._name;\n    }\n    else {\n        id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n    }\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                schedule(node, name, id, i, group, timing || inherit(node, id));\n            }\n        }\n    }\n    return new Transition(groups, this._parents, name, id);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nfunction constant$3(x) {\n    return function () {\n        return x;\n    };\n}\nfunction ZoomEvent(target, type, transform) {\n    this.target = target;\n    this.type = type;\n    this.transform = transform;\n}\nfunction Transform(k, x, y) {\n    this.k = k;\n    this.x = x;\n    this.y = y;\n}\nTransform.prototype = {\n    constructor: Transform,\n    scale: function (k) {\n        return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n    },\n    translate: function (x, y) {\n        return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n    },\n    apply: function (point) {\n        return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n    },\n    applyX: function (x) {\n        return x * this.k + this.x;\n    },\n    applyY: function (y) {\n        return y * this.k + this.y;\n    },\n    invert: function (location) {\n        return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n    },\n    invertX: function (x) {\n        return (x - this.x) / this.k;\n    },\n    invertY: function (y) {\n        return (y - this.y) / this.k;\n    },\n    rescaleX: function (x) {\n        return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n    },\n    rescaleY: function (y) {\n        return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n    },\n    toString: function () {\n        return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n    }\n};\nvar identity$3 = new Transform(1, 0, 0);\nfunction nopropagation() {\n    event.stopImmediatePropagation();\n}\nfunction noevent$1() {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n}\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n    return !event.ctrlKey && !event.button;\n}\nfunction defaultExtent() {\n    var e = this;\n    if (e instanceof SVGElement) {\n        e = e.ownerSVGElement || e;\n        if (e.hasAttribute(\"viewBox\")) {\n            e = e.viewBox.baseVal;\n            return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n        }\n        return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n    }\n    return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n    return this.__zoom || identity$3;\n}\nfunction defaultWheelDelta() {\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\nfunction defaultTouchable() {\n    return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n    var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n    return transform.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n}\nfunction zoom() {\n    var filter = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0;\n    function zoom(selection) {\n        selection\n            .property(\"__zoom\", defaultTransform)\n            .on(\"wheel.zoom\", wheeled)\n            .on(\"mousedown.zoom\", mousedowned)\n            .on(\"dblclick.zoom\", dblclicked)\n            .filter(touchable)\n            .on(\"touchstart.zoom\", touchstarted)\n            .on(\"touchmove.zoom\", touchmoved)\n            .on(\"touchend.zoom touchcancel.zoom\", touchended)\n            .style(\"touch-action\", \"none\")\n            .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n    zoom.transform = function (collection, transform, point) {\n        var selection = collection.selection ? collection.selection() : collection;\n        selection.property(\"__zoom\", defaultTransform);\n        if (collection !== selection) {\n            schedule(collection, transform, point);\n        }\n        else {\n            selection.interrupt().each(function () {\n                gesture(this, arguments)\n                    .start()\n                    .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n                    .end();\n            });\n        }\n    };\n    zoom.scaleBy = function (selection, k, p) {\n        zoom.scaleTo(selection, function () {\n            var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n            return k0 * k1;\n        }, p);\n    };\n    zoom.scaleTo = function (selection, k, p) {\n        zoom.transform(selection, function () {\n            var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n            return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n        }, p);\n    };\n    zoom.translateBy = function (selection, x, y) {\n        zoom.transform(selection, function () {\n            return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments), translateExtent);\n        });\n    };\n    zoom.translateTo = function (selection, x, y, p) {\n        zoom.transform(selection, function () {\n            var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n            return constrain(identity$3.translate(p0[0], p0[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e, translateExtent);\n        }, p);\n    };\n    function scale(transform, k) {\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n        return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n    }\n    function translate(transform, p0, p1) {\n        var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n        return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n    }\n    function centroid(extent) {\n        return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n    }\n    function schedule(transition, transform, point) {\n        transition\n            .on(\"start.zoom\", function () { gesture(this, arguments).start(); })\n            .on(\"interrupt.zoom end.zoom\", function () { gesture(this, arguments).end(); })\n            .tween(\"zoom\", function () {\n            var that = this, args = arguments, g = gesture(that, args), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n            return function (t) {\n                if (t === 1)\n                    t = b; // Avoid rounding error on end.\n                else {\n                    var l = i(t), k = w / l[2];\n                    t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n                }\n                g.zoom(null, t);\n            };\n        });\n    }\n    function gesture(that, args, clean) {\n        return (!clean && that.__zooming) || new Gesture(that, args);\n    }\n    function Gesture(that, args) {\n        this.that = that;\n        this.args = args;\n        this.active = 0;\n        this.extent = extent.apply(that, args);\n        this.taps = 0;\n    }\n    Gesture.prototype = {\n        start: function () {\n            if (++this.active === 1) {\n                this.that.__zooming = this;\n                this.emit(\"start\");\n            }\n            return this;\n        },\n        zoom: function (key, transform) {\n            if (this.mouse && key !== \"mouse\")\n                this.mouse[1] = transform.invert(this.mouse[0]);\n            if (this.touch0 && key !== \"touch\")\n                this.touch0[1] = transform.invert(this.touch0[0]);\n            if (this.touch1 && key !== \"touch\")\n                this.touch1[1] = transform.invert(this.touch1[0]);\n            this.that.__zoom = transform;\n            this.emit(\"zoom\");\n            return this;\n        },\n        end: function () {\n            if (--this.active === 0) {\n                delete this.that.__zooming;\n                this.emit(\"end\");\n            }\n            return this;\n        },\n        emit: function (type) {\n            customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n        }\n    };\n    function wheeled() {\n        if (!filter.apply(this, arguments))\n            return;\n        var g = gesture(this, arguments), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = mouse(this);\n        // If the mouse is in the same location as before, reuse it.\n        // If there were recent wheel events, reset the wheel idle timeout.\n        if (g.wheel) {\n            if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n                g.mouse[1] = t.invert(g.mouse[0] = p);\n            }\n            clearTimeout(g.wheel);\n        }\n        // If this wheel event wont trigger a transform change, ignore it.\n        else if (t.k === k)\n            return;\n        // Otherwise, capture the mouse point and location at the start.\n        else {\n            g.mouse = [p, t.invert(p)];\n            interrupt(this);\n            g.start();\n        }\n        noevent$1();\n        g.wheel = setTimeout(wheelidled, wheelDelay);\n        g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n        function wheelidled() {\n            g.wheel = null;\n            g.end();\n        }\n    }\n    function mousedowned() {\n        if (touchending || !filter.apply(this, arguments))\n            return;\n        var g = gesture(this, arguments, true), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = mouse(this), x0 = event.clientX, y0 = event.clientY;\n        dragDisable(event.view);\n        nopropagation();\n        g.mouse = [p, this.__zoom.invert(p)];\n        interrupt(this);\n        g.start();\n        function mousemoved() {\n            noevent$1();\n            if (!g.moved) {\n                var dx = event.clientX - x0, dy = event.clientY - y0;\n                g.moved = dx * dx + dy * dy > clickDistance2;\n            }\n            g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n        }\n        function mouseupped() {\n            v.on(\"mousemove.zoom mouseup.zoom\", null);\n            yesdrag(event.view, g.moved);\n            noevent$1();\n            g.end();\n        }\n    }\n    function dblclicked() {\n        if (!filter.apply(this, arguments))\n            return;\n        var t0 = this.__zoom, p0 = mouse(this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n        noevent$1();\n        if (duration > 0)\n            select(this).transition().duration(duration).call(schedule, t1, p0);\n        else\n            select(this).call(zoom.transform, t1);\n    }\n    function touchstarted() {\n        if (!filter.apply(this, arguments))\n            return;\n        var touches = event.touches, n = touches.length, g = gesture(this, arguments, event.changedTouches.length === n), started, i, t, p;\n        nopropagation();\n        for (i = 0; i < n; ++i) {\n            t = touches[i], p = touch(this, touches, t.identifier);\n            p = [p, this.__zoom.invert(p), t.identifier];\n            if (!g.touch0)\n                g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n            else if (!g.touch1 && g.touch0[2] !== p[2])\n                g.touch1 = p, g.taps = 0;\n        }\n        if (touchstarting)\n            touchstarting = clearTimeout(touchstarting);\n        if (started) {\n            if (g.taps < 2)\n                touchstarting = setTimeout(function () { touchstarting = null; }, touchDelay);\n            interrupt(this);\n            g.start();\n        }\n    }\n    function touchmoved() {\n        if (!this.__zooming)\n            return;\n        var g = gesture(this, arguments), touches = event.changedTouches, n = touches.length, i, t, p, l;\n        noevent$1();\n        if (touchstarting)\n            touchstarting = clearTimeout(touchstarting);\n        g.taps = 0;\n        for (i = 0; i < n; ++i) {\n            t = touches[i], p = touch(this, touches, t.identifier);\n            if (g.touch0 && g.touch0[2] === t.identifier)\n                g.touch0[0] = p;\n            else if (g.touch1 && g.touch1[2] === t.identifier)\n                g.touch1[0] = p;\n        }\n        t = g.that.__zoom;\n        if (g.touch1) {\n            var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n            t = scale(t, Math.sqrt(dp / dl));\n            p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n            l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n        }\n        else if (g.touch0)\n            p = g.touch0[0], l = g.touch0[1];\n        else\n            return;\n        g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n    }\n    function touchended() {\n        if (!this.__zooming)\n            return;\n        var g = gesture(this, arguments), touches = event.changedTouches, n = touches.length, i, t;\n        nopropagation();\n        if (touchending)\n            clearTimeout(touchending);\n        touchending = setTimeout(function () { touchending = null; }, touchDelay);\n        for (i = 0; i < n; ++i) {\n            t = touches[i];\n            if (g.touch0 && g.touch0[2] === t.identifier)\n                delete g.touch0;\n            else if (g.touch1 && g.touch1[2] === t.identifier)\n                delete g.touch1;\n        }\n        if (g.touch1 && !g.touch0)\n            g.touch0 = g.touch1, delete g.touch1;\n        if (g.touch0)\n            g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n        else {\n            g.end();\n            // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n            if (g.taps === 2) {\n                var p = select(this).on(\"dblclick.zoom\");\n                if (p)\n                    p.apply(this, arguments);\n            }\n        }\n    }\n    zoom.wheelDelta = function (_) {\n        return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant$3(+_), zoom) : wheelDelta;\n    };\n    zoom.filter = function (_) {\n        return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$3(!!_), zoom) : filter;\n    };\n    zoom.touchable = function (_) {\n        return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$3(!!_), zoom) : touchable;\n    };\n    zoom.extent = function (_) {\n        return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$3([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n    };\n    zoom.scaleExtent = function (_) {\n        return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n    };\n    zoom.translateExtent = function (_) {\n        return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n    };\n    zoom.constrain = function (_) {\n        return arguments.length ? (constrain = _, zoom) : constrain;\n    };\n    zoom.duration = function (_) {\n        return arguments.length ? (duration = +_, zoom) : duration;\n    };\n    zoom.interpolate = function (_) {\n        return arguments.length ? (interpolate = _, zoom) : interpolate;\n    };\n    zoom.on = function () {\n        var value = listeners.on.apply(listeners, arguments);\n        return value === listeners ? zoom : value;\n    };\n    zoom.clickDistance = function (_) {\n        return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n    };\n    return zoom;\n}\nvar transformScales = function (transform, movementOptions, _c) {\n    var xScale = _c.xScale, yScale = _c.yScale;\n    return ({\n        xScale: movementOptions.enableXScroll ? transform.rescaleX(xScale) : xScale,\n        yScale: movementOptions.enableYScroll ? transform.rescaleY(yScale) : yScale,\n    });\n};\nvar getTransformFromDates = function (_c) {\n    var prevXScale = _c.prevXScale, prevDates = _c.prevDates, currDates = _c.currDates;\n    // Determine k, our scaling factor\n    var prevTimeSpan = prevDates.end.getTime() - prevDates.start.getTime();\n    var currTimeSpan = currDates.end.getTime() - currDates.start.getTime();\n    var k = prevTimeSpan / currTimeSpan;\n    // Determine t, our translation x-offset\n    // since transform(xCurrStartDate) = 0 = xCurrStartDate * k + t => t = -1 * xCurrStartDate * k\n    var xCurrStartDate = prevXScale(currDates.start);\n    var t = -1 * xCurrStartDate * k;\n    return identity$3.translate(t, 0).scale(k); // NOTE: Only supporting x brushing for now.\n};\n/**\n * Get Transformed Date Range\n * Apply a given transformation to the given date range\n *\n * NOTE: The reason to pass in an `xScale` as opposed to the start and end date directly\n * is that a transform is in terms of the pixel space,\n * rather than the input space (the domain in which the data is in, which is time plus some number value).\n */\nvar getTransformedDateRange = function (_c) {\n    var xScale = _c.xScale, transform = _c.transform;\n    // Convert our date range to a domain since transformations have a built in function to transform scales.\n    var transformedScale = transform.rescaleX(xScale);\n    var _d = transformedScale.domain(), startTime = _d[0], endTime = _d[1];\n    return {\n        startDate: new Date(startTime),\n        endDate: new Date(endTime),\n    };\n};\n/**\n * Filter which gestures fire which events which will get\n * interpreted as zoom/panning events within the chart.\n */\nvar filterGestures = function () {\n    // Disables multi touch drag & mouse wheel sense these interfere with scrolling gestures,\n    // Since the charts are used in a context where horizontal and vertical scroll are used.\n    if (event.type === 'wheel') {\n        return false;\n    }\n    if (event.type === 'mousedown') {\n        // don't allow panning without pressing [shift] key\n        return event.shiftKey;\n    }\n    // Default filter applied to `d3-zoom`\n    return !event.ctrlKey && !event.button;\n};\n/**\n * Zoom\n *\n * A facade over `d3-zoom` which allows us to utilize the gesture support and concept of transforms, but\n * translated into terms of date range which are more useful for our usecase within bp-base-chart since\n * we communicate with the dashboards in terms of start and end dates, rather than view port pixel specific transforms.\n */\nvar Zoom = /** @class */ (function () {\n    function Zoom(_c, movement, getContainer) {\n        var xScale = _c.xScale, yScale = _c.yScale;\n        this.zoomBehavior = zoom()\n            .scaleExtent([movement.zoomMin, movement.zoomMax])\n            .filter(filterGestures);\n        this.xScale = xScale.copy();\n        this.yScale = yScale.copy();\n        this.movement = movement;\n        this.getContainer = getContainer;\n    }\n    /**\n     * Initializes the zoom behavior to a DOM element.\n     * This must be called after the DOM is already instantiated.\n     *\n     * This is separated from the constructor since it's possible to have a scenario where\n     * the component which the zoom behavior is bound to also is passed down the `Zoom` object,\n     * resulting in a scenario where you can't create the `Zoom` class until the component is mounted but\n     * you must pass in the `Zoom` object to properly mount the component.\n     */\n    Zoom.prototype.init = function () {\n        var container = this.getContainer();\n        if (container == null) {\n            throw new Error('Must not init Zoom before the container is available!');\n        }\n        select(container).call(this.zoomBehavior);\n    };\n    Zoom.prototype.transform = function (transitionContainer, transform) {\n        this.zoomBehavior.transform(transitionContainer, transform);\n    };\n    /**\n     * On Zoom Event\n     *\n     * Calls the specified listener passing in the date range which is being requested via some gesture (scroll, pan, etc)\n     */\n    Zoom.prototype.on = function (type, listener) {\n        var _this_1 = this;\n        this.zoomBehavior.on(type, function () {\n            var _c = getTransformedDateRange({\n                xScale: _this_1.xScale,\n                transform: event.transform,\n            }), startDate = _c.startDate, endDate = _c.endDate;\n            listener(startDate, endDate);\n        });\n    };\n    /**\n     * Update View Port\n     *\n     * Returns the x and y scale with the date range transformed to the specified view port\n     * Maintains the internal state of the zoom behavior.\n     * TODO(btd): Support gestures on the y axis\n     */\n    Zoom.prototype.updateViewPort = function (_c) {\n        var start = _c.start, end = _c.end, yMin = _c.yMin, yMax = _c.yMax;\n        var _d = this.xScale.domain(), prevStart = _d[0], prevEnd = _d[1];\n        var transform = getTransformFromDates({\n            prevXScale: this.xScale,\n            prevDates: { start: prevStart, end: prevEnd },\n            currDates: { start: start, end: end },\n        });\n        this.setTransform(transform);\n        return transformScales(transform, this.movement, {\n            xScale: this.xScale,\n            yScale: this.yScale.domain([yMin, yMax]),\n        });\n    };\n    /**\n     * Update View Port\n     *\n     * Updates the view port of the scales used as the frame of reference.\n     * Also transforms the internal transform state of zoom to map it into the new view port.\n     */\n    Zoom.prototype.updateSize = function (_c) {\n        var xMin = _c.xMin, xMax = _c.xMax, yMin = _c.yMin, yMax = _c.yMax;\n        // Apply the new view port to the transform (transform the transform!)\n        var _d = this.getTransform(), x = _d.x, y = _d.y, k = _d.k;\n        var _e = this.xScale.range(), prevXMin = _e[0], prevXMax = _e[1];\n        var xRatio = (xMax - xMin) / (prevXMax - prevXMin);\n        // Update Viewports\n        this.xScale.range([xMin, xMax]);\n        this.yScale.range([yMin, yMax]);\n        this.setTransform(identity$3.translate(x * xRatio, y).scale(k));\n        return transformScales(this.getTransform(), this.movement, {\n            xScale: this.xScale,\n            yScale: this.yScale,\n        });\n    };\n    /**\n     * Get Transform\n     *\n     * Returns the transform which is currently applied to our container.\n     */\n    Zoom.prototype.getTransform = function () {\n        var container = this.getContainer();\n        if (container == null) {\n            throw new Error('Container must not be null to set a internal zoom transform');\n        }\n        /* eslint-disable-next-line no-underscore-dangle */\n        return container.__zoom;\n    };\n    /**\n     * Set Internal Zoom Transform\n     *\n     * Updates the zoom containers state. This is necessary because we wish to apply\n     * transforms which did not stem from the zoom behavior itself.\n     *\n     * IMPORTANT: Whenever a transformation is applied to the DOM from a transform\n     * emitted by something other than the associated zoom container, one must\n     * set the internal zoom transform manually.\n     *\n     * You can see from the source code, https://github.com/d3/d3-zoom/blob/master/src/transform.js\n     * that `__zoom` is the property which stores the internal state of which transform is currently applied.\n     *\n     * NOTE: This does not apply the transform. It simply tells d3-zoom what transform was last set.\n     */\n    Zoom.prototype.setTransform = function (transform) {\n        var container = this.getContainer();\n        if (container == null) {\n            throw new Error('Container must not be null to set a internal zoom transform');\n        }\n        /* eslint-disable-next-line no-underscore-dangle */\n        container.__zoom = transform;\n    };\n    return Zoom;\n}());\n// DERIVATION NOTES:\n// transformations are defined as following:\n// t(x) := x * k + t\n// let `xMin` be defined as the pixel position of `xSelectedPixelMin` in the frame of reference of\n// `xScaleOriginal`.\n// Then by definition we want to find `k` and `t` such that\n// t(xMin) = 0\n// thus,\n// xMin * k + t = 0\n// therefore\n// t = -1 * k * xMin\n//\n// Additionally, our scaling factor should map our original range to the new range,\n// thus `k` is simply the ratio of the width of the ranges.\nvar createBrushTransform = function (_c) {\n    var xScale = _c.xScale, xSelectedPixelMax = _c.xSelectedPixelMax, xSelectedPixelMin = _c.xSelectedPixelMin, xScaleOriginal = _c.xScaleOriginal, movement = _c.movement;\n    // Determine k, our scaling factor\n    var timeSpan = xScale.invert(xSelectedPixelMax).getTime() - xScale.invert(xSelectedPixelMin).getTime();\n    var prevTimeSpan = xScaleOriginal.domain()[1].getTime() - xScaleOriginal.domain()[0].getTime();\n    var k = Math.max(Math.min(prevTimeSpan / timeSpan, movement.zoomMax), movement.zoomMin);\n    // Determine t, our translation x-offset\n    // NOTE: converting to an absolute date and then map that date to the frame of reference of the original scale.\n    // See derivation notes above for more detail.\n    var xMin = xScaleOriginal(xScale.invert(xSelectedPixelMin));\n    var t = -1 * k * xMin;\n    return identity$3.translate(t, 0).scale(k); // NOTE: Only supporting x brushing for now.\n};\nvar monitorGestureHandlerCss = \"monitor-gesture-handler .brush-container{position:absolute;width:100%;height:100%}monitor-gesture-handler .brush-box{fill:var(--selection-color);opacity:0.2}monitor-gesture-handler .brush-line{stroke:var(--selection-color);opacity:0.3;stroke-width:1.5px}monitor-gesture-handler .overlay{fill:none;pointer-events:all;cursor:crosshair}\";\nvar TRANSITION_DURATION = 600;\n// Want to prevent double clicking accident firing a teeny tiny brush gesture\nvar MIN_BRUSH_WIDTH = 6;\nvar MOVEMENT_CONFIG = {\n    enableXScroll: true,\n    enableYScroll: false,\n    zoomMax: Infinity,\n    zoomMin: 0.00001,\n};\nvar MonitorGestureHandler = /** @class */ (function () {\n    function MonitorGestureHandler(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.getContainer = function () { return _this_1.el.querySelector('svg.axis'); };\n        /**\n         * Initiate the start of a brush gesture by clicking\n         */\n        this.beginBrush = function (_c) {\n            var clientX = _c.clientX, shiftKey = _c.shiftKey;\n            if (!shiftKey) {\n                var x = _this_1.el.getBoundingClientRect().x;\n                _this_1.start = clientX - x;\n                _this_1.end = clientX - x;\n            }\n        };\n        /**\n         * Continue a brushing gesture by holding the mouse button and dragging\n         */\n        this.moveBrush = function (_c) {\n            var clientX = _c.clientX, buttons = _c.buttons, shiftKey = _c.shiftKey;\n            var isButtonPressed = buttons > 0;\n            if (isButtonPressed && _this_1.start != null && !shiftKey) {\n                var x = _this_1.el.getBoundingClientRect().x;\n                _this_1.end = clientX - x;\n            }\n            else {\n                _this_1.start = undefined;\n                _this_1.end = undefined;\n            }\n        };\n        /**\n         * Conclude a brushing gesture by letting the mouse button go.\n         */\n        this.finishBrush = function (_c) {\n            var shiftKey = _c.shiftKey;\n            // check if were actually finishing a brush motion.\n            // this event will also be fired when someone clicks and drags\n            // into the brush container\n            if (_this_1.start != null && _this_1.end != null && !shiftKey) {\n                var startPx = Math.min(_this_1.start, _this_1.end);\n                var endPx = Math.max(_this_1.start, _this_1.end);\n                if (endPx - startPx > MIN_BRUSH_WIDTH) {\n                    _this_1.initiateTransform(startPx, endPx);\n                }\n            }\n            _this_1.start = undefined;\n            _this_1.end = undefined;\n        };\n        this.cancelBrush = function () {\n            _this_1.start = undefined;\n            _this_1.end = undefined;\n        };\n        this.initiateTransform = function (startPx, endPx) {\n            var xScale = scaleTime()\n                .domain([_this_1.viewPort.start.getTime(), _this_1.viewPort.end.getTime()])\n                .range([0, _this_1.size.width]);\n            var xScaleOriginal = scaleTime()\n                .domain([_this_1.initialViewPort.start.getTime(), _this_1.initialViewPort.end.getTime()])\n                .range([0, _this_1.size.width]);\n            var brushTransform = createBrushTransform({\n                xSelectedPixelMin: startPx,\n                xSelectedPixelMax: endPx,\n                xScaleOriginal: xScaleOriginal,\n                xScale: xScale,\n                movement: MOVEMENT_CONFIG,\n            });\n            var transitionContainer = select(_this_1.zoomContainer())\n                .transition()\n                .duration(TRANSITION_DURATION);\n            _this_1.zoom.transform(transitionContainer, brushTransform);\n        };\n        this.zoomContainer = function () { return _this_1.el.querySelector('.zoom-container'); };\n    }\n    MonitorGestureHandler.prototype.componentDidLoad = function () {\n        this.initialViewPort = this.viewPort;\n        this.setupZoom();\n        this.el.addEventListener('mousedown', this.beginBrush, { capture: true });\n        this.el.addEventListener('mousemove', this.moveBrush);\n        this.el.addEventListener('mouseup', this.finishBrush);\n        this.el.addEventListener('mouseleave', this.cancelBrush);\n    };\n    MonitorGestureHandler.prototype.componentDidUnload = function () {\n        this.el.removeEventListener('mousedown', this.beginBrush);\n        this.el.removeEventListener('mousemove', this.moveBrush);\n        this.el.removeEventListener('mouseup', this.finishBrush);\n        this.el.removeEventListener('mouseleave', this.cancelBrush);\n    };\n    MonitorGestureHandler.prototype.onViewPortChange = function (newViewPort) {\n        this.zoom.updateViewPort(newViewPort);\n    };\n    MonitorGestureHandler.prototype.onSizeChange = function () {\n        var _c = this.size, chartWidth = _c.width, chartHeight = _c.height;\n        this.zoom.updateSize({\n            xMin: 0,\n            xMax: chartWidth,\n            yMax: 0,\n            yMin: chartHeight,\n        });\n    };\n    MonitorGestureHandler.prototype.scales = function () {\n        var _c = this.viewPort, yMin = _c.yMin, yMax = _c.yMax, start = _c.start, end = _c.end;\n        var _d = this.size, width = _d.width, height = _d.height;\n        var xScale = scaleTime()\n            .domain([start.getTime(), end.getTime()])\n            .range([0, width]);\n        var yScale = linear$1()\n            .domain([yMin, yMax])\n            .range([height, 0]);\n        return {\n            xScale: xScale,\n            yScale: yScale,\n        };\n    };\n    /**\n     * Setup Zoom\n     * Establishes how the chart pans and scales due to gestures and outside date range changes.\n     */\n    MonitorGestureHandler.prototype.setupZoom = function () {\n        var _this_1 = this;\n        var _c = this.scales(), xScale = _c.xScale, yScale = _c.yScale;\n        this.zoom = new Zoom({ xScale: xScale, yScale: yScale }, MOVEMENT_CONFIG, this.zoomContainer);\n        this.zoom.on('zoom.base-chart', function (start, end) {\n            _this_1.onDateRangeChange({ start: start, end: end });\n        });\n        this.zoom.init();\n    };\n    MonitorGestureHandler.prototype.render = function () {\n        var _c = this.size, width = _c.width, height = _c.height;\n        return (h(\"svg\", { class: \"brush-container\" }, this.start != null && this.end != null && (h(\"line\", { class: \"brush-line\", x1: this.start, y1: 0, x2: this.start, y2: height })), this.start != null && this.end != null && (h(\"rect\", { class: \"brush-box\", x: Math.min(this.start, this.end), height: height, width: Math.abs(this.end - this.start), y: 0 })), this.start != null && this.end != null && (h(\"line\", { class: \"brush-line\", x1: this.end, y1: 0, x2: this.end, y2: height })), h(\"rect\", { class: \"overlay zoom-container\", width: width, height: height })));\n    };\n    Object.defineProperty(MonitorGestureHandler.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MonitorGestureHandler, \"watchers\", {\n        get: function () {\n            return {\n                \"viewPort\": [\"onViewPortChange\"],\n                \"size\": [\"onSizeChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorGestureHandler;\n}());\nMonitorGestureHandler.style = monitorGestureHandlerCss;\n/**\n * A collection of shims that provide minimal functionality of the ES6 collections.\n *\n * These implementations are not meant to be used outside of the ResizeObserver\n * modules as they cover only a limited range of use cases.\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = (function () {\n    if (typeof Map !== 'undefined') {\n        return Map;\n    }\n    /**\n     * Returns index in provided array that matches the specified key.\n     *\n     * @param {Array<Array>} arr\n     * @param {*} key\n     * @returns {number}\n     */\n    function getIndex(arr, key) {\n        var result = -1;\n        arr.some(function (entry, index) {\n            if (entry[0] === key) {\n                result = index;\n                return true;\n            }\n            return false;\n        });\n        return result;\n    }\n    return /** @class */ (function () {\n        function class_1() {\n            this.__entries__ = [];\n        }\n        Object.defineProperty(class_1.prototype, \"size\", {\n            /**\n             * @returns {boolean}\n             */\n            get: function () {\n                return this.__entries__.length;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @param {*} key\n         * @returns {*}\n         */\n        class_1.prototype.get = function (key) {\n            var index = getIndex(this.__entries__, key);\n            var entry = this.__entries__[index];\n            return entry && entry[1];\n        };\n        /**\n         * @param {*} key\n         * @param {*} value\n         * @returns {void}\n         */\n        class_1.prototype.set = function (key, value) {\n            var index = getIndex(this.__entries__, key);\n            if (~index) {\n                this.__entries__[index][1] = value;\n            }\n            else {\n                this.__entries__.push([key, value]);\n            }\n        };\n        /**\n         * @param {*} key\n         * @returns {void}\n         */\n        class_1.prototype.delete = function (key) {\n            var entries = this.__entries__;\n            var index = getIndex(entries, key);\n            if (~index) {\n                entries.splice(index, 1);\n            }\n        };\n        /**\n         * @param {*} key\n         * @returns {void}\n         */\n        class_1.prototype.has = function (key) {\n            return !!~getIndex(this.__entries__, key);\n        };\n        /**\n         * @returns {void}\n         */\n        class_1.prototype.clear = function () {\n            this.__entries__.splice(0);\n        };\n        /**\n         * @param {Function} callback\n         * @param {*} [ctx=null]\n         * @returns {void}\n         */\n        class_1.prototype.forEach = function (callback, ctx) {\n            if (ctx === void 0) {\n                ctx = null;\n            }\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n                var entry = _a[_i];\n                callback.call(ctx, entry[1], entry[0]);\n            }\n        };\n        return class_1;\n    }());\n})();\n/**\n * Detects whether window and document objects are available in current environment.\n */\nvar isBrowser$2 = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n// Returns global object of a current environment.\nvar global$1 = (function () {\n    if (typeof global !== 'undefined' && global.Math === Math) {\n        return global;\n    }\n    if (typeof self !== 'undefined' && self.Math === Math) {\n        return self;\n    }\n    if (typeof window !== 'undefined' && window.Math === Math) {\n        return window;\n    }\n    // eslint-disable-next-line no-new-func\n    return Function('return this')();\n})();\n/**\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\n * first one is not supported.\n *\n * @returns {number} Requests' identifier.\n */\nvar requestAnimationFrame$1 = (function () {\n    if (typeof requestAnimationFrame === 'function') {\n        // It's required to use a bounded function because IE sometimes throws\n        // an \"Invalid calling object\" error if rAF is invoked without the global\n        // object on the left hand side.\n        return requestAnimationFrame.bind(global$1);\n    }\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\n})();\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n/**\n * Creates a wrapper function which ensures that provided callback will be\n * invoked only once during the specified delay period.\n *\n * @param {Function} callback - Function to be invoked after the delay period.\n * @param {number} delay - Delay after which to invoke callback.\n * @returns {Function}\n */\nfunction throttle(callback, delay) {\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\n    /**\n     * Invokes the original callback function and schedules new invocation if\n     * the \"proxy\" was called during current request.\n     *\n     * @returns {void}\n     */\n    function resolvePending() {\n        if (leadingCall) {\n            leadingCall = false;\n            callback();\n        }\n        if (trailingCall) {\n            proxy();\n        }\n    }\n    /**\n     * Callback invoked after the specified delay. It will further postpone\n     * invocation of the original function delegating it to the\n     * requestAnimationFrame.\n     *\n     * @returns {void}\n     */\n    function timeoutCallback() {\n        requestAnimationFrame$1(resolvePending);\n    }\n    /**\n     * Schedules invocation of the original function.\n     *\n     * @returns {void}\n     */\n    function proxy() {\n        var timeStamp = Date.now();\n        if (leadingCall) {\n            // Reject immediately following calls.\n            if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n            }\n            // Schedule new call to be in invoked when the pending one is resolved.\n            // This is important for \"transitions\" which never actually start\n            // immediately so there is a chance that we might miss one if change\n            // happens amids the pending invocation.\n            trailingCall = true;\n        }\n        else {\n            leadingCall = true;\n            trailingCall = false;\n            setTimeout(timeoutCallback, delay);\n        }\n        lastCallTime = timeStamp;\n    }\n    return proxy;\n}\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\n * Singleton controller class which handles updates of ResizeObserver instances.\n */\nvar ResizeObserverController = /** @class */ (function () {\n    /**\n     * Creates a new instance of ResizeObserverController.\n     *\n     * @private\n     */\n    function ResizeObserverController() {\n        /**\n         * Indicates whether DOM listeners have been added.\n         *\n         * @private {boolean}\n         */\n        this.connected_ = false;\n        /**\n         * Tells that controller has subscribed for Mutation Events.\n         *\n         * @private {boolean}\n         */\n        this.mutationEventsAdded_ = false;\n        /**\n         * Keeps reference to the instance of MutationObserver.\n         *\n         * @private {MutationObserver}\n         */\n        this.mutationsObserver_ = null;\n        /**\n         * A list of connected observers.\n         *\n         * @private {Array<ResizeObserverSPI>}\n         */\n        this.observers_ = [];\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n    }\n    /**\n     * Adds observer to observers list.\n     *\n     * @param {ResizeObserverSPI} observer - Observer to be added.\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.addObserver = function (observer) {\n        if (!~this.observers_.indexOf(observer)) {\n            this.observers_.push(observer);\n        }\n        // Add listeners if they haven't been added yet.\n        if (!this.connected_) {\n            this.connect_();\n        }\n    };\n    /**\n     * Removes observer from observers list.\n     *\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.removeObserver = function (observer) {\n        var observers = this.observers_;\n        var index = observers.indexOf(observer);\n        // Remove observer if it's present in registry.\n        if (~index) {\n            observers.splice(index, 1);\n        }\n        // Remove listeners if controller has no connected observers.\n        if (!observers.length && this.connected_) {\n            this.disconnect_();\n        }\n    };\n    /**\n     * Invokes the update of observers. It will continue running updates insofar\n     * it detects changes.\n     *\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.refresh = function () {\n        var changesDetected = this.updateObservers_();\n        // Continue running updates if changes have been detected as there might\n        // be future ones caused by CSS transitions.\n        if (changesDetected) {\n            this.refresh();\n        }\n    };\n    /**\n     * Updates every observer from observers list and notifies them of queued\n     * entries.\n     *\n     * @private\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\n     *      dimensions of it's elements.\n     */\n    ResizeObserverController.prototype.updateObservers_ = function () {\n        // Collect observers that have active observations.\n        var activeObservers = this.observers_.filter(function (observer) {\n            return observer.gatherActive(), observer.hasActive();\n        });\n        // Deliver notifications in a separate cycle in order to avoid any\n        // collisions between observers, e.g. when multiple instances of\n        // ResizeObserver are tracking the same element and the callback of one\n        // of them changes content dimensions of the observed target. Sometimes\n        // this may result in notifications being blocked for the rest of observers.\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n        return activeObservers.length > 0;\n    };\n    /**\n     * Initializes DOM listeners.\n     *\n     * @private\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.connect_ = function () {\n        // Do nothing if running in a non-browser environment or if listeners\n        // have been already added.\n        if (!isBrowser$2 || this.connected_) {\n            return;\n        }\n        // Subscription to the \"Transitionend\" event is used as a workaround for\n        // delayed transitions. This way it's possible to capture at least the\n        // final state of an element.\n        document.addEventListener('transitionend', this.onTransitionEnd_);\n        window.addEventListener('resize', this.refresh);\n        if (mutationObserverSupported) {\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\n            this.mutationsObserver_.observe(document, {\n                attributes: true,\n                childList: true,\n                characterData: true,\n                subtree: true\n            });\n        }\n        else {\n            document.addEventListener('DOMSubtreeModified', this.refresh);\n            this.mutationEventsAdded_ = true;\n        }\n        this.connected_ = true;\n    };\n    /**\n     * Removes DOM listeners.\n     *\n     * @private\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.disconnect_ = function () {\n        // Do nothing if running in a non-browser environment or if listeners\n        // have been already removed.\n        if (!isBrowser$2 || !this.connected_) {\n            return;\n        }\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\n        window.removeEventListener('resize', this.refresh);\n        if (this.mutationsObserver_) {\n            this.mutationsObserver_.disconnect();\n        }\n        if (this.mutationEventsAdded_) {\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\n        }\n        this.mutationsObserver_ = null;\n        this.mutationEventsAdded_ = false;\n        this.connected_ = false;\n    };\n    /**\n     * \"Transitionend\" event handler.\n     *\n     * @private\n     * @param {TransitionEvent} event\n     * @returns {void}\n     */\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\n        // Detect whether transition may affect dimensions of an element.\n        var isReflowProperty = transitionKeys.some(function (key) {\n            return !!~propertyName.indexOf(key);\n        });\n        if (isReflowProperty) {\n            this.refresh();\n        }\n    };\n    /**\n     * Returns instance of the ResizeObserverController.\n     *\n     * @returns {ResizeObserverController}\n     */\n    ResizeObserverController.getInstance = function () {\n        if (!this.instance_) {\n            this.instance_ = new ResizeObserverController();\n        }\n        return this.instance_;\n    };\n    /**\n     * Holds reference to the controller's instance.\n     *\n     * @private {ResizeObserverController}\n     */\n    ResizeObserverController.instance_ = null;\n    return ResizeObserverController;\n}());\n/**\n * Defines non-writable/enumerable properties of the provided target object.\n *\n * @param {Object} target - Object for which to define properties.\n * @param {Object} props - Properties to be defined.\n * @returns {Object} Target object.\n */\nvar defineConfigurable = (function (target, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var key = _a[_i];\n        Object.defineProperty(target, key, {\n            value: props[key],\n            enumerable: false,\n            writable: false,\n            configurable: true\n        });\n    }\n    return target;\n});\n/**\n * Returns the global object associated with provided element.\n *\n * @param {Object} target\n * @returns {Object}\n */\nvar getWindowOf = (function (target) {\n    // Assume that the element is an instance of Node, which means that it\n    // has the \"ownerDocument\" property from which we can retrieve a\n    // corresponding global object.\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n    // Return the local global object if it's not possible extract one from\n    // provided element.\n    return ownerGlobal || global$1;\n});\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\n * Converts provided string to a number.\n *\n * @param {number|string} value\n * @returns {number}\n */\nfunction toFloat(value) {\n    return parseFloat(value) || 0;\n}\n/**\n * Extracts borders size from provided styles.\n *\n * @param {CSSStyleDeclaration} styles\n * @param {...string} positions - Borders positions (top, right, ...)\n * @returns {number}\n */\nfunction getBordersSize$1(styles) {\n    var positions = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        positions[_i - 1] = arguments[_i];\n    }\n    return positions.reduce(function (size, position) {\n        var value = styles['border-' + position + '-width'];\n        return size + toFloat(value);\n    }, 0);\n}\n/**\n * Extracts paddings sizes from provided styles.\n *\n * @param {CSSStyleDeclaration} styles\n * @returns {Object} Paddings box.\n */\nfunction getPaddings(styles) {\n    var positions = ['top', 'right', 'bottom', 'left'];\n    var paddings = {};\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n        var position = positions_1[_i];\n        var value = styles['padding-' + position];\n        paddings[position] = toFloat(value);\n    }\n    return paddings;\n}\n/**\n * Calculates content rectangle of provided SVG element.\n *\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\n *      to be calculated.\n * @returns {DOMRectInit}\n */\nfunction getSVGContentRect(target) {\n    var bbox = target.getBBox();\n    return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\n * Calculates content rectangle of provided HTMLElement.\n *\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\n * @returns {DOMRectInit}\n */\nfunction getHTMLElementContentRect(target) {\n    // Client width & height properties can't be\n    // used exclusively as they provide rounded values.\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\n    // By this condition we can catch all non-replaced inline, hidden and\n    // detached elements. Though elements with width & height properties less\n    // than 0.5 will be discarded as well.\n    //\n    // Without it we would need to implement separate methods for each of\n    // those cases and it's not possible to perform a precise and performance\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n    // gives wrong results for elements with width & height less than 0.5.\n    if (!clientWidth && !clientHeight) {\n        return emptyRect;\n    }\n    var styles = getWindowOf(target).getComputedStyle(target);\n    var paddings = getPaddings(styles);\n    var horizPad = paddings.left + paddings.right;\n    var vertPad = paddings.top + paddings.bottom;\n    // Computed styles of width & height are being used because they are the\n    // only dimensions available to JS that contain non-rounded values. It could\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\n    var width = toFloat(styles.width), height = toFloat(styles.height);\n    // Width & height include paddings and borders when the 'border-box' box\n    // model is applied (except for IE).\n    if (styles.boxSizing === 'border-box') {\n        // Following conditions are required to handle Internet Explorer which\n        // doesn't include paddings and borders to computed CSS dimensions.\n        //\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\n        // properties then it's either IE, and thus we don't need to subtract\n        // anything, or an element merely doesn't have paddings/borders styles.\n        if (Math.round(width + horizPad) !== clientWidth) {\n            width -= getBordersSize$1(styles, 'left', 'right') + horizPad;\n        }\n        if (Math.round(height + vertPad) !== clientHeight) {\n            height -= getBordersSize$1(styles, 'top', 'bottom') + vertPad;\n        }\n    }\n    // Following steps can't be applied to the document's root element as its\n    // client[Width/Height] properties represent viewport area of the window.\n    // Besides, it's as well not necessary as the <html> itself neither has\n    // rendered scroll bars nor it can be clipped.\n    if (!isDocumentElement(target)) {\n        // In some browsers (only in Firefox, actually) CSS width & height\n        // include scroll bars size which can be removed at this step as scroll\n        // bars are the only difference between rounded dimensions + paddings\n        // and \"client\" properties, though that is not always true in Chrome.\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n        // Chrome has a rather weird rounding of \"client\" properties.\n        // E.g. for an element with content width of 314.2px it sometimes gives\n        // the client width of 315px and for the width of 314.7px it may give\n        // 314px. And it doesn't happen all the time. So just ignore this delta\n        // as a non-relevant.\n        if (Math.abs(vertScrollbar) !== 1) {\n            width -= vertScrollbar;\n        }\n        if (Math.abs(horizScrollbar) !== 1) {\n            height -= horizScrollbar;\n        }\n    }\n    return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\n * Checks whether provided element is an instance of the SVGGraphicsElement.\n *\n * @param {Element} target - Element to be checked.\n * @returns {boolean}\n */\nvar isSVGGraphicsElement = (function () {\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n    // interface.\n    if (typeof SVGGraphicsElement !== 'undefined') {\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\n    }\n    // If it's so, then check that element is at least an instance of the\n    // SVGElement and that it has the \"getBBox\" method.\n    // eslint-disable-next-line no-extra-parens\n    return function (target) {\n        return (target instanceof getWindowOf(target).SVGElement &&\n            typeof target.getBBox === 'function');\n    };\n})();\n/**\n * Checks whether provided element is a document element (<html>).\n *\n * @param {Element} target - Element to be checked.\n * @returns {boolean}\n */\nfunction isDocumentElement(target) {\n    return target === getWindowOf(target).document.documentElement;\n}\n/**\n * Calculates an appropriate content rectangle for provided html or svg element.\n *\n * @param {Element} target - Element content rectangle of which needs to be calculated.\n * @returns {DOMRectInit}\n */\nfunction getContentRect(target) {\n    if (!isBrowser$2) {\n        return emptyRect;\n    }\n    if (isSVGGraphicsElement(target)) {\n        return getSVGContentRect(target);\n    }\n    return getHTMLElementContentRect(target);\n}\n/**\n * Creates rectangle with an interface of the DOMRectReadOnly.\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\n *\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\n * @returns {DOMRectReadOnly}\n */\nfunction createReadOnlyRect(_a) {\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n    var rect = Object.create(Constr.prototype);\n    // Rectangle's properties are not writable and non-enumerable.\n    defineConfigurable(rect, {\n        x: x, y: y, width: width, height: height,\n        top: y,\n        right: x + width,\n        bottom: height + y,\n        left: x\n    });\n    return rect;\n}\n/**\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\n *\n * @param {number} x - X coordinate.\n * @param {number} y - Y coordinate.\n * @param {number} width - Rectangle's width.\n * @param {number} height - Rectangle's height.\n * @returns {DOMRectInit}\n */\nfunction createRectInit(x, y, width, height) {\n    return { x: x, y: y, width: width, height: height };\n}\n/**\n * Class that is responsible for computations of the content rectangle of\n * provided DOM element and for keeping track of it's changes.\n */\nvar ResizeObservation = /** @class */ (function () {\n    /**\n     * Creates an instance of ResizeObservation.\n     *\n     * @param {Element} target - Element to be observed.\n     */\n    function ResizeObservation(target) {\n        /**\n         * Broadcasted width of content rectangle.\n         *\n         * @type {number}\n         */\n        this.broadcastWidth = 0;\n        /**\n         * Broadcasted height of content rectangle.\n         *\n         * @type {number}\n         */\n        this.broadcastHeight = 0;\n        /**\n         * Reference to the last observed content rectangle.\n         *\n         * @private {DOMRectInit}\n         */\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\n        this.target = target;\n    }\n    /**\n     * Updates content rectangle and tells whether it's width or height properties\n     * have changed since the last broadcast.\n     *\n     * @returns {boolean}\n     */\n    ResizeObservation.prototype.isActive = function () {\n        var rect = getContentRect(this.target);\n        this.contentRect_ = rect;\n        return (rect.width !== this.broadcastWidth ||\n            rect.height !== this.broadcastHeight);\n    };\n    /**\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\n     * from the corresponding properties of the last observed content rectangle.\n     *\n     * @returns {DOMRectInit} Last observed content rectangle.\n     */\n    ResizeObservation.prototype.broadcastRect = function () {\n        var rect = this.contentRect_;\n        this.broadcastWidth = rect.width;\n        this.broadcastHeight = rect.height;\n        return rect;\n    };\n    return ResizeObservation;\n}());\nvar ResizeObserverEntry = /** @class */ (function () {\n    /**\n     * Creates an instance of ResizeObserverEntry.\n     *\n     * @param {Element} target - Element that is being observed.\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\n     */\n    function ResizeObserverEntry(target, rectInit) {\n        var contentRect = createReadOnlyRect(rectInit);\n        // According to the specification following properties are not writable\n        // and are also not enumerable in the native implementation.\n        //\n        // Property accessors are not being used as they'd require to define a\n        // private WeakMap storage which may cause memory leaks in browsers that\n        // don't support this type of collections.\n        defineConfigurable(this, { target: target, contentRect: contentRect });\n    }\n    return ResizeObserverEntry;\n}());\nvar ResizeObserverSPI = /** @class */ (function () {\n    /**\n     * Creates a new instance of ResizeObserver.\n     *\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\n     *      when one of the observed elements changes it's content dimensions.\n     * @param {ResizeObserverController} controller - Controller instance which\n     *      is responsible for the updates of observer.\n     * @param {ResizeObserver} callbackCtx - Reference to the public\n     *      ResizeObserver instance which will be passed to callback function.\n     */\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\n        /**\n         * Collection of resize observations that have detected changes in dimensions\n         * of elements.\n         *\n         * @private {Array<ResizeObservation>}\n         */\n        this.activeObservations_ = [];\n        /**\n         * Registry of the ResizeObservation instances.\n         *\n         * @private {Map<Element, ResizeObservation>}\n         */\n        this.observations_ = new MapShim();\n        if (typeof callback !== 'function') {\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\n        }\n        this.callback_ = callback;\n        this.controller_ = controller;\n        this.callbackCtx_ = callbackCtx;\n    }\n    /**\n     * Starts observing provided element.\n     *\n     * @param {Element} target - Element to be observed.\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.observe = function (target) {\n        if (!arguments.length) {\n            throw new TypeError('1 argument required, but only 0 present.');\n        }\n        // Do nothing if current environment doesn't have the Element interface.\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n            return;\n        }\n        if (!(target instanceof getWindowOf(target).Element)) {\n            throw new TypeError('parameter 1 is not of type \"Element\".');\n        }\n        var observations = this.observations_;\n        // Do nothing if element is already being observed.\n        if (observations.has(target)) {\n            return;\n        }\n        observations.set(target, new ResizeObservation(target));\n        this.controller_.addObserver(this);\n        // Force the update of observations.\n        this.controller_.refresh();\n    };\n    /**\n     * Stops observing provided element.\n     *\n     * @param {Element} target - Element to stop observing.\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.unobserve = function (target) {\n        if (!arguments.length) {\n            throw new TypeError('1 argument required, but only 0 present.');\n        }\n        // Do nothing if current environment doesn't have the Element interface.\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n            return;\n        }\n        if (!(target instanceof getWindowOf(target).Element)) {\n            throw new TypeError('parameter 1 is not of type \"Element\".');\n        }\n        var observations = this.observations_;\n        // Do nothing if element is not being observed.\n        if (!observations.has(target)) {\n            return;\n        }\n        observations.delete(target);\n        if (!observations.size) {\n            this.controller_.removeObserver(this);\n        }\n    };\n    /**\n     * Stops observing all elements.\n     *\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.disconnect = function () {\n        this.clearActive();\n        this.observations_.clear();\n        this.controller_.removeObserver(this);\n    };\n    /**\n     * Collects observation instances the associated element of which has changed\n     * it's content rectangle.\n     *\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.gatherActive = function () {\n        var _this = this;\n        this.clearActive();\n        this.observations_.forEach(function (observation) {\n            if (observation.isActive()) {\n                _this.activeObservations_.push(observation);\n            }\n        });\n    };\n    /**\n     * Invokes initial callback function with a list of ResizeObserverEntry\n     * instances collected from active resize observations.\n     *\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.broadcastActive = function () {\n        // Do nothing if observer doesn't have active observations.\n        if (!this.hasActive()) {\n            return;\n        }\n        var ctx = this.callbackCtx_;\n        // Create ResizeObserverEntry instance for every active observation.\n        var entries = this.activeObservations_.map(function (observation) {\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n        });\n        this.callback_.call(ctx, entries, ctx);\n        this.clearActive();\n    };\n    /**\n     * Clears the collection of active observations.\n     *\n     * @returns {void}\n     */\n    ResizeObserverSPI.prototype.clearActive = function () {\n        this.activeObservations_.splice(0);\n    };\n    /**\n     * Tells whether observer has active observations.\n     *\n     * @returns {boolean}\n     */\n    ResizeObserverSPI.prototype.hasActive = function () {\n        return this.activeObservations_.length > 0;\n    };\n    return ResizeObserverSPI;\n}());\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\n * exposing only those methods and properties that are defined in the spec.\n */\nvar ResizeObserver = /** @class */ (function () {\n    /**\n     * Creates a new instance of ResizeObserver.\n     *\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\n     *      dimensions of the observed elements change.\n     */\n    function ResizeObserver(callback) {\n        if (!(this instanceof ResizeObserver)) {\n            throw new TypeError('Cannot call a class as a function.');\n        }\n        if (!arguments.length) {\n            throw new TypeError('1 argument required, but only 0 present.');\n        }\n        var controller = ResizeObserverController.getInstance();\n        var observer = new ResizeObserverSPI(callback, controller, this);\n        observers.set(this, observer);\n    }\n    return ResizeObserver;\n}());\n// Expose public methods of ResizeObserver.\n[\n    'observe',\n    'unobserve',\n    'disconnect'\n].forEach(function (method) {\n    ResizeObserver.prototype[method] = function () {\n        var _a;\n        return (_a = observers.get(this))[method].apply(_a, arguments);\n    };\n});\nvar index = (function () {\n    // Export existing implementation if available.\n    if (typeof global$1.ResizeObserver !== 'undefined') {\n        return global$1.ResizeObserver;\n    }\n    return ResizeObserver;\n})();\nvar monitorSizeProviderCss = \"monitor-size-provider .monitor-size-provider-container{width:100%;height:100%}\";\nvar MS_PER_RECT_POLL = 250;\nvar MonitorSizeProvider = /** @class */ (function () {\n    function MonitorSizeProvider(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.computedSize = null;\n        this.rect = null;\n        this.rectPollingHandler = null;\n        this.setRect = function () {\n            if (_this_1.el && _this_1.el.isConnected) {\n                _this_1.rect = rectScrollFixed(_this_1.el);\n            }\n        };\n    }\n    MonitorSizeProvider.prototype.componentWillLoad = function () {\n        var _this_1 = this;\n        /**\n         * Creates a listener for elements dimensions changing.\n         * This allows us to dynamically set the widget dimensions.\n         */\n        this.resizer = new index(function (entries) {\n            entries.forEach(function (entry) {\n                var _c = entry.contentRect, width = _c.width, height = _c.height;\n                _this_1.computedSize = { width: width, height: height };\n            });\n        });\n    };\n    MonitorSizeProvider.prototype.componentDidLoad = function () {\n        this.setRect();\n        this.rectPollingHandler = window.setInterval(this.setRect, MS_PER_RECT_POLL);\n        this.resizer.observe(this.el.firstElementChild);\n    };\n    MonitorSizeProvider.prototype.componentDidUnload = function () {\n        this.resizer.disconnect();\n        if (this.rectPollingHandler) {\n            window.clearInterval(this.rectPollingHandler);\n        }\n    };\n    MonitorSizeProvider.prototype.render = function () {\n        var rect = (this.size || this.computedSize) && this.rect\n            ? Object.assign(Object.assign(Object.assign({}, this.rect), this.computedSize), this.size) : undefined;\n        return h(\"div\", { class: \"monitor-size-provider-container\" }, rect && this.renderFunc(rect));\n    };\n    Object.defineProperty(MonitorSizeProvider.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorSizeProvider;\n}());\nMonitorSizeProvider.style = monitorSizeProviderCss;\nvar monitorTooltipRowCss = \"monitor-tooltip-row{--bar-size:12px;white-space:nowrap}monitor-tooltip-row .bar{display:inline-block;height:3px;width:var(--bar-size);border-radius:1px;margin-bottom:3px}\";\nvar MonitorTooltipRow = /** @class */ (function () {\n    function MonitorTooltipRow(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.getFontColor = function () {\n            var baseColor = '#000';\n            if (_this_1.activePoint == null) {\n                return baseColor;\n            }\n            var breachedThreshold = getBreachedThreshold(_this_1.activePoint.point.y, _this_1.thresholds);\n            return breachedThreshold ? breachedThreshold.color : baseColor;\n        };\n    }\n    MonitorTooltipRow.prototype.render = function () {\n        return (h(\"div\", null, h(\"div\", { class: \"bar awsui-util-mr-xs\", style: {\n                backgroundColor: this.dataStreamInfo.color,\n            } }), h(\"h4\", { class: \"awsui-util-d-i\", \"data-testid\": \"current-value\", style: { color: this.getFontColor() } }, this.activePoint == null ? '-- ' : precision(this.activePoint.point.y) + \" \")));\n    };\n    return MonitorTooltipRow;\n}());\nMonitorTooltipRow.style = monitorTooltipRowCss;\nvar BUFFER;\n(function (BUFFER) {\n    BUFFER[BUFFER[\"STANDARD\"] = 0.15] = \"STANDARD\";\n    BUFFER[BUFFER[\"SAME_VALUE\"] = 0.5] = \"SAME_VALUE\";\n})(BUFFER || (BUFFER = {}));\nvar orderOfMagnitude = function (n) {\n    var o = Math.log10(Math.abs(n));\n    return Math.ceil(o);\n};\nvar roundedMagnitude = function (n) {\n    var m = orderOfMagnitude(n);\n    return n > 0 ? Math.pow(10, m) : -1 * Math.pow(10, m);\n};\nvar DEFAULT_ROUNDING_DIVISOR = 50;\nvar roundedToNearest = function (rMag, n) { return function (roundUp) {\n    var a = n / (rMag / DEFAULT_ROUNDING_DIVISOR);\n    var b = rMag / DEFAULT_ROUNDING_DIVISOR;\n    return roundUp ? Math.ceil(a) * b : Math.floor(a) * b;\n}; };\nvar roundToOrderOfMagnitude = function (n, min) {\n    if (n === 0) {\n        return 0;\n    }\n    var roundedY = roundedToNearest(roundedMagnitude(n), n);\n    return n < 0 ? roundedY(min) : roundedY(!min);\n};\nvar DEFAULT_Y_RANGE = {\n    yMax: 1000,\n    yMin: 1,\n};\nvar getBufferHeightByRange = function (yMin, yMax) {\n    var bufferHeight = 0;\n    // Adding padding such that the data's y-values are not flush with the view port\n    if (yMax === yMin) {\n        // Taking care of the case where yMax === yMin as well as a special case where both are 0\n        bufferHeight = yMax !== 0 ? Math.abs(yMax * BUFFER.SAME_VALUE) : BUFFER.SAME_VALUE;\n    }\n    else {\n        bufferHeight = (yMax - yMin) * BUFFER.STANDARD;\n    }\n    return bufferHeight;\n};\nvar getYRangeWithBuffers = function (_c) {\n    var yValues = _c.yValues, startFromZero = _c.startFromZero;\n    if (yValues.length === 0) {\n        return DEFAULT_Y_RANGE;\n    }\n    var dataRange = yValues.reduce(function (yRange, currentY) { return ({\n        yMin: Math.min(currentY, yRange.yMin),\n        yMax: Math.max(currentY, yRange.yMax),\n    }); }, {\n        yMin: Infinity,\n        yMax: -Infinity,\n    });\n    var noNegativeValues = dataRange.yMin >= 0;\n    var noPositiveValues = dataRange.yMax <= 0;\n    var bufferHeight = getBufferHeightByRange(dataRange.yMin, dataRange.yMax);\n    var yMax = dataRange.yMax + bufferHeight;\n    var yMin = dataRange.yMin - bufferHeight;\n    // Special case where yMax ans yMin is both zero. We will want to have padding.\n    if (dataRange.yMax !== 0 || dataRange.yMin !== 0) {\n        // If should start from zero and all in view points are positive, we set the yMin to zero\n        if (startFromZero && noNegativeValues) {\n            yMin = 0;\n        }\n        // If should start from zero and all in view points are negative, we set the yMax to zero.\n        if (startFromZero && noPositiveValues) {\n            yMax = 0;\n        }\n    }\n    return {\n        yMin: roundToOrderOfMagnitude(yMin, true),\n        yMax: roundToOrderOfMagnitude(yMax, false),\n    };\n};\nvar getYRange = function (_c) {\n    var points = _c.points, yAnnotations = _c.yAnnotations, startFromZero = _c.startFromZero;\n    // Extract out Y values for each of the data set for normalization.\n    var yDataValues = points.map(function (point) { return point.y; });\n    var yAnnotationValues = yAnnotations.map(function (yAnnotation) { return yAnnotation.value; });\n    return getYRangeWithBuffers({ yValues: __spreadArrays(yDataValues, yAnnotationValues), startFromZero: startFromZero });\n};\nvar currentYRange = function () {\n    var lastYRange = DEFAULT_Y_RANGE;\n    return function (_c) {\n        var points = _c.points, yAnnotations = _c.yAnnotations, startFromZero = _c.startFromZero;\n        if (points.length === 0 && yAnnotations.length === 0) {\n            return lastYRange;\n        }\n        lastYRange = getYRange({ points: points, yAnnotations: yAnnotations, startFromZero: startFromZero });\n        return lastYRange;\n    };\n};\nvar MonitorViewportProvider = /** @class */ (function () {\n    function MonitorViewportProvider(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        // If true and all in view port data is one direction, negative or positive, y range will always start from zero.\n        this.preferStartFromZero = false;\n        this.computeYRange = currentYRange();\n        this.setYRange = function () {\n            // Filter down the data streams to only contain data within the viewport\n            var inViewPoints = _this_1.dataStreams\n                .map(function (stream) { return getVisibleData(stream.data, _this_1.config.viewPort, false); })\n                .flat();\n            var _c = _this_1.computeYRange({\n                points: inViewPoints,\n                yAnnotations: _this_1.annotations != null && _this_1.annotations.y != null ? _this_1.annotations.y : [],\n                startFromZero: _this_1.preferStartFromZero,\n            }), nextYMin = _c.yMin, nextYMax = _c.yMax;\n            _this_1.yRange = {\n                yMin: 'yMin' in _this_1.config.viewPort ? _this_1.config.viewPort.yMin : nextYMin,\n                yMax: 'yMax' in _this_1.config.viewPort ? _this_1.config.viewPort.yMax : nextYMax,\n            };\n        };\n    }\n    MonitorViewportProvider.prototype.componentWillLoad = function () {\n        this.setYRange();\n    };\n    MonitorViewportProvider.prototype.updateYRange = function () {\n        this.setYRange();\n    };\n    MonitorViewportProvider.prototype.render = function () {\n        return this.renderFunc(this.yRange);\n    };\n    Object.defineProperty(MonitorViewportProvider, \"watchers\", {\n        get: function () {\n            return {\n                \"config\": [\"updateYRange\"],\n                \"dataStreams\": [\"updateYRange\"],\n                \"annotations\": [\"updateYRange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorViewportProvider;\n}());\nvar slice = Array.prototype.slice;\nfunction identity$4(x) {\n    return x;\n}\nvar top = 1, right = 2, bottom = 3, left = 4, epsilon = 1e-6;\nfunction translateX(x) {\n    return \"translate(\" + (x + 0.5) + \",0)\";\n}\nfunction translateY(y) {\n    return \"translate(0,\" + (y + 0.5) + \")\";\n}\nfunction number$2(scale) {\n    return function (d) {\n        return +scale(d);\n    };\n}\nfunction center(scale) {\n    var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n    if (scale.round())\n        offset = Math.round(offset);\n    return function (d) {\n        return +scale(d) + offset;\n    };\n}\nfunction entering() {\n    return !this.__axis;\n}\nfunction axis(orient, scale) {\n    var tickArguments = [], tickValues = null, tickFormat = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, k = orient === top || orient === left ? -1 : 1, x = orient === left || orient === right ? \"x\" : \"y\", transform = orient === top || orient === bottom ? translateX : translateY;\n    function axis(context) {\n        var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues, format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity$4) : tickFormat, spacing = Math.max(tickSizeInner, 0) + tickPadding, range = scale.range(), range0 = +range[0] + 0.5, range1 = +range[range.length - 1] + 0.5, position = (scale.bandwidth ? center : number$2)(scale.copy()), selection = context.selection ? context.selection() : context, path = selection.selectAll(\".domain\").data([null]), tick = selection.selectAll(\".tick\").data(values, scale).order(), tickExit = tick.exit(), tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"), line = tick.select(\"line\"), text = tick.select(\"text\");\n        path = path.merge(path.enter().insert(\"path\", \".tick\")\n            .attr(\"class\", \"domain\")\n            .attr(\"stroke\", \"currentColor\"));\n        tick = tick.merge(tickEnter);\n        line = line.merge(tickEnter.append(\"line\")\n            .attr(\"stroke\", \"currentColor\")\n            .attr(x + \"2\", k * tickSizeInner));\n        text = text.merge(tickEnter.append(\"text\")\n            .attr(\"fill\", \"currentColor\")\n            .attr(x, k * spacing)\n            .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n        if (context !== selection) {\n            path = path.transition(context);\n            tick = tick.transition(context);\n            line = line.transition(context);\n            text = text.transition(context);\n            tickExit = tickExit.transition(context)\n                .attr(\"opacity\", epsilon)\n                .attr(\"transform\", function (d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n            tickEnter\n                .attr(\"opacity\", epsilon)\n                .attr(\"transform\", function (d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n        }\n        tickExit.remove();\n        path\n            .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n        tick\n            .attr(\"opacity\", 1)\n            .attr(\"transform\", function (d) { return transform(position(d)); });\n        line\n            .attr(x + \"2\", k * tickSizeInner);\n        text\n            .attr(x, k * spacing)\n            .text(format);\n        selection.filter(entering)\n            .attr(\"fill\", \"none\")\n            .attr(\"font-size\", 10)\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n        selection\n            .each(function () { this.__axis = position; });\n    }\n    axis.scale = function (_) {\n        return arguments.length ? (scale = _, axis) : scale;\n    };\n    axis.ticks = function () {\n        return tickArguments = slice.call(arguments), axis;\n    };\n    axis.tickArguments = function (_) {\n        return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n    };\n    axis.tickValues = function (_) {\n        return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n    };\n    axis.tickFormat = function (_) {\n        return arguments.length ? (tickFormat = _, axis) : tickFormat;\n    };\n    axis.tickSize = function (_) {\n        return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n    };\n    axis.tickSizeInner = function (_) {\n        return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n    };\n    axis.tickSizeOuter = function (_) {\n        return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n    };\n    axis.tickPadding = function (_) {\n        return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n    };\n    return axis;\n}\nfunction axisBottom(scale) {\n    return axis(bottom, scale);\n}\nfunction axisLeft(scale) {\n    return axis(left, scale);\n}\nvar X_TICK_DISTANCE_PX = 100;\n// Y ticks can be closer since the height of a label is much less than the max width of a label across multiple resolutions\nvar Y_TICK_DISTANCE_PX = 30;\nvar MIN_TICK_COUNT = 2;\nvar getTickCount = function (_c, _d) {\n    var width = _c.width, height = _c.height;\n    var yScaleType = _d.yScaleType;\n    var xTickCount = Math.max(Math.floor(width / X_TICK_DISTANCE_PX), MIN_TICK_COUNT);\n    var yTickCount = Math.max(Math.floor(height / (Y_TICK_DISTANCE_PX + (yScaleType === ScaleType.Log ? 60 : 0))), MIN_TICK_COUNT);\n    return { xTickCount: xTickCount, yTickCount: yTickCount };\n};\n/**\n * Axis Display Constants\n */\nvar TICK_SIZE = 0;\nvar TICK_PADDING = 10;\nvar monitorWebglAxisCss = \"monitor-webgl-axis .axis{shape-rendering:crispEdges;position:absolute;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}monitor-webgl-axis .axis path{display:none}monitor-webgl-axis .axis .tick{color:var(--primary-main)}monitor-webgl-axis .axis-box line{color:var(--primary-light);stroke:var(--primary-light);stroke-width:1px}monitor-webgl-axis .axis .tick line{color:var(--primary-light)}monitor-webgl-axis .axis .tick text{font-size:var(--font-size-small);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}monitor-webgl-axis .x-axis .tick:last-child text{font-weight:bold}\";\nvar MonitorWebglAxis = /** @class */ (function () {\n    function MonitorWebglAxis(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.getContainer = function () { return _this_1.el.querySelector('svg.axis'); };\n        this.tickCount = function () { return getTickCount({ width: _this_1.size.width, height: _this_1.size.height }, {\n            xScaleSide: 'bottom',\n            yScaleSide: 'left',\n            yScaleType: ScaleType.Linear,\n            xScaleType: ScaleType.Linear,\n        }); };\n        this.bottomScale = function () {\n            var xTickCount = _this_1.tickCount().xTickCount;\n            var xScale = _this_1.getScales().xScale;\n            return axisBottom(xScale)\n                .ticks(xTickCount)\n                .tickPadding(TICK_PADDING)\n                .tickSize(TICK_SIZE);\n        };\n        this.leftScale = function () {\n            var yTickCount = _this_1.tickCount().yTickCount;\n            var yScale = _this_1.getScales().yScale;\n            return axisLeft(yScale)\n                .ticks(yTickCount)\n                .tickSize(-_this_1.size.width)\n                .tickPadding(TICK_PADDING);\n        };\n        this.xAxisCall = function (bottomAxis) { return function (selection) { return selection\n            .attr('transform', \"translate(\" + _this_1.size.marginLeft + \", \" + (_this_1.size.marginTop + _this_1.size.height) + \")\")\n            .call(bottomAxis); }; };\n        this.yAxisCall = function (rightAxis) { return function (selection) { return selection.attr('transform', \"translate(\" + _this_1.size.marginLeft + \", \" + _this_1.size.marginTop + \")\").call(rightAxis); }; };\n    }\n    MonitorWebglAxis.prototype.componentDidLoad = function () {\n        var container = this.getContainer();\n        select(container)\n            .append('g')\n            .attr('class', 'axis x-axis')\n            .call(this.xAxisCall(this.bottomScale()));\n        select(container)\n            .append('g')\n            .attr('class', 'axis y-axis')\n            .call(this.yAxisCall(this.leftScale()));\n    };\n    MonitorWebglAxis.prototype.componentDidUpdate = function () {\n        var container = this.getContainer();\n        var yAxis = container.querySelector('.y-axis');\n        var xAxis = container.querySelector('.x-axis');\n        if (yAxis && xAxis) {\n            select(xAxis).call(this.xAxisCall(this.bottomScale()));\n            select(yAxis).call(this.yAxisCall(this.leftScale()));\n        }\n    };\n    MonitorWebglAxis.prototype.getScales = function () {\n        var xScale = scaleTime()\n            .domain([this.xMin, this.xMax])\n            .range([0, this.size.width]);\n        var yScale = linear$1()\n            .domain([this.yMin, this.yMax])\n            .range([this.size.height, 0]);\n        return {\n            xScale: xScale,\n            yScale: yScale,\n        };\n    };\n    MonitorWebglAxis.prototype.render = function () {\n        var _c = this.size, width = _c.width, height = _c.height, marginLeft = _c.marginLeft, marginRight = _c.marginRight, marginTop = _c.marginTop, marginBottom = _c.marginBottom;\n        return (h(\"svg\", { class: \"axis\", style: {\n                width: width + marginLeft + marginRight + \"px\",\n                height: height + marginBottom + marginTop + \"px\",\n            } }, h(\"g\", { class: \"axis-box\", transform: \"translate(\" + marginLeft + \", \" + marginTop + \")\" }, h(\"line\", { x1: \"0\", y1: height, x2: width, y2: height }))));\n    };\n    Object.defineProperty(MonitorWebglAxis.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorWebglAxis;\n}());\nMonitorWebglAxis.style = monitorWebglAxisCss;\nvar lodash_isequal = createCommonjsModule(function (module, exports) {\n    /**\n     * Lodash (Custom Build) <https://lodash.com/>\n     * Build: `lodash modularize exports=\"npm\" -o ./`\n     * Copyright JS Foundation and other contributors <https://js.foundation/>\n     * Released under MIT license <https://lodash.com/license>\n     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n     */\n    /** Used as the size to enable large array optimizations. */\n    var LARGE_ARRAY_SIZE = 200;\n    /** Used to stand-in for `undefined` hash values. */\n    var HASH_UNDEFINED = '__lodash_hash_undefined__';\n    /** Used to compose bitmasks for value comparisons. */\n    var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;\n    /** Used as references for various `Number` constants. */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n    /** `Object#toString` result references. */\n    var argsTag = '[object Arguments]', arrayTag = '[object Array]', asyncTag = '[object AsyncFunction]', boolTag = '[object Boolean]', dateTag = '[object Date]', errorTag = '[object Error]', funcTag = '[object Function]', genTag = '[object GeneratorFunction]', mapTag = '[object Map]', numberTag = '[object Number]', nullTag = '[object Null]', objectTag = '[object Object]', promiseTag = '[object Promise]', proxyTag = '[object Proxy]', regexpTag = '[object RegExp]', setTag = '[object Set]', stringTag = '[object String]', symbolTag = '[object Symbol]', undefinedTag = '[object Undefined]', weakMapTag = '[object WeakMap]';\n    var arrayBufferTag = '[object ArrayBuffer]', dataViewTag = '[object DataView]', float32Tag = '[object Float32Array]', float64Tag = '[object Float64Array]', int8Tag = '[object Int8Array]', int16Tag = '[object Int16Array]', int32Tag = '[object Int32Array]', uint8Tag = '[object Uint8Array]', uint8ClampedTag = '[object Uint8ClampedArray]', uint16Tag = '[object Uint16Array]', uint32Tag = '[object Uint32Array]';\n    /**\n     * Used to match `RegExp`\n     * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n     */\n    var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n    /** Used to detect host constructors (Safari). */\n    var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n    /** Used to detect unsigned integer values. */\n    var reIsUint = /^(?:0|[1-9]\\d*)$/;\n    /** Used to identify `toStringTag` values of typed arrays. */\n    var typedArrayTags = {};\n    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n        typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n            typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n                typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n                    typedArrayTags[uint32Tag] = true;\n    typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n        typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n            typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n                typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n                    typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n                        typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n                            typedArrayTags[setTag] = typedArrayTags[stringTag] =\n                                typedArrayTags[weakMapTag] = false;\n    /** Detect free variable `global` from Node.js. */\n    var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n    /** Detect free variable `self`. */\n    var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n    /** Used as a reference to the global object. */\n    var root = freeGlobal || freeSelf || Function('return this')();\n    /** Detect free variable `exports`. */\n    var freeExports = exports && !exports.nodeType && exports;\n    /** Detect free variable `module`. */\n    var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n    /** Detect the popular CommonJS extension `module.exports`. */\n    var moduleExports = freeModule && freeModule.exports === freeExports;\n    /** Detect free variable `process` from Node.js. */\n    var freeProcess = moduleExports && freeGlobal.process;\n    /** Used to access faster Node.js helpers. */\n    var nodeUtil = (function () {\n        try {\n            return freeProcess && freeProcess.binding && freeProcess.binding('util');\n        }\n        catch (e) { }\n    }());\n    /* Node.js helper references. */\n    var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n    /**\n     * A specialized version of `_.filter` for arrays without support for\n     * iteratee shorthands.\n     *\n     * @private\n     * @param {Array} [array] The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n        var index = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];\n        while (++index < length) {\n            var value = array[index];\n            if (predicate(value, index, array)) {\n                result[resIndex++] = value;\n            }\n        }\n        return result;\n    }\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n        var index = -1, length = values.length, offset = array.length;\n        while (++index < length) {\n            array[offset + index] = values[index];\n        }\n        return array;\n    }\n    /**\n     * A specialized version of `_.some` for arrays without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} [array] The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while (++index < length) {\n            if (predicate(array[index], index, array)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * The base implementation of `_.times` without support for iteratee shorthands\n     * or max array length checks.\n     *\n     * @private\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     */\n    function baseTimes(n, iteratee) {\n        var index = -1, result = Array(n);\n        while (++index < n) {\n            result[index] = iteratee(index);\n        }\n        return result;\n    }\n    /**\n     * The base implementation of `_.unary` without support for storing metadata.\n     *\n     * @private\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     */\n    function baseUnary(func) {\n        return function (value) {\n            return func(value);\n        };\n    }\n    /**\n     * Checks if a `cache` value for `key` exists.\n     *\n     * @private\n     * @param {Object} cache The cache to query.\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function cacheHas(cache, key) {\n        return cache.has(key);\n    }\n    /**\n     * Gets the value at `key` of `object`.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function getValue(object, key) {\n        return object == null ? undefined : object[key];\n    }\n    /**\n     * Converts `map` to its key-value pairs.\n     *\n     * @private\n     * @param {Object} map The map to convert.\n     * @returns {Array} Returns the key-value pairs.\n     */\n    function mapToArray(map) {\n        var index = -1, result = Array(map.size);\n        map.forEach(function (value, key) {\n            result[++index] = [key, value];\n        });\n        return result;\n    }\n    /**\n     * Creates a unary function that invokes `func` with its argument transformed.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {Function} transform The argument transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overArg(func, transform) {\n        return function (arg) {\n            return func(transform(arg));\n        };\n    }\n    /**\n     * Converts `set` to an array of its values.\n     *\n     * @private\n     * @param {Object} set The set to convert.\n     * @returns {Array} Returns the values.\n     */\n    function setToArray(set) {\n        var index = -1, result = Array(set.size);\n        set.forEach(function (value) {\n            result[++index] = value;\n        });\n        return result;\n    }\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype, funcProto = Function.prototype, objectProto = Object.prototype;\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = root['__core-js_shared__'];\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function () {\n        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n        return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n        funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n            .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n    /** Built-in value references. */\n    var Buffer = moduleExports ? root.Buffer : undefined, Symbol = root.Symbol, Uint8Array = root.Uint8Array, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice, symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeGetSymbols = Object.getOwnPropertySymbols, nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined, nativeKeys = overArg(Object.keys, Object);\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(root, 'DataView'), Map = getNative(root, 'Map'), Promise = getNative(root, 'Promise'), Set = getNative(root, 'Set'), WeakMap = getNative(root, 'WeakMap'), nativeCreate = getNative(Object, 'create');\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map), promiseCtorString = toSource(Promise), setCtorString = toSource(Set), weakMapCtorString = toSource(WeakMap);\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined, symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n        var index = -1, length = entries == null ? 0 : entries.length;\n        this.clear();\n        while (++index < length) {\n            var entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n        this.__data__ = nativeCreate ? nativeCreate(null) : {};\n        this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n        var result = this.has(key) && delete this.__data__[key];\n        this.size -= result ? 1 : 0;\n        return result;\n    }\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n        var data = this.__data__;\n        if (nativeCreate) {\n            var result = data[key];\n            return result === HASH_UNDEFINED ? undefined : result;\n        }\n        return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n        var data = this.__data__;\n        return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n        var data = this.__data__;\n        this.size += this.has(key) ? 0 : 1;\n        data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n        return this;\n    }\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n        var index = -1, length = entries == null ? 0 : entries.length;\n        this.clear();\n        while (++index < length) {\n            var entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n        this.__data__ = [];\n        this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n        var data = this.__data__, index = assocIndexOf(data, key);\n        if (index < 0) {\n            return false;\n        }\n        var lastIndex = data.length - 1;\n        if (index == lastIndex) {\n            data.pop();\n        }\n        else {\n            splice.call(data, index, 1);\n        }\n        --this.size;\n        return true;\n    }\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n        var data = this.__data__, index = assocIndexOf(data, key);\n        return index < 0 ? undefined : data[index][1];\n    }\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n        return assocIndexOf(this.__data__, key) > -1;\n    }\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n        var data = this.__data__, index = assocIndexOf(data, key);\n        if (index < 0) {\n            ++this.size;\n            data.push([key, value]);\n        }\n        else {\n            data[index][1] = value;\n        }\n        return this;\n    }\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n        var index = -1, length = entries == null ? 0 : entries.length;\n        this.clear();\n        while (++index < length) {\n            var entry = entries[index];\n            this.set(entry[0], entry[1]);\n        }\n    }\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n        this.size = 0;\n        this.__data__ = {\n            'hash': new Hash,\n            'map': new (Map || ListCache),\n            'string': new Hash\n        };\n    }\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n        var result = getMapData(this, key)['delete'](key);\n        this.size -= result ? 1 : 0;\n        return result;\n    }\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n        return getMapData(this, key).get(key);\n    }\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n        return getMapData(this, key).has(key);\n    }\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n        var data = getMapData(this, key), size = data.size;\n        data.set(key, value);\n        this.size += data.size == size ? 0 : 1;\n        return this;\n    }\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n        var index = -1, length = values == null ? 0 : values.length;\n        this.__data__ = new MapCache;\n        while (++index < length) {\n            this.add(values[index]);\n        }\n    }\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n        this.__data__.set(value, HASH_UNDEFINED);\n        return this;\n    }\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n        return this.__data__.has(value);\n    }\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n        var data = this.__data__ = new ListCache(entries);\n        this.size = data.size;\n    }\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n        this.__data__ = new ListCache;\n        this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n        var data = this.__data__, result = data['delete'](key);\n        this.size = data.size;\n        return result;\n    }\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n        return this.__data__.get(key);\n    }\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n        return this.__data__.has(key);\n    }\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n        var data = this.__data__;\n        if (data instanceof ListCache) {\n            var pairs = data.__data__;\n            if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n                pairs.push([key, value]);\n                this.size = ++data.size;\n                return this;\n            }\n            data = this.__data__ = new MapCache(pairs);\n        }\n        data.set(key, value);\n        this.size = data.size;\n        return this;\n    }\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n        var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n        for (var key in value) {\n            if ((inherited || hasOwnProperty.call(value, key)) &&\n                !(skipIndexes && (\n                // Safari 9 has enumerable `arguments.length` in strict mode.\n                key == 'length' ||\n                    // Node.js 0.10 has enumerable non-index properties on buffers.\n                    (isBuff && (key == 'offset' || key == 'parent')) ||\n                    // PhantomJS 2 has enumerable non-index properties on typed arrays.\n                    (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n                    // Skip index properties.\n                    isIndex(key, length)))) {\n                result.push(key);\n            }\n        }\n        return result;\n    }\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n        var length = array.length;\n        while (length--) {\n            if (eq(array[length][0], key)) {\n                return length;\n            }\n        }\n        return -1;\n    }\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n        var result = keysFunc(object);\n        return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n        if (value == null) {\n            return value === undefined ? undefinedTag : nullTag;\n        }\n        return (symToStringTag && symToStringTag in Object(value))\n            ? getRawTag(value)\n            : objectToString(value);\n    }\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n        return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n        if (value === other) {\n            return true;\n        }\n        if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n            return value !== value && other !== other;\n        }\n        return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n        var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);\n        objTag = objTag == argsTag ? objectTag : objTag;\n        othTag = othTag == argsTag ? objectTag : othTag;\n        var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;\n        if (isSameTag && isBuffer(object)) {\n            if (!isBuffer(other)) {\n                return false;\n            }\n            objIsArr = true;\n            objIsObj = false;\n        }\n        if (isSameTag && !objIsObj) {\n            stack || (stack = new Stack);\n            return (objIsArr || isTypedArray(object))\n                ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n                : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n        }\n        if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n            var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'), othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n            if (objIsWrapped || othIsWrapped) {\n                var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;\n                stack || (stack = new Stack);\n                return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n            }\n        }\n        if (!isSameTag) {\n            return false;\n        }\n        stack || (stack = new Stack);\n        return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n        if (!isObject(value) || isMasked(value)) {\n            return false;\n        }\n        var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n        return pattern.test(toSource(value));\n    }\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n        return isObjectLike(value) &&\n            isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n        if (!isPrototype(object)) {\n            return nativeKeys(object);\n        }\n        var result = [];\n        for (var key in Object(object)) {\n            if (hasOwnProperty.call(object, key) && key != 'constructor') {\n                result.push(key);\n            }\n        }\n        return result;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;\n        if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n            return false;\n        }\n        // Assume cyclic values are equal.\n        var stacked = stack.get(array);\n        if (stacked && stack.get(other)) {\n            return stacked == other;\n        }\n        var index = -1, result = true, seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n        stack.set(array, other);\n        stack.set(other, array);\n        // Ignore non-index properties.\n        while (++index < arrLength) {\n            var arrValue = array[index], othValue = other[index];\n            if (customizer) {\n                var compared = isPartial\n                    ? customizer(othValue, arrValue, index, other, array, stack)\n                    : customizer(arrValue, othValue, index, array, other, stack);\n            }\n            if (compared !== undefined) {\n                if (compared) {\n                    continue;\n                }\n                result = false;\n                break;\n            }\n            // Recursively compare arrays (susceptible to call stack limits).\n            if (seen) {\n                if (!arraySome(other, function (othValue, othIndex) {\n                    if (!cacheHas(seen, othIndex) &&\n                        (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                        return seen.push(othIndex);\n                    }\n                })) {\n                    result = false;\n                    break;\n                }\n            }\n            else if (!(arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                result = false;\n                break;\n            }\n        }\n        stack['delete'](array);\n        stack['delete'](other);\n        return result;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n        switch (tag) {\n            case dataViewTag:\n                if ((object.byteLength != other.byteLength) ||\n                    (object.byteOffset != other.byteOffset)) {\n                    return false;\n                }\n                object = object.buffer;\n                other = other.buffer;\n            case arrayBufferTag:\n                if ((object.byteLength != other.byteLength) ||\n                    !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n                    return false;\n                }\n                return true;\n            case boolTag:\n            case dateTag:\n            case numberTag:\n                // Coerce booleans to `1` or `0` and dates to milliseconds.\n                // Invalid dates are coerced to `NaN`.\n                return eq(+object, +other);\n            case errorTag:\n                return object.name == other.name && object.message == other.message;\n            case regexpTag:\n            case stringTag:\n                // Coerce regexes to strings and treat strings, primitives and objects,\n                // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n                // for more details.\n                return object == (other + '');\n            case mapTag:\n                var convert = mapToArray;\n            case setTag:\n                var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n                convert || (convert = setToArray);\n                if (object.size != other.size && !isPartial) {\n                    return false;\n                }\n                // Assume cyclic values are equal.\n                var stacked = stack.get(object);\n                if (stacked) {\n                    return stacked == other;\n                }\n                bitmask |= COMPARE_UNORDERED_FLAG;\n                // Recursively compare objects (susceptible to call stack limits).\n                stack.set(object, other);\n                var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n                stack['delete'](object);\n                return result;\n            case symbolTag:\n                if (symbolValueOf) {\n                    return symbolValueOf.call(object) == symbolValueOf.call(other);\n                }\n        }\n        return false;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;\n        if (objLength != othLength && !isPartial) {\n            return false;\n        }\n        var index = objLength;\n        while (index--) {\n            var key = objProps[index];\n            if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n                return false;\n            }\n        }\n        // Assume cyclic values are equal.\n        var stacked = stack.get(object);\n        if (stacked && stack.get(other)) {\n            return stacked == other;\n        }\n        var result = true;\n        stack.set(object, other);\n        stack.set(other, object);\n        var skipCtor = isPartial;\n        while (++index < objLength) {\n            key = objProps[index];\n            var objValue = object[key], othValue = other[key];\n            if (customizer) {\n                var compared = isPartial\n                    ? customizer(othValue, objValue, key, other, object, stack)\n                    : customizer(objValue, othValue, key, object, other, stack);\n            }\n            // Recursively compare objects (susceptible to call stack limits).\n            if (!(compared === undefined\n                ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n                : compared)) {\n                result = false;\n                break;\n            }\n            skipCtor || (skipCtor = key == 'constructor');\n        }\n        if (result && !skipCtor) {\n            var objCtor = object.constructor, othCtor = other.constructor;\n            // Non `Object` object instances with different constructors are not equal.\n            if (objCtor != othCtor &&\n                ('constructor' in object && 'constructor' in other) &&\n                !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n                    typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n                result = false;\n            }\n        }\n        stack['delete'](object);\n        stack['delete'](other);\n        return result;\n    }\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n        return baseGetAllKeys(object, keys, getSymbols);\n    }\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n        var data = map.__data__;\n        return isKeyable(key)\n            ? data[typeof key == 'string' ? 'string' : 'hash']\n            : data.map;\n    }\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n        var value = getValue(object, key);\n        return baseIsNative(value) ? value : undefined;\n    }\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n        var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n        try {\n            value[symToStringTag] = undefined;\n            var unmasked = true;\n        }\n        catch (e) { }\n        var result = nativeObjectToString.call(value);\n        if (unmasked) {\n            if (isOwn) {\n                value[symToStringTag] = tag;\n            }\n            else {\n                delete value[symToStringTag];\n            }\n        }\n        return result;\n    }\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n        if (object == null) {\n            return [];\n        }\n        object = Object(object);\n        return arrayFilter(nativeGetSymbols(object), function (symbol) {\n            return propertyIsEnumerable.call(object, symbol);\n        });\n    };\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n        getTag = function (value) {\n            var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : undefined, ctorString = Ctor ? toSource(Ctor) : '';\n            if (ctorString) {\n                switch (ctorString) {\n                    case dataViewCtorString: return dataViewTag;\n                    case mapCtorString: return mapTag;\n                    case promiseCtorString: return promiseTag;\n                    case setCtorString: return setTag;\n                    case weakMapCtorString: return weakMapTag;\n                }\n            }\n            return result;\n        };\n    }\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n        length = length == null ? MAX_SAFE_INTEGER : length;\n        return !!length &&\n            (typeof value == 'number' || reIsUint.test(value)) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n        var type = typeof value;\n        return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n            ? (value !== '__proto__')\n            : (value === null);\n    }\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n        return !!maskSrcKey && (maskSrcKey in func);\n    }\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n        var Ctor = value && value.constructor, proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n        return value === proto;\n    }\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n        return nativeObjectToString.call(value);\n    }\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n        if (func != null) {\n            try {\n                return funcToString.call(func);\n            }\n            catch (e) { }\n            try {\n                return (func + '');\n            }\n            catch (e) { }\n        }\n        return '';\n    }\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n        return value === other || (value !== value && other !== other);\n    }\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function () { return arguments; }()) ? baseIsArguments : function (value) {\n        return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n            !propertyIsEnumerable.call(value, 'callee');\n    };\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n        return value != null && isLength(value.length) && !isFunction(value);\n    }\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n        return baseIsEqual(value, other);\n    }\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n        if (!isObject(value)) {\n            return false;\n        }\n        // The use of `Object#toString` avoids issues with the `typeof` operator\n        // in Safari 9 which returns 'object' for typed arrays and other constructors.\n        var tag = baseGetTag(value);\n        return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n        return typeof value == 'number' &&\n            value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n        var type = typeof value;\n        return value != null && (type == 'object' || type == 'function');\n    }\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n        return value != null && typeof value == 'object';\n    }\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n        return [];\n    }\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n        return false;\n    }\n    module.exports = isEqual;\n});\nvar LOADING_SPINNER_SIZE_PX = 60;\nvar LoadingStatus = function (_c) {\n    var isLoading = _c.isLoading;\n    return (h(\"div\", { style: {\n            zIndex: '11',\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: isLoading ? 'flex' : 'none',\n            justifyContent: 'center',\n            alignItems: 'center',\n            pointerEvents: 'none',\n        } }, isLoading && h(\"bp-loading-spinner\", { size: LOADING_SPINNER_SIZE_PX })));\n};\nvar ErrorStatus = function (_c) {\n    var hasError = _c.hasError, marginRight = _c.size.marginRight, legend = _c.legend;\n    var isRightLegend = legend && legend.position === LEGEND_POSITION.RIGHT;\n    return hasError ? (h(\"div\", { style: { position: 'absolute', width: '100%' } }, h(\"div\", { class: \"awsui-util-mt-s\", style: {\n            paddingRight: isRightLegend && legend ? marginRight + legend.width + \"px\" : marginRight + \"px\",\n            position: 'relative',\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'row-reverse',\n        } }, h(\"bp-error-badge\", null, \"Stopped\")))) : (h(\"div\", { \"data-test-tag\": \"error-badge-place-holder\", style: { display: 'none' } }));\n};\nvar chartLegendContainerClassName = 'chart-legend-container';\nvar ChartLegendContainer = function (_c, children) {\n    var legendHeight = _c.legendHeight, config = _c.config, _d = _c.size, height = _d.height, marginRight = _d.marginRight, marginLeft = _d.marginLeft, marginBottom = _d.marginBottom, marginTop = _d.marginTop, width = _d.width;\n    var sharedStyles = {\n        position: 'relative',\n        overflowY: 'scroll',\n        msOverflowStyle: 'none',\n    };\n    return config.position === LEGEND_POSITION.BOTTOM ? (h(\"div\", { class: chartLegendContainerClassName, style: Object.assign(Object.assign({}, sharedStyles), { top: height + marginTop + marginBottom + \"px\", marginLeft: marginLeft + \"px\", marginRight: marginRight + \"px\", height: legendHeight + \"px\", width: width + \"px\" }) }, children)) : (h(\"div\", { class: chartLegendContainerClassName, style: Object.assign(Object.assign({}, sharedStyles), { top: marginTop + \"px\", marginLeft: marginLeft + width + marginRight + \"px\", width: config.width + \"px\", marginRight: '0', height: height + marginBottom + \"px\" }) }, children));\n};\n/* Data Container is the tracking element used to draw our visualizations for this chart onto */\nvar DataContainer = function (_c, children) {\n    var _d = _c.size, width = _d.width, height = _d.height, marginLeft = _d.marginLeft, marginTop = _d.marginTop;\n    return (h(\"div\", { style: {\n            width: width + \"px\",\n            height: height + \"px\",\n            marginLeft: marginLeft + \"px\",\n            marginTop: marginTop + \"px\",\n        }, class: \"data-container\" }, children));\n};\nvar FONT_SIZE = 10;\nvar withinViewport = function (viewPort) {\n    return function (_c) {\n        var value = _c.value;\n        if (typeof value === 'number') {\n            return viewPort.yMin <= value && viewPort.yMax >= value;\n        }\n        return viewPort.start <= value && viewPort.end >= value;\n    };\n};\nvar renderAnnotations = function (_c) {\n    var container = _c.container, resolution = _c.resolution, annotations = _c.annotations, viewPort = _c.viewPort, _d = _c.size, width = _d.width, height = _d.height;\n    var start = viewPort.start, end = viewPort.end, yMin = viewPort.yMin, yMax = viewPort.yMax;\n    // get annotations which have a value that lays within the viewport.\n    var xAnnotations = annotations.x == null ? [] : annotations.x.filter(withinViewport(viewPort));\n    var yAnnotations = annotations.y == null ? [] : annotations.y.filter(withinViewport(viewPort));\n    var valueDisplayText = function (value) {\n        if (typeof value === 'number') {\n            return value.toString();\n        }\n        return displayDate(value, resolution, viewPort);\n    };\n    /**\n     * Getters\n     */\n    var getX = function (annotation) { return Math.floor((width / (end.getTime() - start.getTime())) * (annotation.value.getTime() - start.getTime())); };\n    var getY = function (annotation) { return height - ((annotation.value - yMin) * height) / (yMax - yMin); };\n    var getColor = function (annotation) { return annotation.color; };\n    var getValueAndText = function (annotation) {\n        var valueText = annotation.showValue ? valueDisplayText(annotation.value) : null;\n        var labelText = annotation.label && annotation.label.show ? annotation.label.text : null;\n        if (labelText && valueText) {\n            return labelText + \" (\" + valueText + \")\";\n        }\n        if (!valueText && labelText) {\n            return labelText;\n        }\n        if (!labelText && valueText) {\n            return \"(\" + valueText + \")\";\n        }\n        return '';\n    };\n    var getText = function (annotation) {\n        var labelText = annotation.label && annotation.label.show ? annotation.label.text : null;\n        if (labelText) {\n            return \"\" + labelText;\n        }\n        return '';\n    };\n    var getValueText = function (annotation) {\n        var valueText = annotation.showValue ? valueDisplayText(annotation.value) : null;\n        if (valueText) {\n            return \"\" + valueText;\n        }\n        return '';\n    };\n    /**\n     * X Annotations Text\n     */\n    var xTextSelection = select(container)\n        .selectAll('text.x')\n        // x annotations with text to display\n        .data(xAnnotations.filter(function (annotation) { return getValueAndText(annotation) !== ''; }));\n    var getXAnnotationTextX = function (a) { return -getX(a); };\n    var padding = 5;\n    /** Create */\n    xTextSelection\n        .enter()\n        .append('text')\n        .text(getValueAndText)\n        .attr('font-size', FONT_SIZE)\n        .attr('class', 'x')\n        .attr('y', getXAnnotationTextX)\n        .attr('x', 0)\n        .style('pointer-events', 'none')\n        .style('user-select', 'none')\n        .style('transform', \"rotate(90deg) translateY(\" + -padding + \"px)\")\n        .style('fill', getColor);\n    xTextSelection\n        .text(getValueAndText)\n        .attr('y', getXAnnotationTextX)\n        .style('fill', getColor);\n    xTextSelection.exit().remove();\n    /**\n     * Y Annotations Text\n     */\n    var getYAnnotationTextY = function (a) { return getY(a) - padding; };\n    var yTextSelection = select(container)\n        .selectAll('text.y')\n        // x annotations with text to display\n        .data(yAnnotations.filter(function (annotation) { return getText(annotation) !== ''; }));\n    /** Create */\n    yTextSelection\n        .enter()\n        .append('text')\n        .attr('font-size', FONT_SIZE)\n        .attr('class', 'y')\n        .attr('x', width - padding)\n        .attr('text-anchor', 'end')\n        .attr('y', getYAnnotationTextY)\n        .text(getText)\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Update */\n    yTextSelection\n        .attr('y', getYAnnotationTextY)\n        .text(getText)\n        .style('fill', getColor);\n    yTextSelection.exit().remove();\n    /**\n     * Y Annotations Value Text\n     */\n    var yAnnotationValueTextPadding = 3;\n    var yAnnotationValueTextLeftPadding = 8;\n    var getYAnnotationValueTextY = function (a) { return getY(a) + yAnnotationValueTextPadding; };\n    var yValueTextSelection = select(container)\n        .selectAll('text.yValueText')\n        // x annotations with text to display\n        .data(yAnnotations.filter(function (annotation) { return getValueText(annotation) !== ''; }));\n    /** Create */\n    yValueTextSelection\n        .enter()\n        .append('text')\n        .attr('font-size', FONT_SIZE)\n        .attr('class', 'yValueText')\n        .attr('x', width + yAnnotationValueTextLeftPadding)\n        .attr('text-anchor', 'start')\n        .attr('y', getYAnnotationValueTextY)\n        .text(getValueText)\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Update */\n    yValueTextSelection\n        .attr('y', getYAnnotationValueTextY)\n        .attr('x', width + yAnnotationValueTextLeftPadding)\n        .text(getValueText)\n        .style('fill', getColor);\n    yValueTextSelection.exit().remove();\n    /**\n     * X Annotations Lines\n     */\n    var xSelection = select(container)\n        .selectAll('line.x')\n        .data(xAnnotations);\n    /** Create */\n    xSelection\n        .enter()\n        .append('line')\n        .attr('class', 'x')\n        .attr('font-size', FONT_SIZE)\n        .attr('x1', getX)\n        .attr('x2', getX)\n        .attr('y1', 0)\n        .attr('y2', height)\n        .style('stroke', getColor);\n    /** Update */\n    xSelection\n        .attr('x1', getX)\n        .attr('x2', getX)\n        .attr('y2', height)\n        .attr('stroke', getColor);\n    /** Delete */\n    xSelection.exit().remove();\n    /**\n     * Y Annotations Lines\n     */\n    var ySelection = select(container)\n        .selectAll('line.y')\n        .data(yAnnotations);\n    /** Create */\n    ySelection\n        .enter()\n        .append('line')\n        .attr('class', 'y')\n        .attr('x1', 0)\n        .attr('x2', width)\n        .attr('y1', getY)\n        .attr('y2', getY)\n        .style('stroke', getColor);\n    /** Update */\n    ySelection\n        .attr('x2', width)\n        .attr('y1', getY)\n        .attr('y2', getY)\n        .style('stroke', getColor);\n    /** Delete */\n    ySelection.exit().remove();\n};\nvar monitorWebglBaseChartCss = \".monitor-webgl-base-chart{height:0}monitor-webgl-base-chart .data-container{position:absolute}monitor-webgl-base-chart .selection{fill:rgba(41, 168, 221, var(--selection-opacity));stroke-width:var(--selection-width);stroke:var(--selection-color);stroke-opacity:var(--selection-opacity);z-index:11}.chart-legend-container{-ms-overflow-style:none;scrollbar-width:none}.chart-legend-container::-webkit-scrollbar{display:none}.threshold-container{z-index:5;position:absolute;pointer-events:none;font-size:12px}\";\nvar MIN_WIDTH = 50;\nvar MIN_HEIGHT = 50;\nvar LEGEND_HEIGHT = 100;\nvar MonitorWebglBaseChart = /** @class */ (function () {\n    function MonitorWebglBaseChart(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.isEditing = false;\n        this.isLoading = false;\n        this.isFetching = false;\n        this.annotations = {};\n        // Utilized to trigger a re-render once the data container is present to allow the\n        // tooltip component to be properly rendered.\n        this.isMounted = false;\n        /**\n         * Active View Port Config\n         */\n        this.yMin = this.viewPort.yMin;\n        this.yMax = this.viewPort.yMax;\n        this.start = this.viewPort.start;\n        this.end = this.viewPort.end;\n        /**\n         * On Widget Updated - Persist `DataStreamInfo`\n         *\n         * Emits an event which persists the current `NameValue[]` state into the\n         * data stream info.\n         */\n        this.updateDataStreamName = function (_c) {\n            var streamId = _c.streamId, name = _c.name;\n            // Construct the config update with the new names specified.\n            var configUpdate = {\n                id: _this_1.configId,\n                dataStreamInfo: _this_1.dataStreamInfo.map(function (info) {\n                    return Object.assign(Object.assign({}, info), { name: info.id === streamId ? name : info.name });\n                }),\n            };\n            _this_1.widgetUpdated.emit(configUpdate);\n        };\n        this.onDateRangeChange = throttle$1(function (dateRange) {\n            _this_1.dateRangeChange.emit(dateRange);\n        }, 10, {\n            leading: true,\n            trailing: true,\n        });\n        this.getChartSizeConfig = function () {\n            var size = _this_1.getSize();\n            var marginTop = size.marginTop, marginBottom = size.marginBottom, marginLeft = size.marginLeft, marginRight = size.marginRight, height = size.height, width = size.width;\n            var chartHeight = height - marginBottom - marginTop;\n            var isRightLegend = _this_1.legend && _this_1.legend.position === LEGEND_POSITION.RIGHT;\n            var isBottomLegend = _this_1.legend && _this_1.legend.position === LEGEND_POSITION.BOTTOM;\n            return Object.assign(Object.assign({}, size), { width: Math.max(width - marginLeft - marginRight - (isRightLegend ? _this_1.legend.width : 0), MIN_WIDTH), height: chartHeight - (isBottomLegend ? LEGEND_HEIGHT : 0) });\n        };\n        /**\n         * Get Active View Port\n         *\n         * Returns a view port with the current y range applied.\n         * This can differ from the view port passed in, as\n         * translations to the y range are only applied locally\n         * as opposed to being applied via config changes from above.\n         */\n        this.activeViewPort = function () { return ({\n            start: _this_1.start,\n            end: _this_1.end,\n            yMin: _this_1.yMin,\n            yMax: _this_1.yMax,\n        }); };\n        this.handleCameraEvent = function (_c) {\n            var start = _c.start, end = _c.end;\n            // Update Camera\n            webGLRenderer.syncCameras(start, end);\n            // Update Active Viewport\n            _this_1.start = start;\n            _this_1.end = end;\n            // Emit date range change to allow other non-webgl based components to sync the new date range\n            _this_1.onDateRangeChange([_this_1.start, _this_1.end, _this_1.scene.id]);\n        };\n        this.getDataContainer = function () {\n            if (_this_1.dataContainer == null) {\n                _this_1.dataContainer = _this_1.el.querySelector('.data-container');\n            }\n            return _this_1.dataContainer;\n        };\n        this.getThresholdContainer = function () {\n            if (_this_1.thresholdContainer == null) {\n                _this_1.thresholdContainer = _this_1.el.querySelector('.threshold-container');\n            }\n            return _this_1.thresholdContainer;\n        };\n        this.getThresholds = function () { return _this_1.annotations && _this_1.annotations.y ? _this_1.annotations.y.filter(isThreshold) : []; };\n        /**\n         * Lifecycle method\n         */\n        this.onUpdate = function (_c) {\n            var start = _c.start, end = _c.end;\n            if (_this_1.onUpdateLifeCycle) {\n                _this_1.onUpdateLifeCycle(Object.assign(Object.assign({}, _this_1.activeViewPort()), { start: start,\n                    end: end }));\n            }\n            // Place built in feature update loops here. Only features which are applicable to all\n            renderAnnotations({\n                container: _this_1.getThresholdContainer(),\n                annotations: _this_1.annotations,\n                viewPort: Object.assign(Object.assign({}, _this_1.activeViewPort()), { start: start,\n                    end: end }),\n                size: _this_1.getChartSizeConfig(),\n                resolution: _this_1.data[0] ? _this_1.data[0].resolution : 0,\n            });\n        };\n        /**\n         * Registers the chart rectangle, which tells webGL where to render the data-vizualization to.\n         * This must be called each time after a scene is set.\n         *\n         */\n        this.setChartRect = function () {\n            var chartSize = _this_1.getChartSizeConfig();\n            var chartRect = {\n                width: chartSize.width,\n                height: chartSize.height,\n                x: _this_1.size.x + chartSize.marginLeft,\n                y: _this_1.size.y + chartSize.marginTop,\n                left: _this_1.size.left + chartSize.marginLeft,\n                top: _this_1.size.top + chartSize.marginTop,\n                right: _this_1.size.left + chartSize.marginLeft + chartSize.width,\n                bottom: _this_1.size.top + chartSize.marginTop + chartSize.height,\n            };\n            webGLRenderer.setChartRect(_this_1.scene.id, chartRect);\n        };\n        this.getSize = function () {\n            var marginLeft = _this_1.size.marginLeft == null ? DEFAULT_CHART_CONFIG.size.marginLeft : _this_1.size.marginLeft;\n            var marginRight = _this_1.size.marginRight == null ? DEFAULT_CHART_CONFIG.size.marginRight : _this_1.size.marginRight;\n            var marginTop = _this_1.size.marginTop == null ? DEFAULT_CHART_CONFIG.size.marginTop : _this_1.size.marginTop;\n            var marginBottom = _this_1.size.marginBottom == null ? DEFAULT_CHART_CONFIG.size.marginBottom : _this_1.size.marginBottom;\n            var minWidth = marginLeft + marginRight + MIN_WIDTH;\n            var minHeight = marginTop + marginBottom + MIN_HEIGHT;\n            return {\n                marginLeft: marginLeft,\n                marginRight: marginRight,\n                marginTop: marginTop,\n                marginBottom: marginBottom,\n                width: Math.max(_this_1.size.width, minWidth),\n                height: Math.max(_this_1.size.height, minHeight),\n            };\n        };\n        this.widgetUpdated = createEvent(this, \"widgetUpdated\", 7);\n        this.dateRangeChange = createEvent(this, \"dateRangeChange\", 7);\n    }\n    MonitorWebglBaseChart.prototype.componentDidLoad = function () {\n        this.setupChartScene();\n        this.isMounted = true;\n        this.onUpdate(this.activeViewPort());\n    };\n    /**\n     * Active Data Streams\n     *\n     * Returns data streams which have associated data stream infos.\n     */\n    MonitorWebglBaseChart.prototype.activeDataStreams = function () {\n        var _this_1 = this;\n        return this.data.filter(function (_c) {\n            var id = _c.id;\n            return _this_1.dataStreamInfo.some(function (_c) {\n                var infoId = _c.id;\n                return infoId === id;\n            });\n        });\n    };\n    MonitorWebglBaseChart.prototype.onViewPortChange = function (newViewPort, oldViewPort) {\n        if (!lodash_isequal(newViewPort, oldViewPort)) {\n            var hasYRangeChanged = newViewPort.yMin !== oldViewPort.yMin || newViewPort.yMax !== oldViewPort.yMax;\n            var isChangedBySelf = newViewPort.lastUpdatedBy === this.scene.id;\n            if (hasYRangeChanged) {\n                this.yMin = newViewPort.yMin;\n                this.yMax = newViewPort.yMax;\n                this.scene.camera.top = newViewPort.yMax;\n                this.scene.camera.bottom = newViewPort.yMin;\n                this.scene.camera.updateProjectionMatrix();\n            }\n            if (!isChangedBySelf) {\n                this.start = newViewPort.start;\n                this.end = newViewPort.end;\n                // lastUpdatedBy will be undefined when updated by something that isn't connected to webgl.\n                if (newViewPort.lastUpdatedBy == null) {\n                    this.scene.updateViewPort(newViewPort.start, newViewPort.end);\n                }\n            }\n            this.updateAndRegisterChartScene(false, false);\n        }\n    };\n    MonitorWebglBaseChart.prototype.onSizeChange = function (newProp, oldProp) {\n        if (!lodash_isequal(newProp, oldProp)) {\n            this.updateAndRegisterChartScene(false, true);\n        }\n    };\n    MonitorWebglBaseChart.prototype.onDataStreamInfosChange = function (newProp, oldProp) {\n        if (!lodash_isequal(newProp, oldProp)) {\n            this.updateAndRegisterChartScene(true, false);\n        }\n    };\n    MonitorWebglBaseChart.prototype.onDataChange = function () {\n        // Avoiding a deep equality check due to the cost on a potentially large object.\n        this.updateAndRegisterChartScene(true, false);\n    };\n    MonitorWebglBaseChart.prototype.onAnnotationsChange = function () {\n        this.updateAndRegisterChartScene(true, false);\n    };\n    MonitorWebglBaseChart.prototype.componentDidUnload = function () {\n        if (this.scene) {\n            // necessary to make sure that the allocated memory is released, and nothing is incorrectly rendered.\n            webGLRenderer.removeChartScene(this.scene.id);\n        }\n    };\n    MonitorWebglBaseChart.prototype.setupChartScene = function () {\n        this.scene = this.createChartScene({\n            viewPort: this.activeViewPort(),\n            chartSize: this.getChartSizeConfig(),\n            dataStreams: this.activeDataStreams(),\n            dataStreamInfo: this.dataStreamInfo,\n            container: this.getDataContainer(),\n            minBufferSize: this.minBufferSize,\n            bufferFactor: this.bufferFactor,\n            thresholds: this.getThresholds(),\n            onUpdate: this.onUpdate,\n        });\n        webGLRenderer.addChartScene(this.scene);\n        this.setChartRect();\n        webGLRenderer.render(this.scene);\n    };\n    /**\n     * Update and register chart scene\n     *\n     * handles the updating of the chart scene, and handles registering the new\n     * chart scene if a new chart scene is returned.\n     *\n     * A new chart scene will be returned if the new data passed in has\n     * more data points that the previous chart scene had room allocated for.\n     */\n    MonitorWebglBaseChart.prototype.updateAndRegisterChartScene = function (hasDataChanged, hasSizeChanged) {\n        var _this_1 = this;\n        this.setChartRect();\n        var container = this.getDataContainer();\n        var updatedScene = this.updateChartScene({\n            scene: this.scene,\n            chartSize: this.getChartSizeConfig(),\n            dataStreams: this.activeDataStreams(),\n            dataStreamInfo: this.dataStreamInfo,\n            container: container,\n            viewPort: this.activeViewPort(),\n            hasDataChanged: hasDataChanged,\n            minBufferSize: this.minBufferSize,\n            bufferFactor: this.bufferFactor,\n            thresholds: this.getThresholds(),\n            onUpdate: this.onUpdate,\n        });\n        var isNewChartScene = updatedScene.id !== this.scene.id;\n        if (isNewChartScene) {\n            // Must unregister the previous chart scene and register the new one with webgl\n            webGLRenderer.removeChartScene(this.scene.id);\n            webGLRenderer.addChartScene(updatedScene);\n            this.scene = updatedScene;\n            this.setChartRect();\n        }\n        // NOTE: This update hook must be called every time data, viewport or size has changed.\n        this.onUpdate(this.activeViewPort());\n        /**\n         * Render to canvas\n         */\n        webGLRenderer.render(this.scene);\n        if (hasSizeChanged) {\n            // if the size has changed, then we need to wait till the next 'frame'\n            // until the DOM has updated to it's new position.\n            window.setTimeout(function () {\n                webGLRenderer.render(_this_1.scene);\n            }, 0);\n        }\n    };\n    MonitorWebglBaseChart.prototype.render = function () {\n        var chartSizeConfig = this.getChartSizeConfig();\n        var marginLeft = chartSizeConfig.marginLeft, marginTop = chartSizeConfig.marginTop, marginRight = chartSizeConfig.marginRight, marginBottom = chartSizeConfig.marginBottom;\n        var hasError = Object.keys(this.errorMap).length > 0;\n        // NOTE: We don't want to show the spinner everytime data is loading\n        var isLoadingWithNoDataPresent = this.isLoading && this.data.every(function (_c) {\n            var data = _c.data;\n            return data.length === 0;\n        });\n        var thresholds = this.getThresholds();\n        return [\n            h(\"div\", { class: \"awsui monitor-webgl-base-chart\" }, h(ErrorStatus, { hasError: hasError, size: chartSizeConfig, legend: this.legend }), h(\"monitor-webgl-axis\", { size: chartSizeConfig, xMin: this.start.getTime(), xMax: this.end.getTime(), yMax: this.yMax, yMin: this.yMin }), h(DataContainer, { size: chartSizeConfig }, h(LoadingStatus, { isLoading: isLoadingWithNoDataPresent }), h(\"monitor-gesture-handler\", { onDateRangeChange: this.handleCameraEvent, size: chartSizeConfig, viewPort: this.activeViewPort() })), this.legend && (h(ChartLegendContainer, { config: this.legend, legendHeight: LEGEND_HEIGHT, size: chartSizeConfig }, h(\"monitor-webgl-chart-legend\", { dataStreams: this.data, dataStreamInfo: this.dataStreamInfo, updateDataStreamName: this.updateDataStreamName, viewPort: this.activeViewPort(), isEditing: this.isEditing, isLoading: isLoadingWithNoDataPresent, thresholds: thresholds })))),\n            this.isMounted && (h(\"monitor-webgl-chart-tooltip\", { size: this.getChartSizeConfig(), style: { marginLeft: marginLeft + \"px\", marginTop: marginTop + \"px\" }, dataStreamInfos: this.dataStreamInfo, dataStreams: this.data, viewPort: this.activeViewPort(), dataContainer: this.getDataContainer(), thresholds: thresholds })),\n            h(\"svg\", { class: \"threshold-container\", width: chartSizeConfig.width + marginRight, height: chartSizeConfig.height + marginBottom, style: { marginLeft: marginLeft + \"px\", marginTop: marginTop + \"px\" } }),\n        ];\n    };\n    Object.defineProperty(MonitorWebglBaseChart.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MonitorWebglBaseChart, \"watchers\", {\n        get: function () {\n            return {\n                \"viewPort\": [\"onViewPortChange\"],\n                \"size\": [\"onSizeChange\"],\n                \"legend\": [\"onSizeChange\"],\n                \"dataStreamInfo\": [\"onDataStreamInfosChange\"],\n                \"data\": [\"onDataChange\"],\n                \"annotations\": [\"onAnnotationsChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorWebglBaseChart;\n}());\nMonitorWebglBaseChart.style = monitorWebglBaseChartCss;\nvar monitorWebglChartLegendCss = \".monitor-webgl-chart-legend-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:scroll;-ms-overflow-style:none;scrollbar-width:none}.monitor-webgl-chart-legend-container::-webkit-scrollbar{display:none}.monitor-webgl-chart-legend-container>bp-data-stream-info{padding-right:var(--margin-medium)}\";\nvar MonitorWebglChartLegend = /** @class */ (function () {\n    function MonitorWebglChartLegend(hostRef) {\n        registerInstance(this, hostRef);\n        this.isEditing = false;\n    }\n    MonitorWebglChartLegend.prototype.render = function () {\n        var _this_1 = this;\n        var points = activePoints({\n            viewPort: this.viewPort,\n            dataStreams: this.dataStreams,\n            selectedDate: this.viewPort.end,\n            allowMultipleDates: true,\n        });\n        return (h(\"div\", { class: \"monitor-webgl-chart-legend-container\" }, this.dataStreamInfo.map(function (info) {\n            var activePoint = points.find(function (p) { return p.streamId === info.id; });\n            return (h(\"monitor-data-stream-info\", { dataStreamInfo: info, updateDataStreamName: _this_1.updateDataStreamName, activePoint: activePoint, isEditing: _this_1.isEditing, isLoading: _this_1.isLoading, thresholds: _this_1.thresholds }));\n        })));\n    };\n    return MonitorWebglChartLegend;\n}());\nMonitorWebglChartLegend.style = monitorWebglChartLegendCss;\nvar getAggregationFrequency = function (dataResolution, aggregatedLevel) {\n    if (dataResolution === 0) {\n        return 'raw data';\n    }\n    var _c = convertMS(dataResolution), day = _c.day, hour = _c.hour, minute = _c.minute, seconds = _c.seconds;\n    var getPlural = function (input) { return (input > 1 ? 's' : ''); };\n    if (day !== 0) {\n        return day + \" day\" + getPlural(day) + \" \" + aggregatedLevel;\n    }\n    if (hour !== 0) {\n        return hour + \" hour\" + getPlural(hour) + \" \" + aggregatedLevel;\n    }\n    if (minute !== 0) {\n        return minute + \" minute\" + getPlural(minute) + \" \" + aggregatedLevel;\n    }\n    if (seconds !== 0) {\n        return seconds + \" second\" + getPlural(seconds) + \" \" + aggregatedLevel;\n    }\n    return 'N/A';\n};\nvar monitorWebglChartTooltipCss = \"monitor-webgl-chart-tooltip{--tooltip-size:8px;--tooltip-line-width:2px;pointer-events:none;position:absolute}monitor-webgl-chart-tooltip small{white-space:nowrap}monitor-webgl-chart-tooltip .awsui{position:absolute;z-index:20;min-width:90px}monitor-webgl-chart-tooltip .tooltip-container{background:var(--awsui-color-white);position:relative;display:inline-block;min-width:90px;-webkit-transition-property:left, top;transition-property:left, top;-webkit-transition-duration:120ms;transition-duration:120ms}monitor-webgl-chart-tooltip .tooltip-line{position:relative;margin-left:calc(-1 * calc(var(--tooltip-line-width) / 2));width:var(--selection-width);background-color:var(--selection-color);opacity:var(--selection-opacity)}\";\nvar AGGREGATED_LEVEL = 'average';\nvar TOOLTIP_ROW_HEIGHT = 21;\nvar TOOLTIP_EMPTY_HEIGHT = 71;\nvar X_OFFSET = 8;\nvar tooltipPosition = function (_c) {\n    var viewPort = _c.viewPort, dataContainer = _c.dataContainer, points = _c.points, resolution = _c.resolution, selectedDate = _c.selectedDate;\n    if (points.length === 0) {\n        return undefined;\n    }\n    // The date which corresponds to the position to place the tooltip\n    var date = resolution === 0 ? selectedDate : points[0].point.x;\n    var viewPortDuration = viewPort.end.getTime() - viewPort.start.getTime();\n    var datePositionRatio = (date.getTime() - viewPort.start.getTime()) / viewPortDuration;\n    var _d = dataContainer.getBoundingClientRect(), width = _d.width, height = _d.height;\n    var pixelX = width * datePositionRatio;\n    var modelY = Math.max.apply(Math, points.map(function (_c) {\n        var y = _c.point.y;\n        return y;\n    }));\n    var pixelY = height * (1 - (modelY - viewPort.yMin) / (viewPort.yMax - viewPort.yMin));\n    return { x: pixelX, y: pixelY };\n};\nvar MonitorWebglChartTooltip = /** @class */ (function () {\n    function MonitorWebglChartTooltip(hostRef) {\n        var _this_1 = this;\n        registerInstance(this, hostRef);\n        this.setSelectedDate = function (_c) {\n            var clientX = _c.clientX, buttons = _c.buttons;\n            var isMouseBeingPressed = buttons > 0;\n            if (!isMouseBeingPressed) {\n                // Determine the date which corresponds with the mouses position.\n                var _d = _this_1.viewPort, start_1 = _d.start, end = _d.end;\n                var _e = _this_1.dataContainer.getBoundingClientRect(), left_1 = _e.left, width = _e.width;\n                var ratio = (clientX - left_1) / width;\n                var viewPortDuration = end.getTime() - start_1.getTime();\n                var selectedDateMS = start_1.getTime() + viewPortDuration * ratio;\n                _this_1.selectedDate = new Date(selectedDateMS);\n            }\n            else {\n                _this_1.selectedDate = undefined;\n            }\n        };\n        this.hideTooltip = function () {\n            _this_1.selectedDate = undefined;\n        };\n        this.tooltipHeight = function () { return _this_1.dataStreamInfos.length * TOOLTIP_ROW_HEIGHT + TOOLTIP_EMPTY_HEIGHT; };\n    }\n    MonitorWebglChartTooltip.prototype.componentDidLoad = function () {\n        this.dataContainer.addEventListener('mousemove', this.setSelectedDate);\n        this.dataContainer.addEventListener('mouseleave', this.hideTooltip);\n        this.dataContainer.addEventListener('mousedown', this.hideTooltip, { capture: true });\n    };\n    MonitorWebglChartTooltip.prototype.componentDidUnload = function () {\n        this.dataContainer.removeEventListener('mousemove', this.setSelectedDate);\n        this.dataContainer.removeEventListener('mouseleave', this.hideTooltip);\n        this.dataContainer.removeEventListener('mousedown', this.hideTooltip);\n    };\n    MonitorWebglChartTooltip.prototype.render = function () {\n        var _this_1 = this;\n        var resolution = this.dataStreams.length > 0 ? this.dataStreams[0].resolution : undefined;\n        if (resolution == null || this.selectedDate == null) {\n            return null;\n        }\n        var points = activePoints({\n            viewPort: this.viewPort,\n            dataStreams: this.dataStreams,\n            selectedDate: this.selectedDate,\n            allowMultipleDates: resolution === 0,\n        });\n        var position = tooltipPosition({\n            viewPort: this.viewPort,\n            dataContainer: this.dataContainer,\n            points: points,\n            resolution: resolution,\n            selectedDate: this.selectedDate,\n        });\n        if (points.length === 0 || position == null) {\n            return null;\n        }\n        var sortedPoints = points.sort(function (a, b) { return b.point.y - a.point.y; });\n        var displayedDate = resolution === 0 ? this.selectedDate : points[0].point.x;\n        return (h(\"div\", { class: \"awsui\", style: { display: this.selectedDate ? 'unset' : 'none' } }, h(\"div\", { class: \"tooltip-line\", style: {\n                left: position.x + \"px\",\n                height: this.size.height + \"px\",\n            } }), h(\"div\", { class: \"tooltip-container\", style: {\n                left: position.x + X_OFFSET + \"px\",\n                top: position.y - (this.tooltipHeight() * 3) / 4 - this.size.height + \"px\",\n            } }, h(\"div\", { class: \"awsui-util-shadow awsui-util-p-s\" }, h(\"small\", { class: \"awsui-util-d-b\" }, displayDate(displayedDate, resolution, this.viewPort)), h(\"small\", { class: \"awsui-util-d-b awsui-util-mb-s\" }, \"\" + getAggregationFrequency(resolution, AGGREGATED_LEVEL)), sortedPoints.map(function (sortedPoint) {\n            var activeDataStreamInfo = _this_1.dataStreamInfos.find(function (dataStreamInfo) { return dataStreamInfo.id === sortedPoint.streamId; });\n            return (h(\"monitor-tooltip-row\", { dataStreamInfo: activeDataStreamInfo, activePoint: sortedPoint, thresholds: _this_1.thresholds }));\n        })))));\n    };\n    return MonitorWebglChartTooltip;\n}());\nMonitorWebglChartTooltip.style = monitorWebglChartTooltipCss;\nvar monitorWebglContextCss = \"monitor-webgl-context{--scroll-bar-size:16px;width:100%;height:100vh;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.webgl-context-canvas{position:absolute;left:0;top:0;width:calc(100vw - var(--scroll-bar-size));height:calc(100vh - var(--scroll-bar-size));display:block;pointer-events:none;z-index:10}\";\nvar MonitorWebglContext = /** @class */ (function () {\n    function MonitorWebglContext(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    MonitorWebglContext.prototype.componentDidLoad = function () {\n        var canvas = this.el.querySelector('canvas');\n        webGLRenderer.initRendering(canvas);\n    };\n    MonitorWebglContext.prototype.render = function () {\n        return h(\"canvas\", { class: \"webgl-context-canvas\" });\n    };\n    Object.defineProperty(MonitorWebglContext.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return MonitorWebglContext;\n}());\nMonitorWebglContext.style = monitorWebglContextCss;\nexport { BpErrorBadge as bp_error_badge, BpLoadingSpinner as bp_loading_spinner, MonitorDataStreamInfo as monitor_data_stream_info, MonitorDataStreamName as monitor_data_stream_name, MonitorExpandableInput as monitor_expandable_input, MonitorGestureHandler as monitor_gesture_handler, MonitorSizeProvider as monitor_size_provider, MonitorTooltipRow as monitor_tooltip_row, MonitorViewportProvider as monitor_viewport_provider, MonitorWebglAxis as monitor_webgl_axis, MonitorWebglBaseChart as monitor_webgl_base_chart, MonitorWebglChartLegend as monitor_webgl_chart_legend, MonitorWebglChartTooltip as monitor_webgl_chart_tooltip, MonitorWebglContext as monitor_webgl_context };\n","// NOTE: `enum`s are held separately from the types which are exported\n// as part of the package, since `enum`'s cannot be present in a type declaration file.\n// THis is due to an `enum` being a type plus an implementation, while type declaration\n// files can only contain typing information.\n/**\n * Maps the view model to d3 axis types. In the future we could add additional\n * custom scale types beyond what's available in `d3-axis`.\n */\nvar ScaleType;\n(function (ScaleType) {\n    ScaleType[\"TimeSeries\"] = \"time-series\";\n    ScaleType[\"Log\"] = \"log\";\n    ScaleType[\"Linear\"] = \"linear\";\n})(ScaleType || (ScaleType = {}));\nvar LEGEND_POSITION;\n(function (LEGEND_POSITION) {\n    LEGEND_POSITION[\"RIGHT\"] = \"RIGHT\";\n    LEGEND_POSITION[\"BOTTOM\"] = \"BOTTOM\";\n})(LEGEND_POSITION || (LEGEND_POSITION = {}));\nexport { LEGEND_POSITION as L, ScaleType as S };\n","var SECOND_IN_MS = 1000;\nvar MINUTE_IN_MS = 60 * SECOND_IN_MS;\nvar HOUR_IN_MS = 60 * MINUTE_IN_MS;\nvar DAY_IN_MS = 24 * HOUR_IN_MS;\n// Not precisely accurate, only estimates. exact duration depends on start date. use with care.\nvar MONTH_IN_MS = 30 * DAY_IN_MS;\nvar YEAR_IN_MS = 12 * MONTH_IN_MS;\n/**\n * ConvertMS is a helper function that will take in milliseconds and convert it to the highest detonator\n * and does not return the \"remainder\"\n *\n * It is important to note that the object returning does not represent equivalence!\n *\n * For Example:\n * convert(MINUTE_IN_MS) will return:\n * {\n *   day: 0,\n *   hour: 0\n *   minute: 1,\n *   seconds: 0,\n * }\n *\n * IT DOES NOT RETURN:\n *\n * {\n *   day: 0,\n *   hour: 0,\n *   minute: 1,\n *   seconds: 60, <--- does not return the \"equivalence\"\n * }\n */\nvar convertMS = function (milliseconds) {\n    if (milliseconds < 0) {\n        throw new Error('Time cannot be negative!');\n    }\n    var seconds = Math.floor(milliseconds / 1000);\n    var minute = Math.floor(seconds / 60);\n    var hour = Math.floor(minute / 60);\n    var day = Math.floor(hour / 24);\n    seconds %= 60;\n    minute %= 60;\n    hour %= 24;\n    return {\n        day: day,\n        hour: hour,\n        minute: minute,\n        seconds: seconds,\n    };\n};\nvar displayDate = function (date, resolution, _a) {\n    var start = _a.start, end = _a.end;\n    if (resolution < DAY_IN_MS) {\n        var viewPortDurationMS = end.getTime() - start.getTime();\n        if (viewPortDurationMS < MINUTE_IN_MS) {\n            return date.toLocaleString('en-US', {\n                minute: 'numeric',\n                second: 'numeric',\n            });\n        }\n        if (viewPortDurationMS < 10 * MINUTE_IN_MS) {\n            return date.toLocaleString('en-US', {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                hour12: true,\n            });\n        }\n        return date.toLocaleString('en-US', {\n            hour: 'numeric',\n            minute: 'numeric',\n            hour12: true,\n        });\n    }\n    if (resolution <= HOUR_IN_MS) {\n        return date.toLocaleString('en-US', {\n            hour: 'numeric',\n            day: 'long',\n            hour12: true,\n        });\n    }\n    if (resolution <= DAY_IN_MS) {\n        return date.toLocaleString('en-US', {\n            day: 'numeric',\n            month: 'long',\n        });\n    }\n    return date.toLocaleString('en-US', {\n        year: 'numeric',\n        month: 'long',\n    });\n};\nexport { DAY_IN_MS as D, HOUR_IN_MS as H, MINUTE_IN_MS as M, SECOND_IN_MS as S, YEAR_IN_MS as Y, MONTH_IN_MS as a, convertMS as c, displayDate as d };\n","import { S as ScaleType, L as LEGEND_POSITION } from './constants-2dc21ff9.js';\nvar DEFAULT_CHART_CONFIG = {\n    id: 'fake-id',\n    viewPort: {\n        start: new Date(1995, 0, 0, 0),\n        end: new Date(2020, 1, 0, 0),\n        yMin: 0,\n        yMax: 10000,\n    },\n    // width is width - marginLeft - marginRight\n    size: { width: 400 + 50 + 25, height: 350, marginLeft: 50, marginRight: 50, marginTop: 8, marginBottom: 30 },\n    movement: {\n        enableXScroll: true,\n        enableYScroll: false,\n        zoomMax: Infinity,\n        zoomMin: 0.00001,\n    },\n    layout: {\n        xGridVisible: false,\n        yGridVisible: true,\n        xTicksVisible: true,\n        yTicksVisible: true,\n    },\n    scale: {\n        xScaleType: ScaleType.TimeSeries,\n        yScaleType: ScaleType.Linear,\n        xScaleSide: 'bottom',\n        yScaleSide: 'left',\n    },\n    dataStreamInfo: [],\n    legend: {\n        position: LEGEND_POSITION.BOTTOM,\n        width: 180,\n    },\n};\nexport { DEFAULT_CHART_CONFIG as D };\n","import { W as WebGLRenderer } from './utils-ef59b734.js';\n/**\n * Convert a rect to a ClipSpaceRect\n *\n * This will return us the coordinates of a rectangle within clip space coordinates (i.e. coordinate space for webGL)\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_model_view_projection to learn more about clip space\n */\nvar clipSpaceRect = function (containerRect, canvasRect) {\n    var density = window.devicePixelRatio;\n    var left = containerRect.left, bottom = containerRect.bottom, width = containerRect.width, height = containerRect.height;\n    var canvasHeight = canvasRect.height;\n    // The coordinate y-axis is flipped between the DOM and webGL so we must correct for that.\n    // Bounding client rect measures the bottom as the distance from the top, i.e.:\n    // For DOM, (0, 0) is the top left.\n    // In WebGL, (0, 0) is the bottom left.\n    var positiveYUpBottom = canvasHeight - (bottom - window.scrollY);\n    // Need to account for pixel density - i.e. retina display\n    var pixelLeft = (left - window.scrollX) * density;\n    var pixelBottom = positiveYUpBottom * density;\n    var pixelWidth = width * density;\n    var pixelHeight = height * density;\n    return {\n        left: pixelLeft,\n        bottom: pixelBottom,\n        width: pixelWidth,\n        height: pixelHeight,\n    };\n};\n/**\n * Return a rect with the property of being unchanged upon scrolling.\n *\n * The reason this is desirable is because it allows us to not have to re-calculate all our\n * rect's every time a scroll event occurs. This allows for a smooth scroll to occur.\n */\nvar rectScrollFixed = function (el) {\n    var domRect = el.getBoundingClientRect();\n    return {\n        width: domRect.width,\n        height: domRect.height,\n        left: domRect.left + window.scrollX,\n        right: domRect.right + window.scrollX,\n        bottom: domRect.bottom + window.scrollY,\n        top: domRect.top + window.scrollY,\n        x: domRect.x + window.scrollX,\n        y: domRect.y + window.scrollY,\n    };\n};\n/**\n * A map of clip-space rectangles for chart scenes.\n *\n * Allows us to track what region in clip-space each chart scene should be rendered in.\n * The goal is to not have to continually make calls to `getBoundingClientRect` since it is an expsensive operation\n * which causes layouts to be re-calculated: http://dcousineau.com/blog/2013/09/03/high-performance-js-tip/\n */\nvar ClipSpaceRectMap = /** @class */ (function () {\n    function ClipSpaceRectMap(canvas) {\n        this.rectMap = {};\n        this.canvas = canvas;\n        this.updateCanvas();\n    }\n    /**\n     * Update DOMRect for canvas\n     */\n    ClipSpaceRectMap.prototype.updateCanvas = function () {\n        this.canvasRect = this.canvas.getBoundingClientRect();\n    };\n    /**\n     * Updates the rect for the requested chart scene\n     */\n    ClipSpaceRectMap.prototype.updateChartScene = function (chartSceneId, rect) {\n        this.rectMap[chartSceneId] = rect;\n    };\n    /**\n     * Return clip rect for the requested chart scene\n     */\n    ClipSpaceRectMap.prototype.clipRect = function (chartSceneId) {\n        return this.rectMap[chartSceneId] ? clipSpaceRect(this.rectMap[chartSceneId], this.canvasRect) : undefined;\n    };\n    /**\n     * Remove chart scene from rect map\n     */\n    ClipSpaceRectMap.prototype.removeChartScene = function (chartSceneId) {\n        delete this.rectMap[chartSceneId];\n    };\n    return ClipSpaceRectMap;\n}());\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/**\n * Render Scene Info\n *\n * Renders a single chart scene, which will represent a single, rectangular view of data\n * within the shared WebGL context.\n *\n * This technique is inspired by https://threejsfundamentals.org/threejs/lessons/threejs-multiple-scenes.html\n * In summary, each chart scene has an HTML element  - and the associated scene is rendered to overlay on the\n * rectangle defined by the given HTML element.\n */\nvar renderChartScene = function (renderer, _a, _b) {\n    var scene = _a.scene, camera = _a.camera;\n    var left = _b.left, bottom = _b.bottom, width = _b.width, height = _b.height;\n    renderer.setScissor(left, bottom, width, height);\n    renderer.setViewport(left, bottom, width, height);\n    renderer.render(scene, camera);\n};\nfunction resizeRendererToDisplaySize(renderer) {\n    var canvas = renderer.domElement;\n    var width = Math.floor(canvas.clientWidth * window.devicePixelRatio) || 0;\n    var height = Math.floor(canvas.clientHeight * window.devicePixelRatio) || 0;\n    var needResize = canvas.width !== width || canvas.height !== height;\n    if (needResize) {\n        renderer.setSize(width, height, false);\n    }\n    return needResize;\n}\n/**\n * Create a webGL renderer\n *\n * Creates a single webGL rendering context which can be shared across different visualizations.\n * The primary motivator for sharing a single WebGL context is due to the overhead and limitations on making multiple WebGL Context.\n * Resources such as buffered data and textures cannot be shared across WebGL Contexts, and furthermore, due to performance considerations\n * of have many WebGL Contexts, certain browsers have a hard limit on the number of active WebGL Contexts.\n *\n * Refer to https://stackoverflow.com/questions/59140439/allowing-more-webgl-contexts for additional context.\n */\nvar createWebGLRenderer = function () {\n    var rectMap;\n    // List of chart scenes to render in every animation loop.\n    // chart scenes should be mutated to update what gets rendered.\n    var chartScenes = [];\n    /**\n     * Add Chart Scene\n     *\n     * Adds a chart scene to be rendered within the webGL context.\n     * Once added, the given `ChartScene` will be part of the animation loop until explicitly removed.\n     */\n    var addChartScene = function (chartScene) {\n        chartScenes.push(chartScene);\n    };\n    /**\n     * Remove Chart Scene\n     *\n     * Remove and dispose of a given scene.\n     */\n    var removeChartScene = function (chartSceneId) {\n        var chartScene = chartScenes.find(function (s) { return s.id === chartSceneId; });\n        // Remove chart scene from list of registered chart scenes\n        chartScenes = chartScenes.filter(function (s) { return s.id !== chartSceneId; });\n        // Dispose of the chart scene to ensure that the memory is released\n        if (chartScene) {\n            chartScene.dispose();\n        }\n        rectMap.removeChartScene(chartSceneId);\n        fullClearAndRerender();\n    };\n    var syncCameras = function (start, end) {\n        chartScenes.forEach(function (scene) {\n            scene.updateViewPort(start, end);\n            render(scene);\n        });\n    };\n    /**\n     * Initiate Rendering Loop\n     *\n     * Begins a rendering loop to render all chart streams onto the provided canvas\n     */\n    var renderer;\n    var canvas;\n    var fullClearAndRerender = function () {\n        if (renderer) {\n            // Turn off scissor test to make the clear effect the entire canvas\n            renderer.setScissorTest(false);\n            renderer.clear();\n            renderer.setScissorTest(true);\n            // Re-render every chart scene. Necessary since entire canvas has been cleared\n            chartScenes.forEach(render);\n        }\n    };\n    var onScroll = function () {\n        if (renderer && canvas) {\n            var transform = \"translate(\" + window.scrollX + \"px, \" + window.scrollY + \"px)\";\n            // eslint-disable-next-line no-param-reassign\n            renderer.domElement.style.transform = transform;\n            rectMap.updateCanvas();\n            fullClearAndRerender();\n        }\n    };\n    var onResize = function () {\n        if (renderer && canvas) {\n            resizeRendererToDisplaySize(renderer);\n            rectMap.updateCanvas();\n            fullClearAndRerender();\n        }\n    };\n    var initRendering = function (renderCanvas) {\n        rectMap = new ClipSpaceRectMap(renderCanvas);\n        canvas = renderCanvas;\n        renderer = new WebGLRenderer({ canvas: canvas, alpha: true, antialias: true, preserveDrawingBuffer: true });\n        // Enable scissor test, which allows us to render our visualizations to a subset of the canvas\n        // https://threejs.org/docs/#api/en/renderers/WebGLRenderer.setScissor\n        // https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/scissor\n        renderer.setScissorTest(true);\n        renderer.setClearColor(0x000000, 0); // transparent clear\n        onScroll();\n        onResize();\n        window.addEventListener('scroll', onScroll);\n        window.addEventListener('resize', onResize);\n    };\n    var render = function (chartScene) {\n        var clipSpaceRect = rectMap.clipRect(chartScene.id);\n        if (renderer && canvas && clipSpaceRect) {\n            renderChartScene(renderer, chartScene, clipSpaceRect);\n        }\n    };\n    var dispose = function () {\n        if (renderer) {\n            chartScenes.map(function (_a) {\n                var id = _a.id;\n                return id;\n            }).forEach(removeChartScene);\n            renderer.dispose();\n        }\n        window.removeEventListener('scroll', onScroll);\n        window.removeEventListener('resize', onResize);\n    };\n    /**\n     * Registers the position and dimension of where the requested chart scene renders to.\n     * Clears the previous renderer location if it exists.\n     */\n    var setChartRect = function (sceneId, rect) {\n        rectMap.updateChartScene(sceneId, rect);\n        fullClearAndRerender();\n    };\n    return {\n        initRendering: initRendering,\n        dispose: dispose,\n        render: render,\n        addChartScene: addChartScene,\n        removeChartScene: removeChartScene,\n        setChartRect: setChartRect,\n        syncCameras: syncCameras,\n    };\n};\n// TODO(btd): Rather than exposing this as a singleton, it would be preferred to expose it as\n//  a shared context within a component sub-tree.\nvar webGLRenderer = createWebGLRenderer();\nexport { rectScrollFixed as r, webGLRenderer as w };\n"],"sourceRoot":""}