(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1041:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))}},1049:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return S})),a.d(e,"d",(function(){return g})),a(141);var r=a(70),n=a(1033),o=a(1035),i=a(1041),s=1,c=33.5,h=[213,219,219],l=[135,149,150],u=function(t){var e=t.nextX,a=t.currX,r=t.toClipSpace,n=t.alarms,o=n?n.expires:void 0;if(null!=o){var s=Object(i.a)(r,o);return null==e?s:Math.min(Object(i.a)(r,e-a),s)}return null!=e?Object(i.a)(r,e-a):Object(i.a)(r,Date.now()-a)},d=function(t){var e=t.dataStreams,a=t.mesh,n=t.toClipSpace,i=t.thresholds,d=t.thresholdOptions,p=t.chartSize,f=t.alarms,m=e.map((function(t){return Object(o.f)(t,t.resolution)}));a.count=function(t){return t.reduce((function(t,e){return t+Math.max(e.length,0)}),0)}(m);var b=a.geometry.attributes,S=b.color,g=b.status,v=0,w=0,y=s/e.length,C=c/p.height,O=y-C;m.forEach((function(t,e){var a,c=h;t.forEach((function(p,m){var b=(t[m+1]||[])[0],C=void 0===b?void 0:b,j=p[0],z=p[1];null!=a&&a!==z&&(c=c===h?l:h);var x=Object(r.a)(z,i);if(null!=x&&d.showColor){var M=Object(o.d)(x.color),A=M[0],B=M[1],D=M[2];S.array[w]=A,S.array[w+1]=B,S.array[w+2]=D}else{var F=c[0],U=c[1],T=c[2];S.array[w]=F,S.array[w+1]=U,S.array[w+2]=T}w+=3,g.array[v]=n(j),g.array[v+1]=s-y*(e+1),g.array[v+2]=u({currX:j,nextX:C,toClipSpace:n,alarms:f}),g.array[v+3]=O,v+=4,a=z}))})),g.needsUpdate=!0,S.needsUpdate=!0},p=[0,0,0,1,1,0,0,1,1,0,1,1],f=function(t,e){t.setAttribute("position",new n.a(new Float32Array(p),2)),t.setAttribute("status",new n.j(new Float32Array(4*e),4,!1)),t.setAttribute("color",new n.j(new Uint8Array(3*e),3,!0))},m=function(t){var e=t.alarms,a=t.dataStreams,r=t.toClipSpace,i=t.bufferFactor,s=t.minBufferSize,c=t.thresholdOptions,h=t.thresholds,l=t.chartSize,u=new n.c,p=Math.max(s,Object(o.e)(a)*i);f(u,p);var m=new n.f({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nattribute vec4 status;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  float width = status.z;\n  float height = status.w;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * width + status.x, position.y * height + status.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:n.b,transparent:!1}),b=new n.i(u,m,p);return d({dataStreams:a,mesh:b,toClipSpace:r,thresholds:h,thresholdOptions:c,chartSize:l,alarms:e}),b.frustumCulled=!1,b},b=function(t){var e=t.alarms,a=t.statuses,r=t.dataStreams,n=t.toClipSpace,o=t.thresholdOptions,i=t.thresholds,s=t.chartSize,c=t.hasDataChanged,h=t.hasAnnotationChanged,l=t.hasSizeChanged;(c||h||l)&&d({dataStreams:r,mesh:a,toClipSpace:n,thresholds:i,thresholdOptions:o,chartSize:s,alarms:e})},S=function(t){var e=t.alarms,a=t.dataStreams,r=t.container,i=t.viewport,s=t.bufferFactor,c=t.minBufferSize,h=t.onUpdate,l=t.thresholdOptions,u=t.thresholds,d=t.chartSize,p=new n.g,f=Object(o.a)(i);return p.add(m({alarms:e,dataStreams:a,toClipSpace:f,bufferFactor:s,minBufferSize:c,thresholdOptions:l,thresholds:u,chartSize:d})),Object(o.c)({scene:p,viewport:i,container:r,toClipSpace:f,onUpdate:h})},g=function(t){var e=t.scene,a=t.alarms,r=t.dataStreams,n=t.minBufferSize,i=t.bufferFactor,s=t.viewport,c=t.container,h=t.onUpdate,l=t.chartSize,u=t.thresholdOptions,d=t.thresholds,p=t.hasDataChanged,f=t.hasAnnotationChanged,m=t.hasSizeChanged,g=e.scene.children[0];return function(t){return t.geometry.attributes.status.array.length/4}(g)<Object(o.e)(r)||Object(o.b)(s,e.toClipSpace)?S({onUpdate:h,dataStreams:r,alarms:a,container:c,viewport:s,minBufferSize:n,bufferFactor:i,chartSize:l,thresholdOptions:u,thresholds:d}):(b({alarms:a,statuses:g,dataStreams:r,toClipSpace:e.toClipSpace,thresholdOptions:u,thresholds:d,chartSize:l,hasDataChanged:p,hasAnnotationChanged:f,hasSizeChanged:m}),e)}},923:function(t,e,a){"use strict";a.r(e),a.d(e,"multiple_statuses",(function(){return f}));var r=a(14),n=(a(8),a(39)),o=(a(141),a(65)),i=(a(70),a(55),a(77),a(142),a(1033),a(1042)),s=a(1049),c=(a(1034),a(1037),a(1038),a(1035),a(1041),a(1044)),h=new Date(2e3,0,0),l=new Date(2e3,0,1),u=l.getTime()-h.getTime(),d={x:h.getTime()+u/3,y:25},p={x:h.getTime()+u*(2/3),y:50},f=function(){function t(t){Object(r.l)(this,t)}return t.prototype.componentDidLoad=function(){var t,e,a=this.el.querySelector("#test-container"),r=Object(s.c)({alarms:{expires:5*o.b},viewport:{start:h,end:l,yMin:0,yMax:s.a},dataStreams:[{id:"test-stream",aggregates:(t={},t[5*o.b]=[d],t),data:[],resolution:5*o.b,name:"test-stream-name",color:"black",dataType:n.b.NUMBER},{id:"test-stream-2",aggregates:(e={},e[5*o.b]=[p],e),data:[],name:"test-stream-name-2",color:"red",resolution:5*o.b,dataType:n.b.NUMBER}],container:a,chartSize:c.a,minBufferSize:100,bufferFactor:2,thresholdOptions:{showColor:!1},thresholds:[]});i.b.addChartScene({manager:r});var u=a.getBoundingClientRect();i.b.setChartRect(r.id,Object.assign({density:1},u.toJSON()))},t.prototype.render=function(){return Object(r.j)("sc-webgl-context",null,Object(r.j)("div",{id:"test-container",style:{width:c.a.width+"px",height:c.a.height+"px"}}))},Object.defineProperty(t.prototype,"el",{get:function(){return Object(r.i)(this)},enumerable:!1,configurable:!0}),t}()}}]);